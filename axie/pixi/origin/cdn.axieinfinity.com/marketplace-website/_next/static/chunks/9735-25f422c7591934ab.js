"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9735],{89735:function(f,b,a){a.d(b,{NI:function(){return v},O4:function(){return t},QO:function(){return s},pW:function(){return u},t:function(){return w}});var c=a(34051),g=a.n(c),h=a(85893),d=a(14293),i=a.n(d),e=a(11163),j=a.n(e),k=a(67294),l=a(60114),m=a(11030);function n(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function o(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){n(g,e,f,d,h,"next",a)}function h(a){n(g,e,f,d,h,"throw",a)}d(void 0)})}}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(a){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function r(a,b){return(r=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var s=function(a){return function(d){"use strict";!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),a&&r(b,a)}(b,d);var e,f,k=(e=b,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var b,d,a,c,g=q(e);if(f){var h=q(this).constructor;c=Reflect.construct(g,arguments,h)}else c=g.apply(this,arguments);return d=this,(a=c)&&("object"==((b=a)&&"undefined"!=typeof Symbol&&b.constructor===Symbol?"symbol":typeof b)||"function"==typeof a)?a:function(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function b(){return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),k.apply(this,arguments)}var c=b.prototype;return c.componentDidMount=function(){var a=(0,m.hP)();i()(a)&&"/login"!==j().pathname?j().push("/login","/login"):i()(a)||"/login"!==window.location.pathname||j().push("/profile","/profile/dashboard")},c.render=function(){return(0,h.jsx)(a,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){p(d,a,c[a])})}return d}({},this.props))},b.getInitialProps=function(b){return o(g().mark(function c(){var d;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(d={},"function"!=typeof a.getInitialProps){c.next=5;break}return c.next=4,a.getInitialProps(b);case 4:d=c.sent;case 5:return c.abrupt("return",d);case 6:case"end":return c.stop()}},c)}))()},b}(k.Component)},t=function(){var b,c,d,i=(0,e.useRouter)(),a=(0,k.useState)(!1),f=a[0],j=a[1],n=(b=o(g().mark(function a(b){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(l.v.serviceAuthEndpoint,"/login-zendesk"),{method:"POST",headers:{Authorization:"Bearer ".concat(b)}});case 2:return c=a.sent,a.abrupt("return",c.text());case 4:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}),p=(c=o(g().mark(function a(b,c){var d,e,f,h,i;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d="https://skymavis.zendesk.com/access/jwt",a.next=3,n(b);case 3:f={jwt:e=a.sent},c&&(f.return_to=c),h=new URLSearchParams(f),i="".concat(d,"?").concat(h.toString()),location.replace(i);case 9:case"end":return a.stop()}},a)})),function(a,b){return c.apply(this,arguments)}),h=(d=o(g().mark(function a(){var b,c,d,e,f,h;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j(!0),a.prev=1,c=(b=i.asPath).split("?")[1],e=(d=new URLSearchParams(c)).get("src"),f=d.get("return_to"),h=(0,m.hP)(),!("zendesk"===e&&h)){a.next=11;break}return a.next=11,p(h,null!=f?f:void 0);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),console.log(a.t0);case 16:return a.prev=16,j(!1),a.finish(16);case 19:case"end":return a.stop()}},a,null,[[1,13,16,19]])})),function(){return d.apply(this,arguments)});return{checkForZendesk:h,loading:f}},u=function(){var a=(0,k.useState)(),b=a[0],c=a[1];return(0,k.useEffect)(function(){var b=j().asPath.split("?")[1],a=new URLSearchParams(b).get("src");c(null!=a?a:void 0)},[]),b},v=function(){var b,c,d,i=(0,e.useRouter)(),a=(0,k.useState)(!1),f=a[0],j=a[1],n=(b=o(g().mark(function a(b){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(l.v.serviceAuthEndpoint,"/login-collab-land"),{method:"POST",headers:{Authorization:"Bearer ".concat(b)}});case 2:return c=a.sent,a.abrupt("return",c.text());case 4:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}),p=(c=o(g().mark(function a(b,c){var d,e,f,h,i;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d="https://roll.collab.land/axies",a.next=3,n(b);case 3:f={token:e=a.sent},c&&(f.stateId=c),h=new URLSearchParams(f),i="".concat(d,"?").concat(h.toString()),location.replace(i);case 9:case"end":return a.stop()}},a)})),function(a,b){return c.apply(this,arguments)}),h=(d=o(g().mark(function a(){var b,c,d,e,f,h;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j(!0),a.prev=1,c=(b=i.asPath).split("?")[1],e=(d=new URLSearchParams(c)).get("src"),f=d.get("stateId"),h=(0,m.hP)(),!("collabland"===e&&h&&f)){a.next=11;break}return a.next=11,p(h,f);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),console.log(a.t0);case 16:return a.prev=16,j(!1),a.finish(16);case 19:case"end":return a.stop()}},a,null,[[1,13,16,19]])})),function(){return d.apply(this,arguments)});return{checkForCollabLand:h,loading:f}},w=function(){var b,c,d,i=(0,e.useRouter)(),a=(0,k.useState)(!1),f=a[0],j=a[1],n=(b=o(g().mark(function a(b){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(l.v.serviceAuthEndpoint,"/login-commonwealth"),{method:"POST",headers:{Authorization:"Bearer ".concat(b)}});case 2:return c=a.sent,a.abrupt("return",c.text());case 4:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}),p=(c=o(g().mark(function a(b,c){var d,e,f,h,i;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d="https://commonwealth.im/finishaxielogin",a.next=3,n(b);case 3:f={token:e=a.sent},c&&(f.stateId=c),h=new URLSearchParams(f),i="".concat(d,"?").concat(h.toString()),location.replace(i);case 9:case"end":return a.stop()}},a)})),function(a,b){return c.apply(this,arguments)}),h=(d=o(g().mark(function a(){var b,c,d,e,f,h;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j(!0),a.prev=1,c=(b=i.asPath).split("?")[1],e=(d=new URLSearchParams(c)).get("src"),f=d.get("stateId"),h=(0,m.hP)(),!("commonwealth"===e&&h&&f)){a.next=11;break}return a.next=11,p(h,f);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),console.log(a.t0);case 16:return a.prev=16,j(!1),a.finish(16);case 19:case"end":return a.stop()}},a,null,[[1,13,16,19]])})),function(){return d.apply(this,arguments)});return{checkForCommonWealth:h,loading:f}}}}])