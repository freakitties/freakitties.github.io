(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{87237:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return c(45228)}])},98063:function(d,b,a){"use strict";a.d(b,{L:function(){return g}});var e=a(85893);a(67294);var c=a(49204),f=a.n(c),g=function(a){var b=a.size;return(0,e.jsx)("div",{className:"absolute ".concat(f().LoadingWrapper),children:(0,e.jsx)("img",{src:"/static/image/puff-loading.png",style:{maxWidth:b},className:f().Spin})})}},54073:function(c,b,a){"use strict";a.d(b,{R:function(){return e}});var d=a(47890),e=function(e){for(var c=arguments.length,f=new Array(c>1?c-1:0),a=1;a<c;a++)f[a-1]=arguments[a];var b=e.map(function(a,b){return b<e.length-1?a+f[b]:a}).join("");return(0,d.isAddress)(b)&&b.startsWith("0x")?"ronin:".concat(b.split("0x")[1]):b}},70607:function(d,b,a){"use strict";a.d(b,{d:function(){return r}});var c=a(34051),e=a.n(c),f=a(85893),g=a(18499),h=a(81981),i=a(21033),j=a(96486),k=a(67294),l=a(28647),m=a(60114),n=a(89181);function o(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function p(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function q(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){p(g,e,f,d,h,"next",a)}function h(a){p(g,e,f,d,h,"throw",a)}d(void 0)})}}var r=function(c){var b,d,z,A,B,C=c.open,D=c.onClose,a=c.fixedEmail,p=(0,k.useState)(""),r=p[0],K=p[1],s=(0,k.useState)(!1),t=s[0],L=s[1],u=(0,k.useState)(),v=u[0],M=u[1],w=(0,k.useState)(!1),E=w[0],N=w[1],x=(0,k.useState)(!1),F=x[0],O=x[1],y=(0,k.useState)(),P=y[0],Q=y[1],G=(0,k.useRef)(null),H=(b=(0,g.Db)(n.rd),d=1,function(a){if(Array.isArray(a))return a}(b)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(b,d)||function(a,c){if(a){if("string"==typeof a)return o(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return o(a,c)}}(b,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),R=H[0],S=(z=q(e().mark(function b(c){var d,f,g,h;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return N(!0),M(void 0),b.next=5,R({context:{headers:{"captcha-token":JSON.stringify(c)}},variables:{email:a||r}});case 5:(null===(d=(f=b.sent).data)||void 0===d?void 0:d.requestResetPassword.result)===!0?L(f.data.requestResetPassword.result):(M(null===(g=f.data)||void 0===g?void 0:g.requestResetPassword.data),null==G||null===(h=G.current)||void 0===h||h.reset()),N(!1);case 8:case"end":return b.stop()}},b)})),function(a){return z.apply(this,arguments)}),I=(A=q(e().mark(function a(){var b,c;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(N(!0),!(0,j.isEmpty)(P)){a.next=5;break}return(null==G?void 0:null===(b=G.current)||void 0===b?void 0:b.init)&&(null==G||null===(c=G.current)||void 0===c||c.init()),a.abrupt("return");case 5:return a.next=7,S(P);case 7:case"end":return a.stop()}},a)})),function(){return A.apply(this,arguments)}),J=(B=q(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Q(b),a.next=3,S(b);case 3:case"end":return a.stop()}},a)})),function(a){return B.apply(this,arguments)});return(0,f.jsxs)(i.Dialog,{open:C,onClose:function(){L(!1),K(""),D(),M(void 0)},title:"Reset password",children:[!1===t&&(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"text-center px-32",children:[(0,f.jsx)("img",{className:"mx-auto",width:142,src:"/static/image/question-ginger.png"}),(0,f.jsx)("div",{className:"mt-16 text-20 leading-24",children:"Forget password ?"}),(0,f.jsxs)("div",{className:"mt-12 text-gray-1",children:[!a&&"Enter the email address linked with your account. ","We will email you a link to reset your password."]})]}),(0,f.jsxs)("div",{className:"mt-24 mx-auto",style:{width:300},children:[(0,f.jsx)(i.InputGroup,{placeholder:"Email",disabled:void 0!==a,value:a||r,onChange:function(a){K(a.currentTarget.value),O((0,l.oH)(a.currentTarget.value))},fullWidth:!0,onKeyPress:function(a){"Enter"===a.key&&!0===F&&I()}}),v&&(0,f.jsx)("div",{className:"mt-4 text-12 leading-16 text-warning-4",children:v}),(0,f.jsx)(h.Captcha,{registerEndpoint:m.v.registerCaptchaEndpoint,type:"GEETEST",ref:G,geetestProductType:"bind",autoVerify:!0,onSuccess:J,onClose:function(){return N(!1)}}),(0,f.jsx)("div",{className:"mt-20",children:(0,f.jsx)(i.Button,{disabled:void 0===a&&!F,loading:E,fullWidth:!0,intent:i.IntentType.Primary,onClick:I,children:"Email me"})})]})]}),!0===t&&(0,f.jsxs)("div",{className:"text-center px-32",children:[(0,f.jsx)("img",{className:"mx-auto",width:142,src:"/static/image/email-ginger.png"}),(0,f.jsx)("div",{className:"mt-16 text-20 leading-24",children:"An email has been sent"}),(0,f.jsxs)("div",{className:"text-gray-1 mt-24",children:["An email has been sent to\xa0",(0,f.jsx)("strong",{className:"text-white",children:r||a}),". Follow the instruction in the email to reset your password."]}),(0,f.jsx)("div",{className:"mt-24",children:(0,f.jsx)(i.Button,{fullWidth:!0,onClick:D,intent:i.IntentType.Primary,children:"Close"})})]})]})}},2729:function(c,b,a){"use strict";a.d(b,{V:function(){return m},j:function(){return n}});var d=a(85893),e=a(21033),f=a(67294),g=a(76614),h=a(81291),i=a(65988),j=a(54073);function k(){var a,b,c=(a=["",""],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return k=function(){return c},c}var l=function(a){var b=a.accountRoninAddress,c=a.onClose;return(0,d.jsxs)(e.Dialog,{title:"Mismatch Ronin address",dismissable:!1,open:a.open,onClose:c,children:[(0,d.jsx)(i.default,{id:"7abb5b3243e12cc2",children:"#react-aria-modal-dialog{width:640px!important}"}),(0,d.jsxs)("div",{style:{width:"100%"},className:"jsx-7abb5b3243e12cc2 text-center",children:[(0,d.jsx)("img",{src:"/static/image/ronin-warning.png",width:72,height:80,className:"jsx-7abb5b3243e12cc2 m-auto"}),(0,d.jsx)("div",{className:"jsx-7abb5b3243e12cc2 text-white text-20 leading-28 mt-20",children:"Wrong Ronin Wallet"}),(0,d.jsxs)("div",{className:"jsx-7abb5b3243e12cc2 text-14 text-center text-gray-1 mt-8",children:["Your current Axie account and Ronin wallet address don\u2019t match. ",(0,d.jsx)("br",{className:"jsx-7abb5b3243e12cc2"}),"Please go to your Ronin wallet and switch the address to:"]}),b&&(0,d.jsx)("div",{style:{background:"#3a3f50",width:200,color:"#a1a6b6"},className:"jsx-7abb5b3243e12cc2 text-16 leading-20 rounded-4 py-0 px-8 truncate mt-8 mx-auto",children:(0,j.R)(k(),b)}),(0,d.jsx)("div",{className:"jsx-7abb5b3243e12cc2 flex flex-row justify-center mt-28",children:(0,d.jsx)(e.Button,{onClick:c,children:"Got it"})})]})]})},m=function(a){var c=a.open,b=a.onClose;return(0,d.jsx)(e.Dialog,{open:c,onClose:b,title:" ",dismissable:!1,children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("img",{src:"/static/image/ronin-locked.png",width:72,height:79,className:"mx-auto"}),(0,d.jsx)("div",{className:"mt-12 text-20 leading-28",children:"Unlock Ronin Wallet"}),(0,d.jsx)("div",{className:"mt-8 text-gray-1",children:"Please unlock your Ronin Wallet to perform this action."}),(0,d.jsx)("div",{className:"mt-24",children:(0,d.jsx)(e.Button,{onClick:b,children:"Got it"})})]})})},n=function(){var a,b=(0,g.ec)(),p=b.activeRoninAddress,e=b.profile,t=b.roninConnection,i=(0,f.useState)(!1),c=i[0],u=i[1],j=(0,f.useState)(!1),q=j[0],v=j[1],k=(0,f.useState)(!1),r=k[0],w=k[1],n=(0,f.useState)(!1),s=n[0],x=n[1],o=function(){u(!1)},y=function(){var a=void 0===t.connector;return v(a),a},z=function(){var a=void 0===p;return x(a),a},A=function(){var a=void 0!==p&&(null==e?void 0:e.addresses.ronin)!==void 0&&p!==(null==e?void 0:e.addresses.ronin);return w(a),a};return q?a=(0,d.jsx)(h.u,{wallet:h.S.Ronin,open:c,onClose:function(){return u(!1)}}):s?a=(0,d.jsx)(m,{open:c,onClose:o}):r&&(a=(0,d.jsx)(l,{open:c,onClose:o,accountRoninAddress:null==e?void 0:e.addresses.ronin,activeRoninAddress:p})),{checkForUnlocked:function(){return!(y()||z()||A())||(u(!0),!1)},dialog:a}}},45228:function(k,b,a){"use strict";a.r(b),a.d(b,{"default":function(){return ak}});var l=a(85893),m=a(21033),n=a(67294),o=a(1086),p=a(88562),q=a(73935),r=a(98063),s=function(){var a;return q.createPortal((0,l.jsx)("div",{className:"flex w-screen h-screen fixed top-0",style:{background:"rgba(0,0,0,0.5)"},children:(0,l.jsx)(r.L,{})}),null!==(a=null==document?void 0:document.body)&&void 0!==a?a:null)},t=a(38096),u=a(22873),c=a(34051),d=a.n(c),v=a(18499),w=a(81981),x=a(96486),e=a(14293),y=a.n(e),f=a(11163),z=a.n(f),A=a(60114),B=a(89181),C=a(87460),g=a(49704),D=a.n(g);function E(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function h(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){E(g,e,f,d,h,"next",a)}function h(a){E(g,e,f,d,h,"throw",a)}d(void 0)})}}var i,F=(i=h(d().mark(function a(b){var c,e,f,g,i;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=(c=D().decode(b)).roninAddress,f=function(){var a=h(d().mark(function a(){var b,c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(A.v.gameEndpoint,"/clients/").concat(e,"/migration"));case 2:return b=a.sent,a.next=5,b.json();case 5:return c=a.sent.is_migrated,a.abrupt("return",c);case 7:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),g=function(){var a=h(d().mark(function a(){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("".concat(A.v.gameEndpoint,"/clients/").concat(e,"/migration"),{method:"POST"});case 2:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}(),a.next=7,f();case 7:!1===(i=a.sent)&&g(),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.error(a.t0);case 14:case"end":return a.stop()}},a,null,[[0,11]])})),function(a){return i.apply(this,arguments)}),G=a(89735),H=a(70607);function I(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function J(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function K(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){J(g,e,f,d,h,"next",a)}function h(a){J(g,e,f,d,h,"throw",a)}d(void 0)})}}var L=function(){var a,b,r,s,t,S=(0,f.useRouter)(),c=(0,n.useState)(!1),u=c[0],T=c[1],e=(0,n.useState)(""),z=e[0],D=e[1],g=(0,n.useState)(""),h=g[0],U=g[1],i=(0,n.useState)(""),E=i[0],J=i[1],j=(0,n.useState)(!0),L=j[0],V=j[1],k=(0,n.useState)(!1),M=k[0],W=k[1],N=(a=(0,v.Db)(B.IO),b=1,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||function(a,c){if(a){if("string"==typeof a)return I(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return I(a,c)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),X=N[0],o=(0,n.useState)(!1),O=o[0],Y=o[1],p=(0,n.useState)(),Z=p[0],$=p[1],_=(0,G.O4)().checkForZendesk,P=(0,n.useRef)(null),Q=(r=K(d().mark(function a(b){return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return $(b),a.next=3,aa(b);case 3:case"end":return a.stop()}},a)})),function(a){return r.apply(this,arguments)}),aa=(s=K(d().mark(function a(b){var c,e,f,g,h,i;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,W(!0),a.next=4,X({variables:{email:z,password:(0,C.OB)(E)},context:{headers:{"captcha-token":JSON.stringify(b)}}});case 4:if(c=a.sent.data,y()(c)){a.next=15;break}if(f=(e=c.createAccessToken).result,g=e.accessToken,!(f&&!y()(g))){a.next=14;break}return F(g),L?localStorage.setItem("accessToken",g):sessionStorage.setItem("accessToken",g),a.next=12,_();case 12:return S.push("/profile/dashboard","/profile/dashboard"),a.abrupt("return");case 14:U("Could not login");case 15:a.next=24;break;case 17:a.prev=17,a.t0=a.catch(0),i=a.t0.graphQLErrors[0].message,null==P||null===(h=P.current)||void 0===h||h.reset(),$(void 0),U(i);case 24:return a.prev=24,W(!1),a.finish(24);case 27:case"end":return a.stop()}},a,null,[[0,17,24,27]])})),function(a){return s.apply(this,arguments)}),R=(t=K(d().mark(function a(b){var c,e;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(W(!0),null==b||b.preventDefault(),!(0,x.isEmpty)(Z)){a.next=6;break}return(null==P?void 0:null===(c=P.current)||void 0===c?void 0:c.init)&&(null==P||null===(e=P.current)||void 0===e||e.init()),a.abrupt("return");case 6:return a.next=8,aa(Z);case 8:case"end":return a.stop()}},a)})),function(a){return t.apply(this,arguments)}),q=function(a){return function(b){a(b.currentTarget.value),U("")}};return u?(0,l.jsxs)("form",{className:"border px-20 py-32 border-gray-3 rounded bg-gray-4",onSubmit:R,children:[(0,l.jsx)(H.d,{open:O,onClose:function(){Y(!1)}}),(0,l.jsx)(m.InputGroup,{required:!0,fullWidth:!0,placeholder:"Email",value:z,onChange:q(D)}),(0,l.jsx)("div",{className:"mt-20"}),(0,l.jsx)(m.InputGroup,{required:!0,fullWidth:!0,placeholder:"Password",type:"password",value:E,onChange:q(J)}),(0,l.jsx)("div",{className:"mt-20"}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(m.Checkbox,{checked:L,onChange:function(a){V(a.currentTarget.checked)},children:"Remember me"}),(0,l.jsx)("div",{className:"text-primary-4 text-12 hover:cursor-pointer",onClick:function(){return Y(!0)},children:"Forget password?"})]}),!y()(h)&&(0,l.jsx)("h6",{className:"pt-8 pb-4 text-danger-4 text-center",children:h}),(0,l.jsx)("div",{className:"flex justify-center flex-col mt-20",children:(0,l.jsx)(w.Captcha,{className:"w-full",registerEndpoint:A.v.registerCaptchaEndpoint,ref:P,type:"GEETEST",geetestProductType:"bind",autoVerify:!0,onSuccess:Q})}),(0,l.jsx)(m.Button,{loading:M,fullWidth:!0,intent:m.IntentType.Primary,children:(0,l.jsx)("h6",{className:"font-medium",children:"Sign in"})})]}):(0,l.jsx)(m.Button,{fullWidth:!0,onClick:function(){T(!0)},children:(0,l.jsxs)("div",{className:"flex justify-center items-center",children:[(0,l.jsx)("img",{width:"32",className:"mr-12 inline-block",src:"/static/image/mail-white.png"}),(0,l.jsx)("h5",{className:"text-16 leading-24 font-medium inline-block",children:"Login with email & password"})]})})},M=a(70687),N=a(95673),O=a(76614),j=a(79361),P=a.n(j),Q=function(b){var a=b.success;return(0,l.jsx)("div",{className:"absolute top-0 left-0 h-full w-full",style:{background:"rgba(17, 19, 27, 0.9)"},children:(0,l.jsxs)("div",{style:{marginTop:80},children:[(0,l.jsxs)("div",{className:"relative mx-auto",style:{height:48,width:48},children:[void 0===a&&(0,l.jsx)(r.L,{size:48}),!1===a&&(0,l.jsx)(m.Icon,{name:p.AN,size:48,color:"#be3637"}),!0===a&&(0,l.jsx)(m.Icon,{name:p.Y_,size:48,color:"#0fb35b"})]}),(0,l.jsxs)("div",{className:"text-16 leading-24 text-center mt-8",children:[void 0===a&&(0,l.jsx)("span",{children:"Confirm a signature request your app"}),!0===a&&(0,l.jsx)("span",{style:{color:"#0fb35b"},children:"Successfully logged in."}),!1===a&&(0,l.jsxs)("span",{style:{color:"#fe383f"},children:["Something went wrong. ",(0,l.jsx)("br",{}),"Close this dialog and try again."]})]})]})})};function R(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function S(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function T(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||U(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(a,c){if(a){if("string"==typeof a)return R(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return R(a,c)}}var V=function(){var a,b,c=T((0,v.Db)(B.IU),1)[0],e=T((0,v.Db)(B.dL),1)[0];return{loginWithWeb3:(b=(a=d().mark(function a(b,f){var g,h,i,j,k,l,m,n;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c();case 2:if((null==(g=a.sent.data)?void 0:g.createRandomMessage)!==void 0){a.next=5;break}throw new Error("Something wrong while create random message");case 5:return a.next=7,b.getAvailableAddressesAsync();case 7:return h=a.sent,i=null==g?void 0:g.createRandomMessage,j=h[0],a.next=12,b.signMessageAsync(j,i);case 12:return k=a.sent,a.next=15,e({variables:{input:{mainnet:f,owner:j,message:i,signature:k}}});case 15:if(!("string"!=typeof(n=null==(m=(l=a.sent).data)?void 0:m.createAccessTokenWithSignature.accessToken))){a.next=20;break}throw new Error("Something wrong while create new access token");case 20:return a.abrupt("return",{accessToken:n,newlyCreatedAccount:null==m?void 0:m.createAccessTokenWithSignature.newAccount,response:m});case 21:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){S(g,e,f,d,h,"next",a)}function h(a){S(g,e,f,d,h,"throw",a)}d(void 0)})}),function(a,c){return b.apply(this,arguments)})}};function W(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var X=function(g){var h,i,j=g.className,a=(0,n.useState)(),b=a[0],r=a[1],c=(0,n.useState)(!1),k=c[0],s=c[1],t=V().loginWithWeb3,u=(0,O.ec)().reloadDataAndEventListener,e=(0,n.useState)(!1),o=e[0],v=e[1],f=(0,n.useState)(),p=f[0],w=f[1],q=(i=(h=d().mark(function a(){var b,c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,v(!1),localStorage.removeItem("walletconnect"),(b=(0,N.createRoninMobileConnector)()).on("display_uri",function(a){r(a),s(!0)}),a.next=7,b.connect();case 7:return v(!0),a.next=10,t(new M.Cx(b.provider),"ronin");case 10:return c=a.sent.accessToken,w(!0),localStorage.setItem("accessToken",c),a.next=15,u();case 15:z().replace("/profile/dashboard"),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),w(!1);case 21:case"end":return a.stop()}},a,null,[[0,18]])}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=h.apply(a,b);function c(a){W(f,d,e,c,g,"next",a)}function g(a){W(f,d,e,c,g,"throw",a)}c(void 0)})}),function(){return i.apply(this,arguments)});return(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)(m.Button,{onClick:q,fullWidth:!0,children:(0,l.jsxs)("div",{className:"flex justify-center items-center",children:[(0,l.jsx)("img",{width:"28",className:"mr-12 inline-block",src:"/static/icons/qr-code.png"}),(0,l.jsx)("h5",{className:"text-16 leading-24 font-medium inline-block",children:"Login by QR code"})]})}),(0,l.jsxs)(m.Dialog,{open:k,onClose:function(){s(!1)},title:"Log in with Ronin Wallet",hideTitle:!1,children:[b&&(0,l.jsxs)("div",{className:"h-full relative mx-auto",style:{width:230},children:[(0,l.jsx)(P(),{className:"bg-white p-12 mt-20 mx-auto",value:b,size:230,imageSettings:{excavate:!0,src:"/static/favicon.ico",height:50,width:50}}),o&&(0,l.jsx)(Q,{success:p})]}),(0,l.jsx)("div",{style:{color:"#a1a6b6"},className:"text-14 leading-20 mt-16 text-center",children:"Scan this QR code with Ronin Mobile App"})]})]})},Y=function(){var b=(0,O.ec)(),c=b.activeRoninAddress,a=b.profile,d=b.roninConnection;return{isInstalled:!y()(d.connector),isMismatched:void 0!==c&&(null==a?void 0:a.addresses.ronin)!==void 0&&c!==(null==a?void 0:a.addresses.ronin),isLocked:y()(void 0===c),redirectToRoninHomePage:function(){window.location.href="https://wallet.skymavis.com/"}}},Z=a(97154);function $(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function _(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function aa(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){_(g,e,f,d,h,"next",a)}function h(a){_(g,e,f,d,h,"throw",a)}d(void 0)})}}function ab(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||ac(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ac(a,c){if(a){if("string"==typeof a)return $(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return $(a,c)}}var ad=function(a){var g=a.mainnet,r=a.onWalletLocked,s=a.onUnlinkedWalletError;(0,f.useRouter)();var b=(0,n.useState)(!1),h=b[0],t=b[1],c=(0,n.useState)(!1),i=c[0],u=c[1],e=(0,O.ec)(),w=e.scopedWeb3;e.scopedRoninWeb3;var j,k,l,m=ab((0,v.Db)(B.IU),1),x=m[0],o=ab((0,v.Db)(B.dL),1),A=o[0],D=(0,G.O4)().checkForZendesk,E=(0,G.NI)().checkForCollabLand,H=(0,G.t)().checkForCommonWealth,I=V().loginWithWeb3,J=(j=aa(d().mark(function a(b){var c,e,f,g;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(y()(b)){a.next=13;break}if(e=(c=b.createAccessTokenWithSignature).newAccount,f=c.result,g=c.accessToken,!(f&&!y()(g))){a.next=13;break}return F(g),localStorage.setItem("accessToken",g),a.next=7,D();case 7:return a.next=9,E();case 9:return a.next=11,H();case 11:e&&localStorage.setItem("newAccount","true"),z().replace("/profile/dashboard");case 13:case"end":return a.stop()}},a)})),function(a){return j.apply(this,arguments)}),p=(k=aa(d().mark(function a(){var b,c,e,f;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b=(0,N.createRoninConnector)(),a.next=4,b.connect();case 4:return c=new M.Cx(b.provider),u(!0),a.next=8,c.getAvailableAddressesAsync();case 8:if(!((e=a.sent).length<1)){a.next=12;break}return"function"==typeof r&&r(),a.abrupt("return");case 12:return a.next=14,I(c,"ronin");case 14:J(f=a.sent.response);case 16:return a.prev=16,u(!1),a.finish(16);case 19:case"end":return a.stop()}},a,null,[[0,,16,19]])})),function(){return k.apply(this,arguments)}),q=(l=aa(d().mark(function a(){var b,c,e,f,h,i,j,k;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,Z.Dx)(!0);case 3:if(b=a.sent,!(y()(b)||y()(w))){a.next=7;break}return t(!0),a.abrupt("return");case 7:return u(!0),a.next=10,x();case 10:if(c=a.sent.data,y()(c)){a.next=32;break}return e=c.createRandomMessage,a.next=15,(0,C._g)(w.web3Wrapper,e);case 15:return h=(f=a.sent).signer,i=f.signature,a.prev=18,a.next=21,A({variables:{input:{mainnet:g,owner:h,message:e,signature:i}}});case 21:J(k=(j=a.sent).data),a.next=32;break;case 26:if(a.prev=26,a.t0=a.catch(18),console.error(a.t0.message),!a.t0.message.includes("This Ethereum address is not linked")){a.next=32;break}return"function"==typeof s&&s(),a.abrupt("return");case 32:return a.prev=32,u(!1),a.finish(32);case 35:case"end":return a.stop()}},a,null,[[0,,32,35],[18,26]])})),function(){return l.apply(this,arguments)});return{loading:i,login:"ronin"===g?p:q,visible:h,onCloseDialog:function(){return t(!1)}}},ae=a(2729),af=function(){var a=(0,n.useState)(!1),d=a[0],f=a[1],b=Y(),g=b.isInstalled,h=b.redirectToRoninHomePage,c=ad({mainnet:"ronin",onWalletLocked:function(){f(!0)}}),e=c.loading,i=c.login;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ae.V,{open:d,onClose:function(){f(!1)}}),(0,l.jsx)("div",{className:"mb-20",children:(0,l.jsx)(m.Button,{intent:m.IntentType.Primary,loading:e,fullWidth:!0,onClick:function(){if(!g){h();return}i()},children:(0,l.jsxs)("div",{className:"flex justify-center items-center",children:[(0,l.jsx)("img",{width:"32",className:"mr-12 inline-block",src:"/static/image/ronin-white.png"}),(0,l.jsx)("h5",{className:"text-16 leading-24 font-medium inline-block",children:"Login with Ronin Wallet"})]})})})]})},ag=a(69888);function ah(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var ai=function(){var e,f,k=V().loginWithWeb3,o=(0,O.ec)().reloadDataAndEventListener,a=(0,n.useState)(!1),g=a[0],p=a[1],b=(0,n.useState)(!1),h=b[0],q=b[1],c=(0,n.useState)(),i=c[0],r=c[1],j=(f=(e=d().mark(function a(){var b,c;return d().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,p(!1),localStorage.removeItem("walletconnect"),(b=(0,N.createRoninMobileConnector)()).on("display_uri",function(a){q(!0);var b=encodeURIComponent(a),c="".concat(ag.G.applink,"/auth-connect?uri=").concat(b);window.open(c,"_self")}),a.next=7,b.connect();case 7:return p(!0),a.next=10,k(new M.Cx(b.provider),"ronin");case 10:return c=a.sent.accessToken,r(!0),localStorage.setItem("accessToken",c),a.next=15,o();case 15:z().replace("/profile/dashboard"),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),r(!1);case 21:case"end":return a.stop()}},a,null,[[0,18]])}),function(){var a=this,b=arguments;return new Promise(function(d,f){var g=e.apply(a,b);function c(a){ah(g,d,f,c,h,"next",a)}function h(a){ah(g,d,f,c,h,"throw",a)}c(void 0)})}),function(){return f.apply(this,arguments)});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-20",children:(0,l.jsx)(m.Button,{intent:m.IntentType.Primary,loading:g,fullWidth:!0,onClick:j,children:(0,l.jsxs)("div",{className:"flex justify-center items-center",children:[(0,l.jsx)("img",{width:"32",className:"mr-12 inline-block",src:"/static/image/ronin-white.png"}),(0,l.jsx)("h5",{className:"text-16 leading-24 font-medium inline-block",children:"Login with Ronin Wallet"})]})})}),(0,l.jsx)(m.Dialog,{open:h,onClose:function(){q(!1)},title:"Log in with Ronin Wallet",hideTitle:!1,children:(0,l.jsx)("div",{className:"h-full relative mx-auto mt-16",style:{width:200,height:200},children:(0,l.jsx)(Q,{success:i})})})]})},aj=function(a){return(0,l.jsx)("a",{style:{color:"#0066f4"},href:a.href,target:"_blank",rel:"noreferrer",className:"inline-flex items-center",children:a.children})},ak=function(){var a=(0,G.O4)(),e=a.checkForZendesk,b=a.loading,c=(0,G.pW)();(0,n.useEffect)(function(){e()},[]);var d=(0,u.$)()?(0,l.jsx)(ai,{}):(0,l.jsx)(af,{});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.F,{title:"Login | Axie Infinity"}),(0,l.jsx)(t.v,{}),b&&(0,l.jsx)(s,{}),(0,l.jsx)("div",{className:"w-full absolute flex p-8 overflow-y-auto",style:{height:"calc(100vh - 88px)",top:52},children:(0,l.jsxs)("div",{className:"mx-auto",style:{width:420,paddingTop:120},children:[d,(0,l.jsx)(X,{className:"mb-24"}),"collabland"!==c&&(0,l.jsx)(L,{}),(0,l.jsxs)("div",{className:"text-center mt-12 flex justify-center w-full items-center",children:[(0,l.jsx)(m.Icon,{name:p.jq}),(0,l.jsxs)("span",{className:"ml-8 text-gray-1 text-14",children:["By continuing, you agree to our"," ",(0,l.jsx)(aj,{href:"https://axieinfinity.com/terms/",children:"Terms of Use"})]})]}),(0,l.jsxs)("div",{className:"w-full flex items-center mt-20 leading-20 text-14 justify-center pt-20",style:{color:"#6B7185",borderTop:"1px solid #3A3F50"},children:[(0,l.jsx)("div",{children:"Don\u2019t know where to start?"}),(0,l.jsxs)("a",{href:"https://welcome.skymavis.com/",target:"_blank",rel:"noreferrer",className:"inline-flex items-center",style:{color:"#0066f4"},children:[(0,l.jsx)(m.Icon,{name:p.w3,color:"#0066f4",size:20}),"Getting Started"]})]})]})}),(0,l.jsxs)("div",{className:"w-full h-20 absolute flex justify-center text-14 leading-20 font-medium",style:{bottom:16},children:[(0,l.jsx)("div",{children:"\xa9 Sky Mavis"}),(0,l.jsx)("div",{className:"mx-20",children:(0,l.jsx)("a",{href:"https://discord.gg/axie",target:"_blank",rel:"noreferrer",children:(0,l.jsx)("span",{className:"text-primary-3 cursor-pointer",children:"Discord"})})}),(0,l.jsx)("div",{children:(0,l.jsx)("a",{href:"https://cdn.axieinfinity.com/skymavis/terms-of-use.pdf",target:"_blank",rel:"noreferrer",children:(0,l.jsx)("span",{className:"text-primary-3 cursor-pointer",children:"Term of use"})})})]})]})}},87460:function(i,d,a){"use strict";a.d(d,{OB:function(){return r},PV:function(){return q},"_g":function(){return p}});var e=a(34051),b=a.n(e),j=a(55835),k=a(21964),f=a(14293),l=a.n(f),m=a(48764).Buffer;function n(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function c(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){n(g,e,f,d,h,"next",a)}function h(a){n(g,e,f,d,h,"throw",a)}d(void 0)})}}var g,h,o="Lunacia Kingdom",p=(g=c(b().mark(function a(c){var d,e,f,g,h,i,j,n,p=arguments;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=p.length>1&&void 0!==p[1]?p[1]:o,e=p.length>2?p[2]:void 0,a.next=3,c.getAvailableAddressesAsync();case 3:if(!((f=a.sent).length>0)){a.next=13;break}return i={method:"personal_sign",params:[g=(0,k.bufferToHex)(m.from(d,"utf8")),h=e||f[0]]},a.next=10,new Promise(function(a,b){return c.getProvider().sendAsync(i,function(d,c){return l()(d)&&!l()(c)?a(c.result):b("User cancelled")})});case 10:return n={signer:h,signature:j=a.sent},a.abrupt("return",n);case 13:return a.abrupt("return",Promise.reject("User is not logged in"));case 14:case"end":return a.stop()}},a)})),function(a){return g.apply(this,arguments)}),q=(h=c(b().mark(function a(c){var d,e,f,g,h,i,j,n,p=arguments;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=p.length>1&&void 0!==p[1]?p[1]:o,e=p.length>2?p[2]:void 0,a.next=3,c.getAvailableAddressesAsync();case 3:if(!((f=a.sent).length>0)){a.next=13;break}return i={method:"personal_sign",params:[g=(0,k.bufferToHex)(m.from(d,"utf8")),h=e]},a.next=10,new Promise(function(a,b){return c.getProvider().send(i,function(d,c){return l()(d)&&!l()(c)?a(c.result):b("User cancelled")})});case 10:return n={signer:h,signature:j=a.sent},a.abrupt("return",n);case 13:return a.abrupt("return",Promise.reject("User is not logged in"));case 14:case"end":return a.stop()}},a)})),function(a){return h.apply(this,arguments)}),r=function(b){var a=j.createHash("sha256");return a.update(b),a.digest("hex").toString()}},49204:function(a){a.exports={Spin:"PuffLoading_Spin__lHlTM",spin:"PuffLoading_spin__Hdd_5",LoadingWrapper:"PuffLoading_LoadingWrapper__ZDD_3"}},16978:function(){},27790:function(){}},function(a){a.O(0,[206,1964,1981,9704,8096,9735,9774,2888,179],function(){return a(a.s=87237)}),_N_E=a.O()}])