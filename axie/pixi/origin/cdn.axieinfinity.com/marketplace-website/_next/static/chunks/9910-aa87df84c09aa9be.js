(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9910],{74316:function(i,d,a){"use strict";a.d(d,{H:function(){return E},w:function(){return b}});var b,c,j=a(85893),k=a(21033),e=a(13550),l=a.n(e),f=a(94184),m=a.n(f),n=a(93377),o=a(60114),g=a(14293),p=a.n(g),q=a(67294),r=a(72072),s=a(47890),t=a(88562),u=a(55153),h=a(19980),v=a.n(h),w=a(76167),x=a(15538),y=function(a){var b=a.onClickConfirm,c=a.onClickBack;return(0,j.jsxs)("div",{className:"mt-24 flex justify-center items-center",children:[(0,j.jsx)("div",{className:"mr-8",children:(0,j.jsx)(k.Button,{onClick:c,children:"Back"})}),(0,j.jsx)(k.Button,{intent:k.IntentType.Primary,onClick:b,children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(k.Icon,{name:t.Vp,color:"var(--color-white)"}),(0,j.jsx)("div",{className:"ml-8",children:"Confirm"})]})})]})},z=a(35598),A=function(a){var d=a.itemType,e=a.minPrice,f=a.currentPrice,g=a.sellType,l=a.currentMinPriceOfAuction,c=(0,q.useMemo)(function(){return d.toLocaleLowerCase()},[d]),h=(0,q.useMemo)(function(){return g===b.AUCTION?"endPrice"===l?"Your end price":"Your start price":"Your list price"},[g]),i=(0,q.useMemo)(function(){return"You are about to list your ".concat(c," for more than \n    ").concat(z.Ch,"% below the current floor. Are you sure\n    you want to do that?")},[c]);return(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"flex justify-center",children:(0,j.jsx)(k.Icon,{name:t.ft,color:"var(--color-warning-4)",size:48})}),(0,j.jsx)("h4",{className:"mt-20",children:"Low list price "}),(0,j.jsx)("p",{className:"mt-20 mb-32 text-gray-1 leading-20",children:i}),(0,j.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center border rounded-12 border-gray-2 px-32 py-20",children:[(0,j.jsxs)("div",{className:"text-left mb-16 md:mb-0 md:mr-24",children:[(0,j.jsxs)("div",{className:"text-gray-1 font-bold leading-14 text-10 tracking-1 uppercase mb-2",children:["Current ",c," Floor"]}),(0,j.jsx)("div",{className:"leading-20",children:e})]}),(0,j.jsxs)("div",{className:"text-left md:ml-24",children:[(0,j.jsx)("div",{className:"text-gray-1 font-bold leading-14 text-10 tracking-1 uppercase mb-2",children:h}),(0,j.jsx)("div",{className:"leading-20",children:f})]})]})]})};(c=b||(b={})).FIXED_PRICE="fixed",c.AUCTION="auction";var B=function(b){var a=parseFloat(b);return!isNaN(a)&&a<0},C=function(a){return B(a)?k.IntentType.Danger:void 0},D=function(){return(0,j.jsx)("a",{style:{color:"#046cfc"},target:"_blank",href:"https://whitepaper.axieinfinity.com/axie-infinity-history/future-streams",rel:"noreferrer",children:"4.25% fee"})},E=function(c){var _=c.onCreateAuction,aa=c.onSetDismissable,ab=c.onSetErrorMessageCreateAuction,g=c.errorOnTop,h=c.itemType,e=c.assetData,i=c.minPrice,B=c.isLoadingMinPrice,R="true"===localStorage.getItem(x.C),ac=(0,n.o)({requireConfig:o.v.gaTrackingCode}).GAService,E=(0,q.useState)(b.FIXED_PRICE),a=E[0],ad=E[1],F=(0,q.useState)("0.3"),f=F[0],ae=F[1],G=(0,q.useState)("0.5"),d=G[0],af=G[1],H=(0,q.useState)("1"),I=H[0],ag=H[1],J=(0,q.useState)(),K=J[0],ah=J[1],L=(0,q.useState)(R),M=L[0],ai=L[1],N=(0,q.useState)(!1),S=N[0],aj=N[1],ak=(0,q.useRef)(null),O=h===w.B.Axie,T=h===w.B.Land,U=h===w.B.Bundle,P=O&&!M,V=!p()(i),W=(0,q.useMemo)(function(){return V&&S},[V,S]),X=(0,q.useMemo)(function(){if(a===b.AUCTION){var c=Math.min(+f,+d);return c===+f?"startPrice":c===+d?"endPrice":void 0}},[a,f,d]),Q=function(a){af(a.currentTarget.value)},al=function(){var c=parseFloat(f),e=parseFloat(d),g=parseInt(I);return c<0?(ah("Start price cannot be negative."),!1):e<0?(ah("End price cannot be negative."),!1):g<=0?(ah("Duration cannot be zero or negative."),!1):g>1e3?(ah("Duration must be less than or equal to ".concat(1e3,".")),!1):a!==b.AUCTION||(0,u.S)(c,e)?(ah(""),!0):(ah("The limit difference between the start and end price shall not exceed x100 times."),!1)},am=function(){aj(!0),aa&&aa(!1),ac.sendEvent({action:r.V3.LOW_PRICED_VIEW_DIALOG,category:r.H7.LOW_PRICED,label:r.Ok.LOW_PRICED_VIEW_DIALOG})},an=function(a){ad(a)},Y=function(){aj(!1),aa&&aa(!0),ak.current=null,ac.sendEvent({action:r.V3.LOW_PRICED_CLICK_BACK,category:r.H7.LOW_PRICED,label:r.Ok.LOW_PRICED_CLICK_BACK})},Z=U?c.itemType:T?"".concat(e.landType," plot (").concat(e.col,", ").concat(e.row,")"):e.name,$=K?(0,j.jsxs)("div",{className:"text-warning-3 mt-4 ".concat(v().ErrorMessage),children:[" ",(0,j.jsx)("img",{className:v().WarningIcon,src:"/static/icons/warning.png"}),K]}):null;return W?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(A,{itemType:c.itemType||w.B.Axie,minPrice:i,sellType:a,currentPrice:a===b.FIXED_PRICE?d:Math.min(+f,+d),currentMinPriceOfAuction:X}),(0,j.jsx)(y,{onClickBack:Y,onClickConfirm:function(){aj(!1),ak.current&&(_(ak.current),Y()),ac.sendEvent({action:r.V3.LOW_PRICED_CLICK_CONFIRM,category:r.H7.LOW_PRICED,label:r.Ok.LOW_PRICED_CLICK_CONFIRM})}})]}):(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:m()("flex items-center",{hidden:c.itemType===w.B.Bundle}),children:[(0,j.jsx)(k.Icon,{name:t.Vp,color:"var(--color-white)"}),(0,j.jsxs)("h4",{className:"ml-8",children:["Sell ",c.itemType||""]})]}),(0,j.jsxs)("div",{className:"mt-20 text-gray-1 leading-20",children:["Choose your sale method for"," ",(0,j.jsx)("span",{className:"text-white",children:Z}),":"]}),(0,j.jsxs)("div",{className:"flex mt-16",children:[(0,j.jsxs)("div",{className:m()("cursor-pointer relative flex-1 flex justify-center items-center border rounded-4 p-8 transition-all",{"border-gray-2 hover:border-white bg-gray-4":a!==b.FIXED_PRICE,"border-primary-4 bg-primary-6":a===b.FIXED_PRICE}),onClick:function(){return an(b.FIXED_PRICE)},children:[(0,j.jsx)("span",{className:"text-14 leading-20 font-medium",children:"Fixed price"}),a===b.FIXED_PRICE&&(0,j.jsx)("div",{className:"absolute",style:{right:8},children:(0,j.jsx)(k.Icon,{name:t.Y_,color:"var(--color-primary-4)"})})]}),(0,j.jsx)("div",{className:"px-4"}),(0,j.jsxs)("div",{className:m()("cursor-pointer relative flex-1 flex justify-center items-center border rounded-4 p-8 transition-all",{"border-gray-2 hover:border-white bg-gray-4":a!==b.AUCTION,"border-primary-4 bg-primary-6":a===b.AUCTION}),onClick:function(){return an(b.AUCTION)},children:[(0,j.jsx)("span",{className:"text-14 leading-20 font-medium",children:"Auction"}),a===b.AUCTION&&(0,j.jsx)("div",{className:"absolute",style:{right:8},children:(0,j.jsx)(k.Icon,{name:t.Y_,color:"var(--color-primary-4)"})})]})]}),(0,j.jsxs)("div",{className:"mt-20 text-gray-1 leading-20",children:[a===b.FIXED_PRICE&&(0,j.jsx)("span",{children:"Your asset will be listed on the Marketplace with a fixed price. In order to get it back, you'll have to cancel the sale."}),a===b.AUCTION&&(0,j.jsx)("span",{children:"For auctions, you can set the price to increase or decrease over time. Once it reaches the final price, it'll stay on the market at this price. In order to get it back, you'll have to cancel the sale."})]}),a===b.FIXED_PRICE&&(0,j.jsxs)("div",{className:"mt-24",children:[(0,j.jsxs)("div",{className:"flex justify-between items-center",children:[(0,j.jsx)("div",{children:"Sell at"}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"mr-8",children:"\u039E"}),(0,j.jsx)("div",{className:"input-wrapper",children:(0,j.jsx)(k.InputGroup,{intent:C(d),type:"number",value:d,onChange:Q,min:0,step:.1})})]})]}),(0,j.jsx)("div",{className:"flex justify-end mt-4",children:(0,j.jsxs)("div",{className:"flex flex-col text-12 leading-16 font-medium text-gray-1 text-right",style:{width:300},children:[(0,j.jsxs)("div",{children:["You'll receive"," ",(0,j.jsxs)("span",{className:"font-bold",children:[(0,u.iQ)(+d)," \u039E"]})," ","after"]}),(0,j.jsxs)("div",{children:[" ","subtracting a ",(0,j.jsx)(D,{}),"."]})]})})]}),a===b.AUCTION&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"mt-24",children:[(0,j.jsxs)("div",{className:"flex justify-between items-center",children:[(0,j.jsx)("div",{children:"Start price"}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"mr-8",children:"\u039E"}),(0,j.jsx)("div",{className:"input-wrapper",children:(0,j.jsx)(k.InputGroup,{intent:C(f),type:"number",value:f,onChange:function(a){ae(a.currentTarget.value)},min:0,step:.1})})]})]}),(0,j.jsxs)("div",{className:"flex justify-between mt-20 items-center",children:[(0,j.jsx)("div",{children:"End price"}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"mr-8",children:"\u039E"}),(0,j.jsx)("div",{className:"input-wrapper",children:(0,j.jsx)(k.InputGroup,{intent:C(d),type:"number",value:d,onChange:Q,min:0,step:.1})})]})]}),(0,j.jsxs)("div",{className:"flex justify-between mt-20 items-center",children:[(0,j.jsx)("div",{children:"Duration"}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"mr-8",children:"days"}),(0,j.jsx)("div",{className:"input-wrapper",children:(0,j.jsx)(k.InputGroup,{intent:C(I),type:"number",value:I,onChange:function(a){ag(a.currentTarget.value)},min:1,step:1})})]})]})]}),(0,j.jsxs)("div",{className:"flex items-center mt-20",children:[(0,j.jsx)(k.Icon,{name:t.jq,color:"var(--color-gray-2)"}),(0,j.jsxs)("span",{className:"ml-4 text-14 leading-20 font-medium text-gray-1",children:["A ",(0,j.jsx)(D,{})," will be taken from the final sale price."]})]})]}),g&&(0,j.jsx)("div",{className:"h-16 text-left text-warning-4 mt-4",children:g}),O&&(0,j.jsx)("div",{className:"mt-8",children:(0,j.jsx)(k.Checkbox,{checked:M,onChange:function(){var a=!M;ai(a),localStorage.setItem(x.C,"".concat(a))},children:(0,j.jsx)("h5",{className:"ml-8 text-gray-1",children:"I understand that after successfully bought, Axie level will reset to 1."})})}),$,(0,j.jsx)("div",{className:"mt-16 text-right",children:(0,j.jsx)(k.Button,{intent:k.IntentType.Primary,onClick:function(g){g.preventDefault(),ab&&ab();var h=al();if(ak.current=null,h){var j=new(l())(I).mul(new(l())(86400)),c=new(l())(s.toWei(d,"ether")),k=a===b.FIXED_PRICE?c:new(l())(s.toWei(f,"ether")),e={startPrice:k,endPrice:c,duration:j},m=!!V&&(0,z.YV)({sellType:a,fixedPrice:parseFloat(d),startPrice:parseFloat(f),endPrice:parseFloat(d),minPrice:i});m?(ak.current=e,am()):_(e)}},disabled:Boolean(g)||P||B,loading:B,children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(k.Icon,{name:t.Vp,color:P?"var(--color-gray-2)":"var(--color-white)"}),(0,j.jsx)("div",{className:"ml-8",children:"Confirm"})]})})})]})}},76167:function(g,d,a){"use strict";a.d(d,{p:function(){return A},B:function(){return c}});var b,c,e=a(34051),h=a.n(e),i=a(85893),j=a(21033),f=a(13550),k=a.n(f),l=a(9008),m=a(67294),n=a(76614),o=a(17151),p=a(69463),q=a(54695),r=a(85433),s=a(74316),t=a(61169),u=a(18499),v=a(35598),w=function(a){var f=a.skipFetch,b=a.itemType,g=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["skipFetch","itemType"]),c=(0,m.useRef)({data:null,status:"initial"}),h="done"===c.current.status||f,d=(0,v.mF)(g,b),i=d.query,j=d.variables,e=(0,u.aM)(i,{errorPolicy:"all",variables:j,skip:h,fetchPolicy:"cache-and-network",onCompleted:function(a){c.current={data:a,status:"done"}},onError:function(){c.current={data:null,status:"done"}}}),k=e.data||c.current.data||null;return{minPrice:(0,v.LV)(k,b),loading:e.loading}};function x(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function y(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){x(g,e,f,d,h,"next",a)}function h(a){x(g,e,f,d,h,"throw",a)}d(void 0)})}}function z(a){throw a}(b=c||(c={})).Axie="Axie",b.Land="Land",b.Item="Item",b.Bundle="Bundle";var A=function(a){var B,C,D,E,d=(0,m.useState)(!0),F=d[0],L=d[1],e=a.isOpen,M=a.onClose,N=a.tokenId,b=a.itemType,O=(0,q.P)().logActivity,P=(0,n.jS)(),f=(0,m.useState)(),g=f[0],G=f[1],u=(0,o.r)(),Q=u.checkLandApproval,R=u.checkItemApproval,x=(0,r.I)(),S=x.openTransactionSubmission,H=x.dialog,A=w({skipFetch:!e,itemType:b,axieId:(0,v.HY)(a.assetData.id),col:(0,v.HY)(a.assetData.col),row:(0,v.HY)(a.assetData.row),itemAlias:(0,v.HY)(a.assetData.itemAlias),itemId:(0,v.HY)(a.assetData.itemId)}),I=A.minPrice,J=A.loading,T=(0,t.t)({assetData:a.assetData,itemType:b}).trackEventAssetListed,U=(B=y(h().mark(function b(c){var d,e,f,g,i,j,l,m,n,o;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=c.startPrice,e=c.endPrice,f=c.duration,i=(g=P()).activeRoninAddress,j=g.scopedRoninWeb3,m=(l=a.assetData).row,n=l.col,b.next=5,Q();case 5:return b.next=7,j.clockAuctionContract.createAuction2([1],[j.landContract.address],[new(k())(N)],[d],[e],[j.roninWETHContract.address],[f]).sendGetTxHash({from:i});case 7:return o=b.sent,b.next=10,O(p.aU.ListLand,{row:m,col:n,priceFrom:d.toString(),priceTo:e.toString(),duration:f.toString(),txHash:o});case 10:return b.abrupt("return",o);case 11:case"end":return b.stop()}},b)})),function(a){return B.apply(this,arguments)}),V=(C=y(h().mark(function b(c){var d,e,f,g,i,j,l,m,n,o,q;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=c.startPrice,e=c.endPrice,f=c.duration,i=(g=P()).activeRoninAddress,j=g.scopedRoninWeb3,m=(l=a.assetData).itemAlias,n=l.itemId,o=l.tokenId,b.next=5,R();case 5:return b.next=7,j.clockAuctionContract.createAuction2([1],[j.itemContract.address],[new(k())(o)],[d],[e],[j.roninWETHContract.address],[f]).sendGetTxHash({from:i});case 7:return q=b.sent,b.next=10,O(p.aU.ListItem,{itemAlias:m,tokenId:n,priceFrom:d.toString(),priceTo:e.toString(),duration:f.toString(),txHash:q});case 10:return b.abrupt("return",q);case 11:case"end":return b.stop()}},b)})),function(a){return C.apply(this,arguments)}),W=(D=y(h().mark(function b(d){var e,f,g,i,j,l,c,c,m;return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return e=d.startPrice,f=d.endPrice,g=d.duration,j=(i=P()).activeRoninAddress,l=i.scopedRoninWeb3,c=null!==(c=a.assetData)?c:z(new TypeError("Cannot destructure undefined")),b.next=5,l.clockAuctionContract.createAuction2([1],[l.axieContract.address],[new(k())(N)],[e],[f],[l.roninWETHContract.address],[g]).sendGetTxHash({from:j});case 5:return m=b.sent,b.next=8,O(p.aU.ListAxie,{axieId:N,priceFrom:e.toString(),priceTo:f.toString(),duration:g.toString(),txHash:m});case 8:return b.abrupt("return",m);case 9:case"end":return b.stop()}},b)})),function(a){return D.apply(this,arguments)}),K=(E=y(h().mark(function a(d){var e;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e="",G(void 0),a.prev=2,a.t0=b,a.next=a.t0===c.Axie?6:a.t0===c.Land?10:a.t0===c.Item?14:18;break;case 6:return a.next=8,W(d);case 8:return e=a.sent,a.abrupt("break",18);case 10:return a.next=12,U(d);case 12:return e=a.sent,a.abrupt("break",18);case 14:return a.next=16,V(d);case 16:return e=a.sent,a.abrupt("break",18);case 18:T({auctionData:d}),M(),S({message:"Transaction submitted successfully.",txHash:e}),a.next=27;break;case 23:a.prev=23,a.t1=a.catch(2),console.error(a.t1),G("Oops, something went wrong.");case 27:case"end":return a.stop()}},a,null,[[2,23]])})),function(a){return E.apply(this,arguments)});return(0,i.jsxs)(i.Fragment,{children:[H,(0,i.jsxs)(j.Dialog,{open:e,dismissable:F,onClose:function(){G(void 0),M()},title:"Sell",children:[(0,i.jsx)(l.default,{children:(0,i.jsx)("link",{href:"/static/css/create-auction-dialog.css",rel:"stylesheet"})}),(0,i.jsx)(s.H,{onCreateAuction:K,onSetDismissable:function(a){L(a)},onSetErrorMessageCreateAuction:G,itemType:b,assetData:a.assetData,minPrice:I,isLoadingMinPrice:J}),g&&(0,i.jsx)("span",{className:"text-warning-4",children:g})]})]})}},15538:function(h,b,a){"use strict";a.d(b,{r:function(){return z},C:function(){return y}});var i=a(85893),j=a(21033),c=a(52353),k=a.n(c),l=a(67294),m=a(88562),n=a(65211),o=a(18499),d=a(39693),p=a.n(d),e=a(23279),q=a.n(e),f=a(41609),r=a.n(f),g=a(14293),s=a.n(g),t=a(94207),u=a(28647),v=a(9691);function w(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var x=function(c){var a,d,e=c.searchString,g=c.checkEmptyProfile,j=c.getSelectedAddress,h={searchString:e.toLowerCase()},f=(a=(0,o.td)(v.vI,{variables:h}),d=2,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,d)||function(a,c){if(a){if("string"==typeof a)return w(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return w(a,c)}}(a,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=f[0],b=f[1].data;return((0,l.useEffect)(function(){var a=q()(function(){m({variables:h})},500);return(0,u.YN)(t.ny.Ronin,e)&&a(),function(){return a.cancel()}},[e]),k()(b)||""===e||r()(b.profileSearch))?(g(b),null):(0,i.jsx)("div",{className:"border border-t-0 border-gray-3 bg-gray-6 p-12 overflow-y-auto rounded-4 min-h-full",style:{maxHeight:220,width:"calc(460px - 64px)"},children:p()(b.profileSearch).map(function(a){var c,b=a.addresses.ronin?(0,u.NH)(t.ny.Ronin,a.addresses.ronin):"--";return(0,i.jsxs)("div",{className:"cursor-pointer mb-12",onClick:(c=b,function(){s()(c)||(g(void 0),j(c))}),children:[(0,i.jsx)("h5",{className:"text-white",children:a.name||"--"}),(0,i.jsx)("h6",{className:"text-gray-2",children:s()(b)?"--":b})]},"".concat(a.accountId).concat(b))})})},y="accepted-axie-transfer-policy",z=function(a){var c=a.address,q=a.axieName,r=a.doGift,d=a.error,u=a.handleChangeAddress,e=a.itemType,s="true"===localStorage.getItem(y),f=(0,l.useState)(s),g=f[0],v=f[1],h=(0,l.useState)(!1),t=h[0],w=h[1],b=e===n.l.Axie,o=b&&!g,p=(0,l.useRef)(null),z=function(a){k()(a)||""===c?w(!1):w(!0)},A=function(a){u(a.currentTarget.value)},B=function(a){u(a)};return(0,i.jsxs)("div",{ref:p,children:[(0,i.jsxs)("div",{className:"flex items-center mb-24",children:[(0,i.jsx)(j.Icon,{name:m.nc,color:"var(--color-white)"}),(0,i.jsxs)("h4",{className:"ml-8",children:["Gift your ",n.l[e]]})]}),(0,i.jsxs)("h6",{className:"text-gray-1",children:["You are about to gift ",(0,i.jsx)("span",{className:"text-white",children:q})," to other person, enter receiver's"," ",(0,i.jsx)("span",{className:"text-white font-bold",children:"Ronin wallet address"})," to continue:"]}),(0,i.jsx)("div",{className:"mt-20",children:(0,i.jsx)(j.Popover,{usePortal:!0,portalContainer:p.current||void 0,position:"bottom-start",disableOnClickOutsideContent:!0,target:function(a,b){return(0,i.jsx)(j.InputGroup,{placeholder:"Receiver\u2019s Ronin wallet address",fullWidth:!0,intent:void 0!==d?j.IntentType.Danger:void 0,value:c,onChange:A,onFocus:a,onBlur:b})},children:function(){return(0,i.jsx)(x,{searchString:c,itemType:e,checkEmptyProfile:z,getSelectedAddress:B})}})}),!b&&c.includes("0x")&&(0,i.jsxs)("div",{className:"flex items-start al mt-12",children:[(0,i.jsx)(j.Icon,{name:m.ft,color:"var(--color-warning-4)"}),(0,i.jsx)("h5",{className:"text-warning-4 ml-8",children:"This address is not Ronin address, make sure it\u2019s on Ronin address."})]}),b&&c.includes("loom:")&&(0,i.jsxs)("div",{className:"flex items-start al mt-12",children:[(0,i.jsx)(j.Icon,{name:m.ft,color:"var(--color-warning-4)"}),(0,i.jsx)("h5",{className:"text-warning-4 ml-8",children:"This address is not Ethereum address, make sure it\u2019s Ethereum address."})]}),t&&(0,i.jsxs)("div",{className:"flex items-start al mt-12",children:[(0,i.jsx)(j.Icon,{name:m.ft,color:"var(--color-warning-4)"}),(0,i.jsx)("h5",{className:"text-warning-4 ml-8",children:"This address is not in our Marketplace, make sure it\u2019s the right one."})]}),d&&(0,i.jsx)("div",{className:"h-16 text-left text-danger-3 mt-4",children:d}),b&&(0,i.jsx)(j.Checkbox,{checked:g,onChange:function(){var a=!g;v(a),localStorage.setItem(y,"".concat(a))},children:(0,i.jsx)("h5",{className:"mt-8 ml-8 text-gray-1",children:"I understand that after successfully gifting, Axie level will reset to 1."})}),(0,i.jsx)("div",{className:"mt-24 text-right",children:(0,i.jsx)(j.Button,{intent:j.IntentType.Primary,onClick:r,disabled:o,children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(j.Icon,{name:m.nc,color:o?"var(--color-gray-2)":"var(--color-white)"}),(0,i.jsx)("div",{className:"ml-8",children:"Gift"})]})})})]})}},65211:function(h,d,a){"use strict";a.d(d,{O:function(){return z},l:function(){return c}});var b,c,e=a(34051),i=a.n(e),j=a(85893),k=a(21033),f=a(13550),l=a.n(f),g=a(14293),m=a.n(g),n=a(9008),o=a(67294),p=[{id:"-501",newId:"4154"},{id:"-502",newId:"4155"},{id:"-503",newId:"4156"},],q=a(76614),r=a(94207),s=a(28647),t=a(69463),u=a(54695),v=a(85433),w=a(15538);function x(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function y(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){x(g,e,f,d,h,"next",a)}function h(a){x(g,e,f,d,h,"throw",a)}d(void 0)})}}(b=c||(c={}))[b.Axie=0]="Axie",b[b.Land=1]="Land",b[b.Item=2]="Item";var z=function(a){var g,h,x,z,A=a.axieName,B=a.isOpen,C=a.itemType,I=a.tokenId,D=a.onClose,b=(0,o.useState)(""),E=b[0],J=b[1],d=(0,o.useState)(),F=d[0],K=d[1],L=(0,u.P)().logActivity,e=(0,q.ec)(),M=e.scopedRoninWeb3,N=e.activeRoninAddress,f=(0,v.I)(),G=f.dialog,O=f.openTransactionSubmission,P=function(){if(m()(M)||m()(N))throw new Error("Web3 is not found.");return{scopedRoninWeb3:M,address:N}},Q=(g=y(i().mark(function a(b){var c,d,e,f,g;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=(c=P()).address,e=c.scopedRoninWeb3,f=(0,s.qL)(E),a.next=4,e.axieContract.safeTransferFrom1(d,f,new(l())(b)).sendGetTxHash();case 4:return g=a.sent,a.next=7,L(t.aU.GiftAxie,{axieId:b,txHash:g,destination:f});case 7:return a.abrupt("return",g);case 8:case"end":return a.stop()}},a)})),function(a){return g.apply(this,arguments)}),R=(h=y(i().mark(function b(c){var d,e,f,g,h,j,k,m;return i().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return e=(d=P()).address,f=d.scopedRoninWeb3,h=(g=a.assetData).row,j=g.col,k=(0,s.qL)(E),b.next=5,f.landContract.safeTransferFrom1(e,k,new(l())(c)).sendGetTxHash({from:e});case 5:return m=b.sent,b.next=8,L(t.aU.GiftLand,{row:h,col:j,destination:k,txHash:m});case 8:return b.abrupt("return",m);case 9:case"end":return b.stop()}},b)})),function(a){return h.apply(this,arguments)}),S=(x=y(i().mark(function b(c){var d,e,f,g,h,j,k,m;return i().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return e=(d=P()).address,f=d.scopedRoninWeb3,h=(g=a.assetData).itemAlias,j=g.itemId,k=(0,s.qL)(E),b.next=5,f.itemContract.safeTransferFrom1(e,k,new(l())(c)).sendGetTxHash({from:e});case 5:return m=b.sent,b.next=8,L(t.aU.GiftItem,{itemAlias:h,tokenId:j,destination:k,txHash:m});case 8:return b.abrupt("return",m);case 9:case"end":return b.stop()}},b)})),function(a){return x.apply(this,arguments)}),T=function(){switch(C){case c.Axie:case c.Item:case c.Land:var a=(0,s.YN)(r.ny.Ronin,E);return!1===a&&K("Invalid receiver Ronin address. Ronin address starts with ronin:."),a}},H=(z=y(i().mark(function b(){var d,e,f,g;return i().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!1!==(d=T())){b.next=3;break}return b.abrupt("return");case 3:f=void 0!==(e=p.find(function(a){return a.id===I}))?e.newId:I,g="",b.t0=C,b.next=b.t0===c.Axie?9:b.t0===c.Land?13:b.t0===c.Item?18:23;break;case 9:return b.next=11,Q(f);case 11:return g=b.sent,b.abrupt("break",23);case 13:return a.onClose(),b.next=16,R(I);case 16:return g=b.sent,b.abrupt("break",23);case 18:return a.onClose(),b.next=21,S(I);case 21:return g=b.sent,b.abrupt("break",23);case 23:O({txHash:g,message:"Transaction submitted successfully."}),D();case 25:case"end":return b.stop()}},b)})),function(){return z.apply(this,arguments)});return(0,j.jsxs)(j.Fragment,{children:[G,(0,j.jsxs)(k.Dialog,{open:B,onClose:D,title:"Gift",children:[(0,j.jsx)(n.default,{children:(0,j.jsx)("link",{href:"/static/css/create-auction-dialog.css",rel:"stylesheet"})}),(0,j.jsx)(w.r,{axieName:A,address:E,doGift:H,error:F,handleChangeAddress:function(a){J(a),K(void 0)},itemType:C})]})]})}},61169:function(c,b,a){"use strict";a.d(b,{t:function(){return k}});var d=a(50014),e=a(60943),f=a(54539),g=a(88466),h=a(47890),i=a(55153),j=a(76167),k=function(a){var b=a.assetData,c=a.itemType,k=(0,d.J)().exchangeRate;return{trackEventAssetListed:function(n){var l=n.auctionData;if(b&&k)try{var m=Number(h.fromWei(l.startPrice,"ether")),d=Number(h.fromWei(l.endPrice,"ether")),o=(0,i.iQ)(d),p=(0,g.Uy)(o,f.Tm.WETH,k),q=(0,g.Uy)(m,f.Tm.WETH,k),r=(0,g.Uy)(d,f.Tm.WETH,k),a={crypto_currency:f.Tm.WETH.symbol,crypto_quantity:d,start_price:m,end_price:d,start_usd_price:q,end_usd_price:r,usd_price_include_fee:p,asset_type:c,asset_id:""};switch(c){case j.B.Axie:a.asset_id=b.id,(0,e.Lu)(a);break;case j.B.Land:a.asset_id=[b.row,b.col,].join(","),(0,e.Lu)(a);break;case j.B.Item:a.asset_id=b.itemId,(0,e.Lu)(a);break;case j.B.Bundle:a.asset_id="bundle",(0,e.Lu)(a);break}}catch(s){console.log("TrackEventAssetListed_Error:",s)}}}}},35598:function(i,c,a){"use strict";a.d(c,{Ch:function(){return r},YV:function(){return s},LV:function(){return v},mF:function(){return t},HY:function(){return u}});var b=a(75360);function j(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function d(){var a=j(["\n  query GetMinPriceAxie($axieId: ID!) {\n    axie(axieId: $axieId) {\n      id\n      minPrice\n    }\n  }\n"]);return d=function(){return a},a}function e(){var a=j(["\n  query GetMinPriceItem($itemId: Int!, $itemAlias: String!) {\n    item(itemId: $itemId, itemAlias: $itemAlias) {\n      tokenId\n      realTokenId\n      itemId\n      itemAlias\n      minPrice\n    }\n  }\n"]);return e=function(){return a},a}function f(){var a=j(["\n  query GetMinPriceLand($row: Int!, $col: Int!) {\n    land(row: $row, col: $col) {\n      row\n      col\n      tokenId\n      realTokenId\n      minPrice\n    }\n  }\n"]);return f=function(){return a},a}var k=(0,b.ZP)(d()),l=(0,b.ZP)(e()),m=(0,b.ZP)(f()),g=a(41609),n=a.n(g),h=a(14293),o=a.n(h),p=a(47890),q=a(76167),r=30,s=function(a){var b,c=!1,d=a.minPrice-a.minPrice*r/100;switch(a.sellType){case"fixed":c=a.fixedPrice<d;break;case"auction":c=Math.min((b={startPrice:a.startPrice,endPrice:a.endPrice,minPrice:d}).startPrice,b.endPrice)<b.minPrice;break;default:break}return c},t=function(b,c){var a={query:k,variables:{}};switch(c){case q.B.Axie:a.query=k,a.variables={axieId:b.axieId};break;case q.B.Land:a.query=m,a.variables={row:b.row,col:b.col};break;case q.B.Item:a.query=l,a.variables={itemAlias:b.itemAlias,itemId:b.itemId};break;default:break}return a},u=function(a){return o()(a)?void 0:a},v=function(a,i){var c,d,e,f,g,h,b=null;if(!a)return null;switch(i){case q.B.Axie:b=o()(null===(c=a.axie)||void 0===c?void 0:c.minPrice)?null:null===(d=a.axie)||void 0===d?void 0:d.minPrice;break;case q.B.Item:b=o()(null===(e=a.item)||void 0===e?void 0:e.minPrice)?null:null===(f=a.item)||void 0===f?void 0:f.minPrice;break;case q.B.Land:b=o()(null===(g=a.land)||void 0===g?void 0:g.minPrice)?null:null===(h=a.land)||void 0===h?void 0:h.minPrice;break;default:break}return n()(b)?null:parseFloat(p.fromWei(b,"ether"))}},98063:function(d,b,a){"use strict";a.d(b,{L:function(){return g}});var e=a(85893);a(67294);var c=a(49204),f=a.n(c),g=function(a){var b=a.size;return(0,e.jsx)("div",{className:"absolute ".concat(f().LoadingWrapper),children:(0,e.jsx)("img",{src:"/static/image/puff-loading.png",style:{maxWidth:b},className:f().Spin})})}},36554:function(d,b,a){"use strict";a.d(b,{M:function(){return h}});var e=a(85893),c=a(94184),f=a.n(c);a(67294);var g={letterSpacing:1,lineHeight:"10px"},h=function(a){var b=a.children,c=a.className;return(0,e.jsx)("div",{style:g,className:f()("text-10 font-bold uppercase text-gray-2 mb-8",c),children:b})}},60943:function(e,d,b){"use strict";b.d(d,{Lu:function(){return i},z1:function(){return g},Iu:function(){return h}});var c,a,f=b(54765);(a=c||(c={})).COMPLETE_REGISTRATION="complete_registration",a.LOGIN="login",a.RONIN_LINKED="ronin_linked",a.RONIN_FUNDED="ronin_funded",a.FIRST_AXIE_PURCHASE="1st_purchase",a.SECOND_AXIE_PURCHASE="2nd_purchase",a.THIRD_AXIE_PURCHASE="3rd_purchase",a.TENTH_AXIE_PURCHASE="10th_purchase",a.ASSET_LISTED="listed",a.FIRST_ASSET_LISTED="1st_purchase",a.TENTH_ASSET_LISTED="10th_purchase",a.FIRST_ASSET_SOLD="1st_sale",a.TENTH_ASSET_SOLD="10th_sale",a.ASSET_PURCHASE="marketplace_purchase",a.ASSET_SOLD="marketplace_sale",a.FIRST_BREED_LISTED="1st_breed",a.TENTH_BREED_LISTED="10th_breed",a.AXIE_BREED="breed",a.AXIE_VIEWED="axie_viewed",a.FIRST_AXIE_VIEWED="1st_axie_viewed",a.SECOND_AXIE_VIEWED="2nd_axie_viewed",a.THIRD_AXIE_VIEWED="3rd_axie_viewed",a.FIVETH_AXIE_VIEWED="5th_axie_viewed",a.TENTH_AXIE_VIEWED="10th_axie_viewed";var g=function(a){f.T.sendEvent({eventName:c.AXIE_VIEWED,eventType:"EVENT",eventValue:a})},h=function(a){f.T.sendEvent({eventName:c.LOGIN,eventType:"EVENT",eventValue:a})},i=function(a){f.T.sendEvent({eventName:c.ASSET_LISTED,eventType:"EVENT",eventValue:a})}},19980:function(a){a.exports={ErrorMessage:"CreateAuctionBox_ErrorMessage__ZIjAl",WarningIcon:"CreateAuctionBox_WarningIcon__KTYcE"}},49204:function(a){a.exports={Spin:"PuffLoading_Spin__lHlTM",spin:"PuffLoading_spin__Hdd_5",LoadingWrapper:"PuffLoading_LoadingWrapper__ZDD_3"}}}])