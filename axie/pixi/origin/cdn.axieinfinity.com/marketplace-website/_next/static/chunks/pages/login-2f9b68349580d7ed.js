(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{87237:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return c(29562)}])},98063:function(d,b,a){"use strict";a.d(b,{L:function(){return g}});var e=a(85893);a(67294);var c=a(49204),f=a.n(c),g=function(a){var b=a.size;return(0,e.jsx)("div",{className:"absolute ".concat(f().LoadingWrapper),children:(0,e.jsx)("img",{src:"/static/image/puff-loading.png",style:{maxWidth:b},className:f().Spin})})}},54073:function(c,b,a){"use strict";a.d(b,{R:function(){return e}});var d=a(47890),e=function(e){for(var c=arguments.length,f=new Array(c>1?c-1:0),a=1;a<c;a++)f[a-1]=arguments[a];var b=e.map(function(a,b){return b<e.length-1?a+f[b]:a}).join("");return(0,d.isAddress)(b)&&b.startsWith("0x")?"ronin:".concat(b.split("0x")[1]):b}},89181:function(x,d,c){"use strict";c.d(d,{Ay:function(){return P},D3:function(){return J},EG:function(){return N},FC:function(){return G},Hq:function(){return I},IO:function(){return A},IU:function(){return B},Op:function(){return O},XY:function(){return H},Y_:function(){return D},dL:function(){return C},i8:function(){return E},lR:function(){return z},qD:function(){return M},rd:function(){return L},sI:function(){return Q},tY:function(){return K},yz:function(){return F}});var a=c(75360),b=c(75666);function y(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function e(){var a=y(["\n  mutation AddActivity($action: Action!, $data: ActivityDataInput!) {\n    createActivity(action: $action, data: $data) {\n      result\n    }\n  }\n"]);return e=function(){return a},a}function f(){var a=y(["\n  mutation CreateAccessToken($email: String!, $password: String!) {\n    createAccessToken(email: $email, password: $password) {\n      result\n      accessToken\n    }\n  }\n"]);return f=function(){return a},a}function g(){var a=y(["\n  mutation CreateRandomMessage {\n    createRandomMessage\n  }\n"]);return g=function(){return a},a}function h(){var a=y(["\n  mutation CreateAccessTokenWithSignature($input: SignatureInput!) {\n    createAccessTokenWithSignature(input: $input) {\n      newAccount\n      result\n      accessToken\n    }\n  }\n"]);return h=function(){return a},a}function i(){var a=y(["\n  mutation CreateAccount($email: String!, $password: String!) {\n    createAccount(email: $email, password: $password) {\n      result\n    }\n  }\n"]);return i=function(){return a},a}function j(){var a=y(["\n  mutation AttachMainnet($input: SignatureInput!) {\n    attachMainnet(input: $input) {\n      ...ProfileBrief\n    }\n  }\n\n  ","\n"]);return j=function(){return a},a}function k(){var a=y(["\n  mutation AttachEthereum(\n    $roninSignature: SignatureInput!\n    $ethereumSignature: SignatureInput!\n  ) {\n    attachEthereum(\n      roninSignature: $roninSignature\n      ethereumSignature: $ethereumSignature\n    ) {\n      ...ProfileBrief\n    }\n  }\n\n  ","\n"]);return k=function(){return a},a}function l(){var a=y(["\n  mutation VerifyEmail($email: String!) {\n    verifyEmail(email: $email) {\n      result\n    }\n  }\n"]);return l=function(){return a},a}function m(){var a=y(["\n  mutation AttachEmail($code: String!, $email: String!, $password: String!) {\n    attachEmail(code: $code, email: $email, password: $password) {\n      ...ProfileBrief\n    }\n  }\n  ","\n"]);return m=function(){return a},a}function n(){var a=y(["\n  mutation UpdateProfileName($name: String!) {\n    updateProfileName(name: $name) {\n      accountProfile {\n        ...ProfileBrief\n      }\n    }\n  }\n  ","\n"]);return n=function(){return a},a}function o(){var a=y(["\n  mutation UpdateEmail($code: String!, $email: String!) {\n    updateEmail(code: $code, email: $email) {\n      ...ProfileBrief\n    }\n  }\n  ","\n"]);return o=function(){return a},a}function p(){var a=y(["\n  mutation UpdatePassword($password: String!, $oldPassword: String!) {\n    updatePassword(newPassword: $password, password: $oldPassword) {\n      result\n    }\n  }\n"]);return p=function(){return a},a}function q(){var a=y(["\n  mutation UpdateAccountSettings($settings: UpdateAccountSettingsInput!) {\n    updateAccountSettings(settings: $settings) {\n      result\n      data\n    }\n  }\n"]);return q=function(){return a},a}function r(){var a=y(["\n  mutation RequestResetPassword($email: String!) {\n    requestResetPassword(email: $email) {\n      result\n      data\n    }\n  }\n"]);return r=function(){return a},a}function s(){var a=y(["\n  mutation ApproveResetPassword($token: String!, $newPassword: String!) {\n    approveResetPassword(token: $token, newPassword: $newPassword) {\n      result\n      data\n    }\n  }\n"]);return s=function(){return a},a}function t(){var a=y(["\n  mutation RedeemAxie($owner: String!, $signature: String!) {\n    redeemAxie(owner: $owner, signature: $signature)\n  }\n"]);return t=function(){return a},a}function u(){var a=y(["\n  mutation UnlinkEthereum($signature: SignatureInput!) {\n    unlinkEthereum(signature: $signature) {\n      result\n    }\n  }\n"]);return u=function(){return a},a}function v(){var a=y(["\n  mutation AddReferralCode($code: String!) {\n    addReferralCode(code: $code) {\n      result\n      data\n    }\n  }\n"]);return v=function(){return a},a}function w(){var a=y(["\n  mutation DeleteReferralCode {\n    deleteReferralCode {\n      result\n      data\n    }\n  }\n"]);return w=function(){return a},a}var z=(0,a.ZP)(e()),A=(0,a.ZP)(f()),B=(0,a.ZP)(g()),C=(0,a.ZP)(h());(0,a.ZP)(i());var D=(0,a.ZP)(j(),b.Ql),E=(0,a.ZP)(k(),b.Ql),F=(0,a.ZP)(l()),G=(0,a.ZP)(m(),b.Ql),H=(0,a.ZP)(n(),b.Ql),I=(0,a.ZP)(o(),b.Ql),J=(0,a.ZP)(p()),K=(0,a.ZP)(q()),L=(0,a.ZP)(r()),M=(0,a.ZP)(s()),N=(0,a.ZP)(t()),O=(0,a.ZP)(u()),P=(0,a.ZP)(v()),Q=(0,a.ZP)(w())},2729:function(c,b,a){"use strict";a.d(b,{V:function(){return m},j:function(){return n}});var d=a(85893),e=a(21033),f=a(67294),g=a(76614),h=a(81291),i=a(65988),j=a(54073);function k(){var a,b,c=(a=["",""],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return k=function(){return c},c}var l=function(a){var b=a.accountRoninAddress,c=a.onClose;return(0,d.jsxs)(e.Dialog,{title:"Mismatch Ronin address",dismissable:!1,open:a.open,onClose:c,children:[(0,d.jsx)(i.default,{id:"7abb5b3243e12cc2",children:"#react-aria-modal-dialog{width:640px!important}"}),(0,d.jsxs)("div",{style:{width:"100%"},className:"jsx-7abb5b3243e12cc2 text-center",children:[(0,d.jsx)("img",{src:"/static/image/ronin-warning.png",width:72,height:80,className:"jsx-7abb5b3243e12cc2 m-auto"}),(0,d.jsx)("div",{className:"jsx-7abb5b3243e12cc2 text-white text-20 leading-28 mt-20",children:"Wrong Ronin Wallet"}),(0,d.jsxs)("div",{className:"jsx-7abb5b3243e12cc2 text-14 text-center text-gray-1 mt-8",children:["Your current Axie account and Ronin wallet address don\u2019t match. ",(0,d.jsx)("br",{className:"jsx-7abb5b3243e12cc2"}),"Please go to your Ronin wallet and switch the address to:"]}),b&&(0,d.jsx)("div",{style:{background:"#3a3f50",width:200,color:"#a1a6b6"},className:"jsx-7abb5b3243e12cc2 text-16 leading-20 rounded-4 py-0 px-8 truncate mt-8 mx-auto",children:(0,j.R)(k(),b)}),(0,d.jsx)("div",{className:"jsx-7abb5b3243e12cc2 flex flex-row justify-center mt-28",children:(0,d.jsx)(e.Button,{onClick:c,children:"Got it"})})]})]})},m=function(a){var c=a.open,b=a.onClose;return(0,d.jsx)(e.Dialog,{open:c,onClose:b,title:" ",dismissable:!1,children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("img",{src:"/static/image/ronin-locked.png",width:72,height:79,className:"mx-auto"}),(0,d.jsx)("div",{className:"mt-12 text-20 leading-28",children:"Unlock Ronin Wallet"}),(0,d.jsx)("div",{className:"mt-8 text-gray-1",children:"Please unlock your Ronin Wallet to perform this action."}),(0,d.jsx)("div",{className:"mt-24",children:(0,d.jsx)(e.Button,{onClick:b,children:"Got it"})})]})})},n=function(){var a,b=(0,g.ec)(),p=b.activeRoninAddress,e=b.profile,t=b.roninConnection,i=(0,f.useState)(!1),c=i[0],u=i[1],j=(0,f.useState)(!1),q=j[0],v=j[1],k=(0,f.useState)(!1),r=k[0],w=k[1],n=(0,f.useState)(!1),s=n[0],x=n[1],o=function(){u(!1)},y=function(){var a=void 0===t.connector;return v(a),a},z=function(){var a=void 0===p;return x(a),a},A=function(){var a=void 0!==p&&(null==e?void 0:e.addresses.ronin)!==void 0&&p!==(null==e?void 0:e.addresses.ronin);return w(a),a};return q?a=(0,d.jsx)(h.u,{wallet:h.S.Ronin,open:c,onClose:function(){return u(!1)}}):s?a=(0,d.jsx)(m,{open:c,onClose:o}):r&&(a=(0,d.jsx)(l,{open:c,onClose:o,accountRoninAddress:null==e?void 0:e.addresses.ronin,activeRoninAddress:p})),{checkForUnlocked:function(){return!(y()||z()||A())||(u(!0),!1)},dialog:a}}},29562:function(i,b,a){"use strict";a.r(b),a.d(b,{"default":function(){return am}});var j=a(85893),k=a(1086),l=a(21033),m=a(88562),n=a(67294),o=a(73935),p=a(98063),q=function(){var a;return o.createPortal((0,j.jsx)("div",{className:"flex w-screen h-screen fixed top-0",style:{background:"rgba(0,0,0,0.5)"},children:(0,j.jsx)(p.L,{})}),null!==(a=null==document?void 0:document.body)&&void 0!==a?a:null)},r=a(29088),s=a(22873),c=a(34051),t=a.n(c),u=a(18499),v=a(81981),w=a(96486),d=a(14293),x=a.n(d),e=a(11163),y=a.n(e),f=a(49704),z=a.n(f),A=a(54765),B=a(60943),C=function(){return{trackLoginSuccess:function(b){if(!x()(b)){var a=z().decode(b);a&&(A.T.setCustomerUserId(a.id),(0,B.Iu)({skymavis_id:a.id,ronin_wallet_id:a.roninAddress||void 0}))}}}},D=a(60114),E=a(89181),F=a(87460),G=a(89735),H=a(70607);function I(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function J(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function K(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){J(g,e,f,d,h,"next",a)}function h(a){J(g,e,f,d,h,"throw",a)}d(void 0)})}}var L=function(){var a,b,q,r,s,S=(0,e.useRouter)(),c=(0,n.useState)(!1),y=c[0],T=c[1],d=(0,n.useState)(""),z=d[0],A=d[1],f=(0,n.useState)(""),g=f[0],U=f[1],h=(0,n.useState)(""),B=h[0],J=h[1],i=(0,n.useState)(!0),L=i[0],V=i[1],k=(0,n.useState)(!1),M=k[0],W=k[1],N=(a=(0,u.Db)(E.IO),b=1,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||function(a,c){if(a){if("string"==typeof a)return I(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return I(a,c)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),X=N[0],m=(0,n.useState)(!1),O=m[0],Y=m[1],o=(0,n.useState)(),Z=o[0],$=o[1],_=(0,G.O4)().checkForZendesk,P=(0,n.useRef)(null),aa=C().trackLoginSuccess,Q=(q=K(t().mark(function a(b){return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return $(b),a.next=3,ab(b);case 3:case"end":return a.stop()}},a)})),function(a){return q.apply(this,arguments)}),ab=(r=K(t().mark(function a(b){var c,d,e,f,g,h;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,W(!0),a.next=4,X({variables:{email:z,password:(0,F.OB)(B)},context:{headers:{"captcha-token":JSON.stringify(b)}}});case 4:if(c=a.sent.data,x()(c)){a.next=15;break}if(e=(d=c.createAccessToken).result,f=d.accessToken,!(e&&!x()(f))){a.next=14;break}return L?localStorage.setItem("accessToken",f):sessionStorage.setItem("accessToken",f),aa(f),a.next=12,_();case 12:return S.push("/profile/dashboard","/profile/dashboard"),a.abrupt("return");case 14:U("Could not login");case 15:a.next=24;break;case 17:a.prev=17,a.t0=a.catch(0),h=a.t0.graphQLErrors[0].message,null==P||null===(g=P.current)||void 0===g||g.reset(),$(void 0),U(h);case 24:return a.prev=24,W(!1),a.finish(24);case 27:case"end":return a.stop()}},a,null,[[0,17,24,27]])})),function(a){return r.apply(this,arguments)}),R=(s=K(t().mark(function a(b){var c,d;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(W(!0),null==b||b.preventDefault(),!(0,w.isEmpty)(Z)){a.next=6;break}return(null==P?void 0:null===(c=P.current)||void 0===c?void 0:c.init)&&(null==P||null===(d=P.current)||void 0===d||d.init()),a.abrupt("return");case 6:return a.next=8,ab(Z);case 8:case"end":return a.stop()}},a)})),function(a){return s.apply(this,arguments)}),p=function(a){return function(b){a(b.currentTarget.value),U("")}};return y?(0,j.jsxs)("form",{className:"border px-20 py-32 border-gray-3 rounded bg-gray-4",onSubmit:R,children:[(0,j.jsx)(H.d,{open:O,onClose:function(){Y(!1)}}),(0,j.jsx)(l.InputGroup,{required:!0,fullWidth:!0,placeholder:"Email",value:z,onChange:p(A)}),(0,j.jsx)("div",{className:"mt-20"}),(0,j.jsx)(l.InputGroup,{required:!0,fullWidth:!0,placeholder:"Password",type:"password",value:B,onChange:p(J)}),(0,j.jsx)("div",{className:"mt-20"}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsx)(l.Checkbox,{checked:L,onChange:function(a){V(a.currentTarget.checked)},children:"Remember me"}),(0,j.jsx)("div",{className:"text-primary-4 text-12 hover:cursor-pointer",onClick:function(){return Y(!0)},children:"Forget password?"})]}),!x()(g)&&(0,j.jsx)("h6",{className:"pt-8 pb-4 text-danger-4 text-center",children:g}),(0,j.jsx)("div",{className:"flex justify-center flex-col mt-20",children:(0,j.jsx)(v.Captcha,{className:"w-full",registerEndpoint:D.v.registerCaptchaEndpoint,ref:P,type:"GEETEST",geetestProductType:"bind",autoVerify:!0,onSuccess:Q})}),(0,j.jsx)(l.Button,{loading:M,fullWidth:!0,intent:l.IntentType.Primary,children:(0,j.jsx)("h6",{className:"font-medium",children:"Sign in"})})]}):(0,j.jsx)(l.Button,{fullWidth:!0,onClick:function(){T(!0)},children:(0,j.jsxs)("div",{className:"flex justify-center items-center",children:[(0,j.jsx)("img",{width:"32",className:"mr-12 inline-block",src:"/static/image/mail-white.png"}),(0,j.jsx)("h5",{className:"text-16 leading-24 font-medium inline-block",children:"Login with email & password"})]})})},M=a(70687),N=a(95673),O=a(76614),g=a(79361),P=a.n(g),Q=function(b){var a=b.success;return(0,j.jsx)("div",{className:"absolute top-0 left-0 h-full w-full",style:{background:"rgba(17, 19, 27, 0.9)"},children:(0,j.jsxs)("div",{style:{marginTop:80},children:[(0,j.jsxs)("div",{className:"relative mx-auto",style:{height:48,width:48},children:[void 0===a&&(0,j.jsx)(p.L,{size:48}),!1===a&&(0,j.jsx)(l.Icon,{name:m.AN,size:48,color:"#be3637"}),!0===a&&(0,j.jsx)(l.Icon,{name:m.Y_,size:48,color:"#0fb35b"})]}),(0,j.jsxs)("div",{className:"text-16 leading-24 text-center mt-8",children:[void 0===a&&(0,j.jsx)("span",{children:"Confirm a signature request your app"}),!0===a&&(0,j.jsx)("span",{style:{color:"#0fb35b"},children:"Successfully logged in."}),!1===a&&(0,j.jsxs)("span",{style:{color:"#fe383f"},children:["Something went wrong. ",(0,j.jsx)("br",{}),"Close this dialog and try again."]})]})]})})};function R(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function S(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function T(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||U(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(a,c){if(a){if("string"==typeof a)return R(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return R(a,c)}}var V=function(){var a,b,c=T((0,u.Db)(E.IU),1)[0],d=T((0,u.Db)(E.dL),1)[0],e=C().trackLoginSuccess;return{loginWithWeb3:(b=(a=t().mark(function a(b,f){var g,h,i,j,k,l,m,n;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c();case 2:if((null==(g=a.sent.data)?void 0:g.createRandomMessage)!==void 0){a.next=5;break}throw new Error("Something wrong while create random message");case 5:return a.next=7,b.getAvailableAddressesAsync();case 7:return h=a.sent,i=null==g?void 0:g.createRandomMessage,j=h[0],a.next=12,b.signMessageAsync(j,i);case 12:return k=a.sent,a.next=15,d({variables:{input:{mainnet:f,owner:j,message:i,signature:k}}});case 15:if(!("string"!=typeof(n=null==(m=(l=a.sent).data)?void 0:m.createAccessTokenWithSignature.accessToken))){a.next=20;break}throw new Error("Something wrong while create new access token");case 20:return e(n),a.abrupt("return",{accessToken:n,newlyCreatedAccount:null==m?void 0:m.createAccessTokenWithSignature.newAccount,response:m});case 22:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){S(g,e,f,d,h,"next",a)}function h(a){S(g,e,f,d,h,"throw",a)}d(void 0)})}),function(a,c){return b.apply(this,arguments)})}};function W(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var X=function(f){var g,h,i=f.className,a=(0,n.useState)(),b=a[0],q=a[1],c=(0,n.useState)(!1),k=c[0],r=c[1],s=V().loginWithWeb3,u=(0,O.ec)().reloadDataAndEventListener,d=(0,n.useState)(!1),m=d[0],v=d[1],e=(0,n.useState)(),o=e[0],w=e[1],p=(h=(g=t().mark(function a(){var b,c;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,v(!1),localStorage.removeItem("walletconnect"),(b=(0,N.createRoninMobileConnector)()).on("display_uri",function(a){q(a),r(!0)}),a.next=7,b.connect();case 7:return v(!0),a.next=10,s(new M.Cx(b.provider),"ronin");case 10:return c=a.sent.accessToken,w(!0),localStorage.setItem("accessToken",c),a.next=15,u();case 15:y().replace("/profile/dashboard"),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),w(!1);case 21:case"end":return a.stop()}},a,null,[[0,18]])}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=g.apply(a,b);function c(a){W(f,d,e,c,h,"next",a)}function h(a){W(f,d,e,c,h,"throw",a)}c(void 0)})}),function(){return h.apply(this,arguments)});return(0,j.jsxs)("div",{className:i,children:[(0,j.jsx)(l.Button,{onClick:p,fullWidth:!0,children:(0,j.jsxs)("div",{className:"flex justify-center items-center",children:[(0,j.jsx)("img",{width:"28",className:"mr-12 inline-block",src:"/static/icons/qr-code.png"}),(0,j.jsx)("h5",{className:"text-16 leading-24 font-medium inline-block",children:"Login by QR code"})]})}),(0,j.jsxs)(l.Dialog,{open:k,onClose:function(){r(!1)},title:"Log in with Ronin Wallet",hideTitle:!1,children:[b&&(0,j.jsxs)("div",{className:"h-full relative mx-auto",style:{width:230},children:[(0,j.jsx)(P(),{className:"bg-white p-12 mt-20 mx-auto",value:b,size:230,imageSettings:{excavate:!0,src:"/static/favicon.ico",height:50,width:50}}),m&&(0,j.jsx)(Q,{success:o})]}),(0,j.jsx)("div",{style:{color:"#a1a6b6"},className:"text-14 leading-20 mt-16 text-center",children:"Scan this QR code with Ronin Mobile App"})]})]})},Y=function(){var b=(0,O.ec)(),c=b.activeRoninAddress,a=b.profile,d=b.roninConnection;return{isInstalled:!x()(null==d?void 0:d.connector),isMismatched:void 0!==c&&(null==a?void 0:a.addresses.ronin)!==void 0&&c!==(null==a?void 0:a.addresses.ronin),isLocked:x()(c),redirectToRoninHomePage:function(){window.location.href="https://wallet.skymavis.com/"}}},Z=a(97154);function $(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function _(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function aa(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){_(g,e,f,d,h,"next",a)}function h(a){_(g,e,f,d,h,"throw",a)}d(void 0)})}}function ab(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||ac(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ac(a,c){if(a){if("string"==typeof a)return $(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return $(a,c)}}var ad=function(a){var e=a.mainnet,p=a.onWalletLocked,q=a.onUnlinkedWalletError,b=(0,n.useState)(!1),f=b[0],r=b[1],c=(0,n.useState)(!1),g=c[0],s=c[1],d=(0,O.ec)(),v=d.scopedWeb3;d.scopedRoninWeb3;var h,i,j,k=ab((0,u.Db)(E.IU),1),w=k[0],l=ab((0,u.Db)(E.dL),1),z=l[0],A=(0,G.O4)().checkForZendesk,B=(0,G.NI)().checkForCollabLand,D=(0,G.t)().checkForCommonWealth,H=V().loginWithWeb3,I=C().trackLoginSuccess,J=(h=aa(t().mark(function a(b){var c,d,e,f;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(x()(b)){a.next=12;break}if(d=(c=b.createAccessTokenWithSignature).newAccount,e=c.result,f=c.accessToken,!(e&&!x()(f))){a.next=12;break}return localStorage.setItem("accessToken",f),a.next=6,A();case 6:return a.next=8,B();case 8:return a.next=10,D();case 10:d&&localStorage.setItem("newAccount","true"),y().replace("/profile/dashboard");case 12:case"end":return a.stop()}},a)})),function(a){return h.apply(this,arguments)}),m=(i=aa(t().mark(function a(){var b,c,d,e;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b=(0,N.createRoninConnector)(),a.next=4,b.connect();case 4:return c=new M.Cx(b.provider),s(!0),a.next=8,c.getAvailableAddressesAsync();case 8:if(!((d=a.sent).length<1)){a.next=12;break}return"function"==typeof p&&p(),a.abrupt("return");case 12:return a.next=14,H(c,"ronin");case 14:J(e=a.sent.response);case 16:return a.prev=16,s(!1),a.finish(16);case 19:case"end":return a.stop()}},a,null,[[0,,16,19]])})),function(){return i.apply(this,arguments)}),o=(j=aa(t().mark(function a(){var b,c,d,f,g,h,i,j,k;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,Z.Dx)(!0);case 3:if(b=a.sent,!(x()(b)||x()(v))){a.next=7;break}return r(!0),a.abrupt("return");case 7:return s(!0),a.next=10,w();case 10:if(c=a.sent.data,x()(c)){a.next=34;break}return d=c.createRandomMessage,a.next=15,(0,F._g)(v.web3Wrapper,d);case 15:return g=(f=a.sent).signer,h=f.signature,a.prev=18,a.next=21,z({variables:{input:{mainnet:e,owner:g,message:d,signature:h}}});case 21:I(null==(j=(i=a.sent).data)?void 0:j.createAccessTokenWithSignature.accessToken),J(j),a.next=34;break;case 27:if(a.prev=27,a.t0=a.catch(18),k=a.t0,console.error(k.message),!k.message.includes("This Ethereum address is not linked")){a.next=34;break}return"function"==typeof q&&q(),a.abrupt("return");case 34:return a.prev=34,s(!1),a.finish(34);case 37:case"end":return a.stop()}},a,null,[[0,,34,37],[18,27]])})),function(){return j.apply(this,arguments)});return{loading:g,login:"ronin"===e?m:o,visible:f,onCloseDialog:function(){return r(!1)}}},ae=a(2729),af=function(){var a=(0,n.useState)(!1),d=a[0],f=a[1],b=Y(),g=b.isInstalled,h=b.redirectToRoninHomePage,c=ad({mainnet:"ronin",onWalletLocked:function(){f(!0)}}),e=c.loading,i=c.login;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ae.V,{open:d,onClose:function(){f(!1)}}),(0,j.jsx)("div",{className:"mb-20",children:(0,j.jsx)(l.Button,{intent:l.IntentType.Primary,loading:e,fullWidth:!0,onClick:function(){if(!g){h();return}i()},children:(0,j.jsxs)("div",{className:"flex justify-center items-center",children:[(0,j.jsx)("img",{width:"32",className:"mr-12 inline-block",src:"/static/image/ronin-white.png"}),(0,j.jsx)("h5",{className:"text-16 leading-24 font-medium inline-block",children:"Login with Ronin Wallet"})]})})})]})},ag=a(69888);function ah(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var ai=function(){var d,e,k=V().loginWithWeb3,m=(0,O.ec)().reloadDataAndEventListener,a=(0,n.useState)(!1),f=a[0],o=a[1],b=(0,n.useState)(!1),g=b[0],p=b[1],c=(0,n.useState)(),h=c[0],q=c[1],i=(e=(d=t().mark(function a(){var b,c;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o(!1),localStorage.removeItem("walletconnect"),(b=(0,N.createRoninMobileConnector)()).on("display_uri",function(a){p(!0);var b=encodeURIComponent(a),c="".concat(ag.G.applink,"/auth-connect?uri=").concat(b);window.open(c,"_self")}),a.next=7,b.connect();case 7:return o(!0),a.next=10,k(new M.Cx(b.provider),"ronin");case 10:return c=a.sent.accessToken,q(!0),localStorage.setItem("accessToken",c),a.next=15,m();case 15:y().replace("/profile/dashboard"),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),q(!1);case 21:case"end":return a.stop()}},a,null,[[0,18]])}),function(){var a=this,b=arguments;return new Promise(function(e,f){var g=d.apply(a,b);function c(a){ah(g,e,f,c,h,"next",a)}function h(a){ah(g,e,f,c,h,"throw",a)}c(void 0)})}),function(){return e.apply(this,arguments)});return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:"mb-20",children:(0,j.jsx)(l.Button,{intent:l.IntentType.Primary,loading:f,fullWidth:!0,onClick:i,children:(0,j.jsxs)("div",{className:"flex justify-center items-center",children:[(0,j.jsx)("img",{width:"32",className:"mr-12 inline-block",src:"/static/image/ronin-white.png"}),(0,j.jsx)("h5",{className:"text-16 leading-24 font-medium inline-block",children:"Login with Ronin Wallet"})]})})}),(0,j.jsx)(l.Dialog,{open:g,onClose:function(){p(!1)},title:"Log in with Ronin Wallet",hideTitle:!1,children:(0,j.jsx)("div",{className:"h-full relative mx-auto mt-16",style:{width:200,height:200},children:(0,j.jsx)(Q,{success:h})})})]})},h=a(76125),aj=a.n(h),ak=function(a){return(0,j.jsx)("a",{style:{color:"#0066f4"},href:a.href,target:"_blank",rel:"noreferrer",className:"inline-flex items-center",children:a.children})},al=function(){var a=(0,G.O4)(),e=a.checkForZendesk,b=a.loading,c=(0,G.pW)();(0,n.useEffect)(function(){e()},[]);var d=(0,s.$)()?(0,j.jsx)(ai,{}):(0,j.jsx)(af,{});return(0,j.jsxs)(r.Z,{contentClassName:aj().LayoutContent,children:[b&&(0,j.jsx)(q,{}),(0,j.jsxs)("div",{className:aj().LoginSection,children:[d,(0,j.jsx)(X,{className:"mb-24"}),"collabland"!==c&&(0,j.jsx)(L,{}),(0,j.jsxs)("div",{className:"text-center mt-12 flex justify-center w-full items-center",children:[(0,j.jsx)(l.Icon,{name:m.jq}),(0,j.jsxs)("span",{className:"ml-8 text-gray-1 text-14",children:["By continuing, you agree to our"," ",(0,j.jsx)(ak,{href:"https://axieinfinity.com/terms/",children:"Terms of Use"})]})]}),(0,j.jsxs)("div",{className:"w-full flex items-center mt-20 leading-20 text-14 justify-center pt-20",style:{color:"#6B7185",borderTop:"1px solid #3A3F50"},children:[(0,j.jsx)("div",{children:"Don\u2019t know where to start?"}),(0,j.jsxs)("a",{href:"https://welcome.skymavis.com/",target:"_blank",rel:"noreferrer",className:"inline-flex items-center",style:{color:"#0066f4"},children:[(0,j.jsx)(l.Icon,{name:m.w3,color:"#0066f4",size:20}),"Getting Started"]})]})]}),(0,j.jsxs)("div",{className:"flex justify-center text-14 leading-20 font-medium",children:[(0,j.jsx)("div",{children:"\xa9 Sky Mavis"}),(0,j.jsx)("div",{className:"mx-20",children:(0,j.jsx)("a",{href:"https://discord.gg/axie",target:"_blank",rel:"noreferrer",children:(0,j.jsx)("span",{className:"text-primary-3 cursor-pointer",children:"Discord"})})}),(0,j.jsx)("div",{children:(0,j.jsx)("a",{href:"https://cdn.axieinfinity.com/skymavis/terms-of-use.pdf",target:"_blank",rel:"noreferrer",children:(0,j.jsx)("span",{className:"text-primary-3 cursor-pointer",children:"Term of use"})})})]})]})},am=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(k.F,{title:"Login | Axie Infinity"}),(0,j.jsx)(al,{})]})}},60943:function(e,d,b){"use strict";b.d(d,{Lu:function(){return i},z1:function(){return g},Iu:function(){return h}});var c,a,f=b(54765);(a=c||(c={})).COMPLETE_REGISTRATION="complete_registration",a.LOGIN="login",a.RONIN_LINKED="ronin_linked",a.RONIN_FUNDED="ronin_funded",a.FIRST_AXIE_PURCHASE="1st_purchase",a.SECOND_AXIE_PURCHASE="2nd_purchase",a.THIRD_AXIE_PURCHASE="3rd_purchase",a.TENTH_AXIE_PURCHASE="10th_purchase",a.ASSET_LISTED="listed",a.FIRST_ASSET_LISTED="1st_purchase",a.TENTH_ASSET_LISTED="10th_purchase",a.FIRST_ASSET_SOLD="1st_sale",a.TENTH_ASSET_SOLD="10th_sale",a.ASSET_PURCHASE="marketplace_purchase",a.ASSET_SOLD="marketplace_sale",a.FIRST_BREED_LISTED="1st_breed",a.TENTH_BREED_LISTED="10th_breed",a.AXIE_BREED="breed",a.AXIE_VIEWED="axie_viewed",a.FIRST_AXIE_VIEWED="1st_axie_viewed",a.SECOND_AXIE_VIEWED="2nd_axie_viewed",a.THIRD_AXIE_VIEWED="3rd_axie_viewed",a.FIVETH_AXIE_VIEWED="5th_axie_viewed",a.TENTH_AXIE_VIEWED="10th_axie_viewed";var g=function(a){f.T.sendEvent({eventName:c.AXIE_VIEWED,eventType:"EVENT",eventValue:a})},h=function(a){f.T.sendEvent({eventName:c.LOGIN,eventType:"EVENT",eventValue:a})},i=function(a){f.T.sendEvent({eventName:c.ASSET_LISTED,eventType:"EVENT",eventValue:a})}},49204:function(a){a.exports={Spin:"PuffLoading_Spin__lHlTM",spin:"PuffLoading_spin__Hdd_5",LoadingWrapper:"PuffLoading_LoadingWrapper__ZDD_3"}},76125:function(a){a.exports={LayoutContent:"Login_LayoutContent__99aXu",LoginSection:"Login_LoginSection__h0jkl"}}},function(a){a.O(0,[5759,1964,9680,9704,1437,9735,9891,9774,2888,179],function(){return a(a.s=87237)}),_N_E=a.O()}])