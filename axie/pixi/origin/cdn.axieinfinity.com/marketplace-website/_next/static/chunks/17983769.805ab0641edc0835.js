(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2580],{80356:function(){var bO,al,w,bP,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,am,c,bQ,bR,bS,an,k,t,b,h,ao,u,ap,aq,ar,as,at,bT,au,av,aw,ax,ay,x,az,aA,aB,m,bU,aC,aD,aE,g,aF,aG,aH,aI,aJ,aK,aL,aM,aN,l,aO,aP,aQ,aR,v,bV,aS,i,aT,aU,aV,aW,aX,aY,aZ,a$,a_,y,a0,a1,z,j,a2,r,n,o,A,a3,a4,B,a5,a6,bW,bX,bY,C,a7,a8,D,a9,ba,E,bb,bc,F,G,bd,bZ,H,I,be,bf,J,bg,bh,K,bi,L,p,b$,b_,bj,d,q,bk,M,s,bl,b0,bm,bn,N,bo,bp,O,P,bq,Q,br,bs,R,f,bt,bu,bv,S,T,bw,bx,by,bz,bA,bB,bC,U,V,W,bD,X,Y,e,Z,$,bE,_,aa,bF,ab,ac,bG,ad,ae,bH,af,ag,bI,ah,ai,bJ,aj,bK,bL,ak,bM,bN,b1=this&&this.__extends||(bP=function(a,b){return(bP=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])})(a,b)},function(b,a){function c(){this.constructor=b}bP(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)});c=(am=a||(a={})).core||(am.core={}),an=function(){function a(c,a,d){if(null==c)throw new Error("name cannot be null.");if(null==a)throw new Error("timelines cannot be null.");this.name=c,this.timelines=a,this.timelineIds=[];for(var b=0;b<a.length;b++)this.timelineIds[a[b].getPropertyId()]=!0;this.duration=d}return a.prototype.hasTimeline=function(a){return!0==this.timelineIds[a]},a.prototype.apply=function(c,a,d,f,g,h,i,j){if(null==c)throw new Error("skeleton cannot be null.");f&&0!=this.duration&&(d%=this.duration,a>0&&(a%=this.duration));for(var e=this.timelines,b=0,k=e.length;b<k;b++)e[b].apply(c,a,d,g,h,i,j)},a.binarySearch=function(e,f,a){void 0===a&&(a=1);var c=0,b=e.length/a-2;if(0==b)return a;for(var d=b>>>1;;){if(e[(d+1)*a]<=f?c=d+1:b=d,c==b)return(c+1)*a;d=c+b>>>1}},a.linearSearch=function(b,d,c){for(var a=0,e=b.length-c;a<=e;a+=c)if(b[a]>d)return a;return-1},a}(),c.Animation=an,(k=bQ=c.MixBlend||(c.MixBlend={}))[k.setup=0]="setup",k[k.first=1]="first",k[k.replace=2]="replace",k[k.add=3]="add",(t=bR=c.MixDirection||(c.MixDirection={}))[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut",(b=bS=c.TimelineType||(c.TimelineType={}))[b.rotate=0]="rotate",b[b.translate=1]="translate",b[b.scale=2]="scale",b[b.shear=3]="shear",b[b.attachment=4]="attachment",b[b.color=5]="color",b[b.deform=6]="deform",b[b.event=7]="event",b[b.drawOrder=8]="drawOrder",b[b.ikConstraint=9]="ikConstraint",b[b.transformConstraint=10]="transformConstraint",b[b.pathConstraintPosition=11]="pathConstraintPosition",b[b.pathConstraintSpacing=12]="pathConstraintSpacing",b[b.pathConstraintMix=13]="pathConstraintMix",b[b.twoColor=14]="twoColor",h=function(){function a(b){if(b<=0)throw new Error("frameCount must be > 0: "+b);this.curves=c.Utils.newFloatArray((b-1)*a.BEZIER_SIZE)}return a.prototype.getFrameCount=function(){return this.curves.length/a.BEZIER_SIZE+1},a.prototype.setLinear=function(b){this.curves[b*a.BEZIER_SIZE]=a.LINEAR},a.prototype.setStepped=function(b){this.curves[b*a.BEZIER_SIZE]=a.STEPPED},a.prototype.getCurveType=function(d){var b=d*a.BEZIER_SIZE;if(b==this.curves.length)return a.LINEAR;var c=this.curves[b];return c==a.LINEAR?a.LINEAR:c==a.STEPPED?a.STEPPED:a.BEZIER},a.prototype.setCurve=function(r,c,d,j,k){var l=(-(2*c)+j)*.03,m=(-(2*d)+k)*.03,e=((c-j)*3+1)*.006,f=((d-k)*3+1)*.006,n=2*l+e,o=2*m+f,g=.3*c+l+.16666667*e,h=.3*d+m+.16666667*f,b=r*a.BEZIER_SIZE,i=this.curves;i[b++]=a.BEZIER;for(var p=g,q=h,s=b+a.BEZIER_SIZE-1;b<s;b+=2)i[b]=p,i[b+1]=q,g+=n,h+=o,n+=e,o+=f,p+=g,q+=h},a.prototype.getCurvePercent=function(k,d){d=c.MathUtils.clamp(d,0,1);var e=this.curves,b=k*a.BEZIER_SIZE,i=e[b];if(i==a.LINEAR)return d;if(i==a.STEPPED)return 0;b++;for(var f=0,l=b,m=b+a.BEZIER_SIZE-1;b<m;b+=2)if((f=e[b])>=d){var g=void 0,h=void 0;return b==l?(g=0,h=0):(g=e[b-2],h=e[b-1]),h+(e[b+1]-h)*(d-g)/(f-g)}var j=e[b-1];return j+(1-j)*(d-f)/(1-f)},a.LINEAR=0,a.STEPPED=1,a.BEZIER=2,a.BEZIER_SIZE=19,a}(),c.CurveTimeline=h,ao=function(b){function a(a){var d=b.call(this,a)||this;return d.frames=c.Utils.newFloatArray(a<<1),d}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.rotate<<24)+this.boneIndex},a.prototype.setFrame=function(b,c,d){b<<=1,this.frames[b]=c,this.frames[b+a.ROTATION]=d},a.prototype.apply=function(m,o,h,p,e,i,q){var c=this.frames,b=m.bones[this.boneIndex];if(b.active){if(h<c[0]){switch(i){case bQ.setup:b.rotation=b.data.rotation;return;case bQ.first:var j=b.data.rotation-b.rotation;b.rotation+=(j-(16384-(16384.499999999996-j/360|0))*360)*e}return}if(h>=c[c.length-a.ENTRIES]){var f=c[c.length+a.PREV_ROTATION];switch(i){case bQ.setup:b.rotation=b.data.rotation+f*e;break;case bQ.first:case bQ.replace:f+=b.data.rotation-b.rotation,f-=(16384-(16384.499999999996-f/360|0))*360;case bQ.add:b.rotation+=f*e}return}var g=an.binarySearch(c,h,a.ENTRIES),k=c[g+a.PREV_ROTATION],l=c[g],n=this.getCurvePercent((g>>1)-1,1-(h-l)/(c[g+a.PREV_TIME]-l)),d=c[g+a.ROTATION]-k;switch(d=k+(d-(16384-(16384.499999999996-d/360|0))*360)*n,i){case bQ.setup:b.rotation=b.data.rotation+(d-(16384-(16384.499999999996-d/360|0))*360)*e;break;case bQ.first:case bQ.replace:d+=b.data.rotation-b.rotation;case bQ.add:b.rotation+=(d-(16384-(16384.499999999996-d/360|0))*360)*e}}},a.ENTRIES=2,a.PREV_TIME=-2,a.PREV_ROTATION=-1,a.ROTATION=1,a}(h),c.RotateTimeline=ao,u=function(b){function a(d){var e=b.call(this,d)||this;return e.frames=c.Utils.newFloatArray(d*a.ENTRIES),e}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.translate<<24)+this.boneIndex},a.prototype.setFrame=function(b,c,d,e){b*=a.ENTRIES,this.frames[b]=c,this.frames[b+a.X]=d,this.frames[b+a.Y]=e},a.prototype.apply=function(l,m,h,n,d,i,o){var c=this.frames,b=l.bones[this.boneIndex];if(b.active){if(h<c[0]){switch(i){case bQ.setup:b.x=b.data.x,b.y=b.data.y;return;case bQ.first:b.x+=(b.data.x-b.x)*d,b.y+=(b.data.y-b.y)*d}return}var e=0,f=0;if(h>=c[c.length-a.ENTRIES])e=c[c.length+a.PREV_X],f=c[c.length+a.PREV_Y];else{var g=an.binarySearch(c,h,a.ENTRIES);e=c[g+a.PREV_X],f=c[g+a.PREV_Y];var j=c[g],k=this.getCurvePercent(g/a.ENTRIES-1,1-(h-j)/(c[g+a.PREV_TIME]-j));e+=(c[g+a.X]-e)*k,f+=(c[g+a.Y]-f)*k}switch(i){case bQ.setup:b.x=b.data.x+e*d,b.y=b.data.y+f*d;break;case bQ.first:case bQ.replace:b.x+=(b.data.x+e-b.x)*d,b.y+=(b.data.y+f-b.y)*d;break;case bQ.add:b.x+=e*d,b.y+=f*d}}},a.ENTRIES=3,a.PREV_TIME=-3,a.PREV_X=-2,a.PREV_Y=-1,a.X=1,a.Y=2,a}(h),c.TranslateTimeline=u,ap=function(b){function a(a){return b.call(this,a)||this}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.scale<<24)+this.boneIndex},a.prototype.apply=function(o,q,k,r,h,l,p){var i=this.frames,b=o.bones[this.boneIndex];if(b.active){if(k<i[0]){switch(l){case bQ.setup:b.scaleX=b.data.scaleX,b.scaleY=b.data.scaleY;return;case bQ.first:b.scaleX+=(b.data.scaleX-b.scaleX)*h,b.scaleY+=(b.data.scaleY-b.scaleY)*h}return}var f=0,g=0;if(k>=i[i.length-a.ENTRIES])f=i[i.length+a.PREV_X]*b.data.scaleX,g=i[i.length+a.PREV_Y]*b.data.scaleY;else{var j=an.binarySearch(i,k,a.ENTRIES);f=i[j+a.PREV_X],g=i[j+a.PREV_Y];var m=i[j],n=this.getCurvePercent(j/a.ENTRIES-1,1-(k-m)/(i[j+a.PREV_TIME]-m));f=(f+(i[j+a.X]-f)*n)*b.data.scaleX,g=(g+(i[j+a.Y]-g)*n)*b.data.scaleY}if(1==h)l==bQ.add?(b.scaleX+=f-b.data.scaleX,b.scaleY+=g-b.data.scaleY):(b.scaleX=f,b.scaleY=g);else{var d=0,e=0;if(p==bR.mixOut)switch(l){case bQ.setup:d=b.data.scaleX,e=b.data.scaleY,b.scaleX=d+(Math.abs(f)*c.MathUtils.signum(d)-d)*h,b.scaleY=e+(Math.abs(g)*c.MathUtils.signum(e)-e)*h;break;case bQ.first:case bQ.replace:d=b.scaleX,e=b.scaleY,b.scaleX=d+(Math.abs(f)*c.MathUtils.signum(d)-d)*h,b.scaleY=e+(Math.abs(g)*c.MathUtils.signum(e)-e)*h;break;case bQ.add:d=b.scaleX,e=b.scaleY,b.scaleX=d+(Math.abs(f)*c.MathUtils.signum(d)-b.data.scaleX)*h,b.scaleY=e+(Math.abs(g)*c.MathUtils.signum(e)-b.data.scaleY)*h}else switch(l){case bQ.setup:d=Math.abs(b.data.scaleX)*c.MathUtils.signum(f),e=Math.abs(b.data.scaleY)*c.MathUtils.signum(g),b.scaleX=d+(f-d)*h,b.scaleY=e+(g-e)*h;break;case bQ.first:case bQ.replace:d=Math.abs(b.scaleX)*c.MathUtils.signum(f),e=Math.abs(b.scaleY)*c.MathUtils.signum(g),b.scaleX=d+(f-d)*h,b.scaleY=e+(g-e)*h;break;case bQ.add:d=c.MathUtils.signum(f),e=c.MathUtils.signum(g),b.scaleX=Math.abs(b.scaleX)*d+(f-Math.abs(b.data.scaleX)*d)*h,b.scaleY=Math.abs(b.scaleY)*e+(g-Math.abs(b.data.scaleY)*e)*h}}}},a}(u),c.ScaleTimeline=ap,aq=function(b){function a(a){return b.call(this,a)||this}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.shear<<24)+this.boneIndex},a.prototype.apply=function(l,m,h,n,d,i,o){var c=this.frames,b=l.bones[this.boneIndex];if(b.active){if(h<c[0]){switch(i){case bQ.setup:b.shearX=b.data.shearX,b.shearY=b.data.shearY;return;case bQ.first:b.shearX+=(b.data.shearX-b.shearX)*d,b.shearY+=(b.data.shearY-b.shearY)*d}return}var e=0,f=0;if(h>=c[c.length-a.ENTRIES])e=c[c.length+a.PREV_X],f=c[c.length+a.PREV_Y];else{var g=an.binarySearch(c,h,a.ENTRIES);e=c[g+a.PREV_X],f=c[g+a.PREV_Y];var j=c[g],k=this.getCurvePercent(g/a.ENTRIES-1,1-(h-j)/(c[g+a.PREV_TIME]-j));e+=(c[g+a.X]-e)*k,f+=(c[g+a.Y]-f)*k}switch(i){case bQ.setup:b.shearX=b.data.shearX+e*d,b.shearY=b.data.shearY+f*d;break;case bQ.first:case bQ.replace:b.shearX+=(b.data.shearX+e-b.shearX)*d,b.shearY+=(b.data.shearY+f-b.shearY)*d;break;case bQ.add:b.shearX+=e*d,b.shearY+=f*d}}},a}(u),c.ShearTimeline=aq,ar=function(b){function a(d){var e=b.call(this,d)||this;return e.frames=c.Utils.newFloatArray(d*a.ENTRIES),e}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.color<<24)+this.slotIndex},a.prototype.setFrame=function(b,c,d,e,f,g){b*=a.ENTRIES,this.frames[b]=c,this.frames[b+a.R]=d,this.frames[b+a.G]=e,this.frames[b+a.B]=f,this.frames[b+a.A]=g},a.prototype.apply=function(q,r,k,s,e,o,t){var f=q.slots[this.slotIndex];if(f.bone.active){var b=this.frames;if(k<b[0]){switch(o){case bQ.setup:f.color.setFromColor(f.data.color);return;case bQ.first:var c=f.color,l=f.data.color;c.add((l.r-c.r)*e,(l.g-c.g)*e,(l.b-c.b)*e,(l.a-c.a)*e)}return}var g=0,h=0,i=0,j=0;if(k>=b[b.length-a.ENTRIES]){var m=b.length;g=b[m+a.PREV_R],h=b[m+a.PREV_G],i=b[m+a.PREV_B],j=b[m+a.PREV_A]}else{var d=an.binarySearch(b,k,a.ENTRIES);g=b[d+a.PREV_R],h=b[d+a.PREV_G],i=b[d+a.PREV_B],j=b[d+a.PREV_A];var p=b[d],n=this.getCurvePercent(d/a.ENTRIES-1,1-(k-p)/(b[d+a.PREV_TIME]-p));g+=(b[d+a.R]-g)*n,h+=(b[d+a.G]-h)*n,i+=(b[d+a.B]-i)*n,j+=(b[d+a.A]-j)*n}if(1==e)f.color.set(g,h,i,j);else{var c=f.color;o==bQ.setup&&c.setFromColor(f.data.color),c.add((g-c.r)*e,(h-c.g)*e,(i-c.b)*e,(j-c.a)*e)}}},a.ENTRIES=5,a.PREV_TIME=-5,a.PREV_R=-4,a.PREV_G=-3,a.PREV_B=-2,a.PREV_A=-1,a.R=1,a.G=2,a.B=3,a.A=4,a}(h),c.ColorTimeline=ar,as=function(b){function a(d){var e=b.call(this,d)||this;return e.frames=c.Utils.newFloatArray(d*a.ENTRIES),e}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.twoColor<<24)+this.slotIndex},a.prototype.setFrame=function(b,c,d,e,f,g,h,i,j){b*=a.ENTRIES,this.frames[b]=c,this.frames[b+a.R]=d,this.frames[b+a.G]=e,this.frames[b+a.B]=f,this.frames[b+a.A]=g,this.frames[b+a.R2]=h,this.frames[b+a.G2]=i,this.frames[b+a.B2]=j},a.prototype.apply=function(v,w,q,x,d,t,y){var e=v.slots[this.slotIndex];if(e.bone.active){var b=this.frames;if(q<b[0]){switch(t){case bQ.setup:e.color.setFromColor(e.data.color),e.darkColor.setFromColor(e.data.darkColor);return;case bQ.first:var f=e.color,g=e.darkColor,r=e.data.color,s=e.data.darkColor;f.add((r.r-f.r)*d,(r.g-f.g)*d,(r.b-f.b)*d,(r.a-f.a)*d),g.add((s.r-g.r)*d,(s.g-g.g)*d,(s.b-g.b)*d,0)}return}var j=0,k=0,l=0,m=0,n=0,o=0,p=0;if(q>=b[b.length-a.ENTRIES]){var h=b.length;j=b[h+a.PREV_R],k=b[h+a.PREV_G],l=b[h+a.PREV_B],m=b[h+a.PREV_A],n=b[h+a.PREV_R2],o=b[h+a.PREV_G2],p=b[h+a.PREV_B2]}else{var c=an.binarySearch(b,q,a.ENTRIES);j=b[c+a.PREV_R],k=b[c+a.PREV_G],l=b[c+a.PREV_B],m=b[c+a.PREV_A],n=b[c+a.PREV_R2],o=b[c+a.PREV_G2],p=b[c+a.PREV_B2];var u=b[c],i=this.getCurvePercent(c/a.ENTRIES-1,1-(q-u)/(b[c+a.PREV_TIME]-u));j+=(b[c+a.R]-j)*i,k+=(b[c+a.G]-k)*i,l+=(b[c+a.B]-l)*i,m+=(b[c+a.A]-m)*i,n+=(b[c+a.R2]-n)*i,o+=(b[c+a.G2]-o)*i,p+=(b[c+a.B2]-p)*i}if(1==d)e.color.set(j,k,l,m),e.darkColor.set(n,o,p,1);else{var f=e.color,g=e.darkColor;t==bQ.setup&&(f.setFromColor(e.data.color),g.setFromColor(e.data.darkColor)),f.add((j-f.r)*d,(k-f.g)*d,(l-f.b)*d,(m-f.a)*d),g.add((n-g.r)*d,(o-g.g)*d,(p-g.b)*d,0)}}},a.ENTRIES=8,a.PREV_TIME=-8,a.PREV_R=-7,a.PREV_G=-6,a.PREV_B=-5,a.PREV_A=-4,a.PREV_R2=-3,a.PREV_G2=-2,a.PREV_B2=-1,a.R=1,a.G=2,a.B=3,a.A=4,a.R2=5,a.G2=6,a.B2=7,a}(h),c.TwoColorTimeline=as,at=function(){function a(a){this.frames=c.Utils.newFloatArray(a),this.attachmentNames=new Array(a)}return a.prototype.getPropertyId=function(){return(bS.attachment<<24)+this.slotIndex},a.prototype.getFrameCount=function(){return this.frames.length},a.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.attachmentNames[a]=c},a.prototype.apply=function(a,i,d,j,k,e,h){var b=a.slots[this.slotIndex];if(b.bone.active){if(h==bR.mixOut){e==bQ.setup&&this.setAttachment(a,b,b.data.attachmentName);return}var c=this.frames;if(d<c[0]){(e==bQ.setup||e==bQ.first)&&this.setAttachment(a,b,b.data.attachmentName);return}var f=0;f=d>=c[c.length-1]?c.length-1:an.binarySearch(c,d,1)-1;var g=this.attachmentNames[f];a.slots[this.slotIndex].setAttachment(null==g?null:a.getAttachment(this.slotIndex,g))}},a.prototype.setAttachment=function(b,c,a){c.attachment=null==a?null:b.getAttachment(this.slotIndex,a)},a}(),c.AttachmentTimeline=at,bT=null,au=function(b){function a(a){var d=b.call(this,a)||this;return d.frames=c.Utils.newFloatArray(a),d.frameVertices=new Array(a),null==bT&&(bT=c.Utils.newFloatArray(64)),d}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.deform<<27)+ +this.attachment.id+this.slotIndex},a.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.frameVertices[a]=c},a.prototype.apply=function(O,P,E,Q,e,o,R){var J=O.slots[this.slotIndex];if(J.bone.active){var h=J.getAttachment();if(h instanceof c.VertexAttachment&&!(h.deformAttachment!=this.attachment)){var t=J.deform;0==t.length&&(o=bQ.setup);var F=this.frameVertices,b=F[0].length,n=this.frames;if(E<n[0]){var f=h;switch(o){case bQ.setup:t.length=0;return;case bQ.first:if(1==e){t.length=0;break}var K=c.Utils.setArraySize(t,b);if(null==f.bones)for(var g=f.vertices,i=0;i<b;i++)K[i]+=(g[i]-K[i])*e;else{e=1-e;for(var i=0;i<b;i++)K[i]*=e}}return}var d=c.Utils.setArraySize(t,b);if(E>=n[n.length-1]){var j=F[n.length-1];if(1==e)if(o==bQ.add){var f=h;if(null==f.bones)for(var g=f.vertices,u=0;u<b;u++)d[u]+=j[u]-g[u];else for(var G=0;G<b;G++)d[G]+=j[G]}else c.Utils.arrayCopy(j,0,d,0,b);else switch(o){case bQ.setup:var L=h;if(null==L.bones)for(var g=L.vertices,v=0;v<b;v++){var w=g[v];d[v]=w+(j[v]-w)*e}else for(var H=0;H<b;H++)d[H]=j[H]*e;break;case bQ.first:case bQ.replace:for(var x=0;x<b;x++)d[x]+=(j[x]-d[x])*e;break;case bQ.add:var f=h;if(null==f.bones)for(var g=f.vertices,y=0;y<b;y++)d[y]+=(j[y]-g[y])*e;else for(var I=0;I<b;I++)d[I]+=j[I]*e}return}var z=an.binarySearch(n,E),k=F[z-1],l=F[z],M=n[z],m=this.getCurvePercent(z-1,1-(E-M)/(n[z-1]-M));if(1==e)if(o==bQ.add){var f=h;if(null==f.bones)for(var g=f.vertices,p=0;p<b;p++){var a=k[p];d[p]+=a+(l[p]-a)*m-g[p]}else for(var A=0;A<b;A++){var a=k[A];d[A]+=a+(l[A]-a)*m}}else for(var B=0;B<b;B++){var a=k[B];d[B]=a+(l[B]-a)*m}else switch(o){case bQ.setup:var N=h;if(null==N.bones)for(var g=N.vertices,q=0;q<b;q++){var a=k[q],w=g[q];d[q]=w+(a+(l[q]-a)*m-w)*e}else for(var C=0;C<b;C++){var a=k[C];d[C]=(a+(l[C]-a)*m)*e}break;case bQ.first:case bQ.replace:for(var r=0;r<b;r++){var a=k[r];d[r]+=(a+(l[r]-a)*m-d[r])*e}break;case bQ.add:var f=h;if(null==f.bones)for(var g=f.vertices,s=0;s<b;s++){var a=k[s];d[s]+=(a+(l[s]-a)*m-g[s])*e}else for(var D=0;D<b;D++){var a=k[D];d[D]+=(a+(l[D]-a)*m)*e}}}}},a}(h),c.DeformTimeline=au,av=function(){function a(a){this.frames=c.Utils.newFloatArray(a),this.events=new Array(a)}return a.prototype.getPropertyId=function(){return bS.event<<24},a.prototype.getFrameCount=function(){return this.frames.length},a.prototype.setFrame=function(a,b){this.frames[a]=b.time,this.events[a]=b},a.prototype.apply=function(g,c,d,e,h,i,j){if(null!=e){var b=this.frames,f=this.frames.length;if(c>d)this.apply(g,c,Number.MAX_VALUE,e,h,i,j),c=-1;else if(c>=b[f-1])return;if(!(d<b[0])){var a=0;if(c<b[0])a=0;else{a=an.binarySearch(b,c);for(var k=b[a];a>0&&b[a-1]==k;)a--}for(;a<f&&d>=b[a];a++)e.push(this.events[a])}}},a}(),c.EventTimeline=av,aw=function(){function a(a){this.frames=c.Utils.newFloatArray(a),this.drawOrders=new Array(a)}return a.prototype.getPropertyId=function(){return bS.drawOrder<<24},a.prototype.getFrameCount=function(){return this.frames.length},a.prototype.setFrame=function(a,b,c){this.frames[a]=b,this.drawOrders[a]=c},a.prototype.apply=function(a,m,e,n,o,f,k){var i=a.drawOrder,g=a.slots;if(k==bR.mixOut&&f==bQ.setup){c.Utils.arrayCopy(a.slots,0,a.drawOrder,0,a.slots.length);return}var b=this.frames;if(e<b[0]){(f==bQ.setup||f==bQ.first)&&c.Utils.arrayCopy(a.slots,0,a.drawOrder,0,a.slots.length);return}var j=0;j=e>=b[b.length-1]?b.length-1:an.binarySearch(b,e)-1;var h=this.drawOrders[j];if(null==h)c.Utils.arrayCopy(g,0,i,0,g.length);else for(var d=0,l=h.length;d<l;d++)i[d]=g[h[d]]},a}(),c.DrawOrderTimeline=aw,ax=function(b){function a(d){var e=b.call(this,d)||this;return e.frames=c.Utils.newFloatArray(d*a.ENTRIES),e}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.ikConstraint<<24)+this.ikConstraintIndex},a.prototype.setFrame=function(b,c,d,e,f,g,h){b*=a.ENTRIES,this.frames[b]=c,this.frames[b+a.MIX]=d,this.frames[b+a.SOFTNESS]=e,this.frames[b+a.BEND_DIRECTION]=f,this.frames[b+a.COMPRESS]=g?1:0,this.frames[b+a.STRETCH]=h?1:0},a.prototype.apply=function(m,n,f,o,e,k,g){var c=this.frames,b=m.ikConstraints[this.ikConstraintIndex];if(b.active){if(f<c[0]){switch(k){case bQ.setup:b.mix=b.data.mix,b.softness=b.data.softness,b.bendDirection=b.data.bendDirection,b.compress=b.data.compress,b.stretch=b.data.stretch;return;case bQ.first:b.mix+=(b.data.mix-b.mix)*e,b.softness+=(b.data.softness-b.softness)*e,b.bendDirection=b.data.bendDirection,b.compress=b.data.compress,b.stretch=b.data.stretch}return}if(f>=c[c.length-a.ENTRIES]){k==bQ.setup?(b.mix=b.data.mix+(c[c.length+a.PREV_MIX]-b.data.mix)*e,b.softness=b.data.softness+(c[c.length+a.PREV_SOFTNESS]-b.data.softness)*e,g==bR.mixOut?(b.bendDirection=b.data.bendDirection,b.compress=b.data.compress,b.stretch=b.data.stretch):(b.bendDirection=c[c.length+a.PREV_BEND_DIRECTION],b.compress=0!=c[c.length+a.PREV_COMPRESS],b.stretch=0!=c[c.length+a.PREV_STRETCH])):(b.mix+=(c[c.length+a.PREV_MIX]-b.mix)*e,b.softness+=(c[c.length+a.PREV_SOFTNESS]-b.softness)*e,g==bR.mixIn&&(b.bendDirection=c[c.length+a.PREV_BEND_DIRECTION],b.compress=0!=c[c.length+a.PREV_COMPRESS],b.stretch=0!=c[c.length+a.PREV_STRETCH]));return}var d=an.binarySearch(c,f,a.ENTRIES),h=c[d+a.PREV_MIX],i=c[d+a.PREV_SOFTNESS],l=c[d],j=this.getCurvePercent(d/a.ENTRIES-1,1-(f-l)/(c[d+a.PREV_TIME]-l));k==bQ.setup?(b.mix=b.data.mix+(h+(c[d+a.MIX]-h)*j-b.data.mix)*e,b.softness=b.data.softness+(i+(c[d+a.SOFTNESS]-i)*j-b.data.softness)*e,g==bR.mixOut?(b.bendDirection=b.data.bendDirection,b.compress=b.data.compress,b.stretch=b.data.stretch):(b.bendDirection=c[d+a.PREV_BEND_DIRECTION],b.compress=0!=c[d+a.PREV_COMPRESS],b.stretch=0!=c[d+a.PREV_STRETCH])):(b.mix+=(h+(c[d+a.MIX]-h)*j-b.mix)*e,b.softness+=(i+(c[d+a.SOFTNESS]-i)*j-b.softness)*e,g==bR.mixIn&&(b.bendDirection=c[d+a.PREV_BEND_DIRECTION],b.compress=0!=c[d+a.PREV_COMPRESS],b.stretch=0!=c[d+a.PREV_STRETCH]))}},a.ENTRIES=6,a.PREV_TIME=-6,a.PREV_MIX=-5,a.PREV_SOFTNESS=-4,a.PREV_BEND_DIRECTION=-3,a.PREV_COMPRESS=-2,a.PREV_STRETCH=-1,a.MIX=1,a.SOFTNESS=2,a.BEND_DIRECTION=3,a.COMPRESS=4,a.STRETCH=5,a}(h),c.IkConstraintTimeline=ax,ay=function(b){function a(d){var e=b.call(this,d)||this;return e.frames=c.Utils.newFloatArray(d*a.ENTRIES),e}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.transformConstraint<<24)+this.transformConstraintIndex},a.prototype.setFrame=function(b,c,d,e,f,g){b*=a.ENTRIES,this.frames[b]=c,this.frames[b+a.ROTATE]=d,this.frames[b+a.TRANSLATE]=e,this.frames[b+a.SCALE]=f,this.frames[b+a.SHEAR]=g},a.prototype.apply=function(p,q,k,r,e,n,s){var c=this.frames,b=p.transformConstraints[this.transformConstraintIndex];if(b.active){if(k<c[0]){var d=b.data;switch(n){case bQ.setup:b.rotateMix=d.rotateMix,b.translateMix=d.translateMix,b.scaleMix=d.scaleMix,b.shearMix=d.shearMix;return;case bQ.first:b.rotateMix+=(d.rotateMix-b.rotateMix)*e,b.translateMix+=(d.translateMix-b.translateMix)*e,b.scaleMix+=(d.scaleMix-b.scaleMix)*e,b.shearMix+=(d.shearMix-b.shearMix)*e}return}var g=0,h=0,i=0,j=0;if(k>=c[c.length-a.ENTRIES]){var l=c.length;g=c[l+a.PREV_ROTATE],h=c[l+a.PREV_TRANSLATE],i=c[l+a.PREV_SCALE],j=c[l+a.PREV_SHEAR]}else{var f=an.binarySearch(c,k,a.ENTRIES);g=c[f+a.PREV_ROTATE],h=c[f+a.PREV_TRANSLATE],i=c[f+a.PREV_SCALE],j=c[f+a.PREV_SHEAR];var o=c[f],m=this.getCurvePercent(f/a.ENTRIES-1,1-(k-o)/(c[f+a.PREV_TIME]-o));g+=(c[f+a.ROTATE]-g)*m,h+=(c[f+a.TRANSLATE]-h)*m,i+=(c[f+a.SCALE]-i)*m,j+=(c[f+a.SHEAR]-j)*m}if(n==bQ.setup){var d=b.data;b.rotateMix=d.rotateMix+(g-d.rotateMix)*e,b.translateMix=d.translateMix+(h-d.translateMix)*e,b.scaleMix=d.scaleMix+(i-d.scaleMix)*e,b.shearMix=d.shearMix+(j-d.shearMix)*e}else b.rotateMix+=(g-b.rotateMix)*e,b.translateMix+=(h-b.translateMix)*e,b.scaleMix+=(i-b.scaleMix)*e,b.shearMix+=(j-b.shearMix)*e}},a.ENTRIES=5,a.PREV_TIME=-5,a.PREV_ROTATE=-4,a.PREV_TRANSLATE=-3,a.PREV_SCALE=-2,a.PREV_SHEAR=-1,a.ROTATE=1,a.TRANSLATE=2,a.SCALE=3,a.SHEAR=4,a}(h),c.TransformConstraintTimeline=ay,x=function(b){function a(d){var e=b.call(this,d)||this;return e.frames=c.Utils.newFloatArray(d*a.ENTRIES),e}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.pathConstraintPosition<<24)+this.pathConstraintIndex},a.prototype.setFrame=function(b,c,d){b*=a.ENTRIES,this.frames[b]=c,this.frames[b+a.VALUE]=d},a.prototype.apply=function(j,l,f,m,g,h,n){var c=this.frames,b=j.pathConstraints[this.pathConstraintIndex];if(b.active){if(f<c[0]){switch(h){case bQ.setup:b.position=b.data.position;return;case bQ.first:b.position+=(b.data.position-b.position)*g}return}var d=0;if(f>=c[c.length-a.ENTRIES])d=c[c.length+a.PREV_VALUE];else{var e=an.binarySearch(c,f,a.ENTRIES);d=c[e+a.PREV_VALUE];var i=c[e],k=this.getCurvePercent(e/a.ENTRIES-1,1-(f-i)/(c[e+a.PREV_TIME]-i));d+=(c[e+a.VALUE]-d)*k}h==bQ.setup?b.position=b.data.position+(d-b.data.position)*g:b.position+=(d-b.position)*g}},a.ENTRIES=2,a.PREV_TIME=-2,a.PREV_VALUE=-1,a.VALUE=1,a}(h),c.PathConstraintPositionTimeline=x,az=function(b){function a(a){return b.call(this,a)||this}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.pathConstraintSpacing<<24)+this.pathConstraintIndex},a.prototype.apply=function(j,l,f,m,g,h,n){var c=this.frames,b=j.pathConstraints[this.pathConstraintIndex];if(b.active){if(f<c[0]){switch(h){case bQ.setup:b.spacing=b.data.spacing;return;case bQ.first:b.spacing+=(b.data.spacing-b.spacing)*g}return}var d=0;if(f>=c[c.length-a.ENTRIES])d=c[c.length+a.PREV_VALUE];else{var e=an.binarySearch(c,f,a.ENTRIES);d=c[e+a.PREV_VALUE];var i=c[e],k=this.getCurvePercent(e/a.ENTRIES-1,1-(f-i)/(c[e+a.PREV_TIME]-i));d+=(c[e+a.VALUE]-d)*k}h==bQ.setup?b.spacing=b.data.spacing+(d-b.data.spacing)*g:b.spacing+=(d-b.spacing)*g}},a}(x),c.PathConstraintSpacingTimeline=az,aA=function(b){function a(d){var e=b.call(this,d)||this;return e.frames=c.Utils.newFloatArray(d*a.ENTRIES),e}return b1(a,b),a.prototype.getPropertyId=function(){return(bS.pathConstraintMix<<24)+this.pathConstraintIndex},a.prototype.setFrame=function(b,c,d,e){b*=a.ENTRIES,this.frames[b]=c,this.frames[b+a.ROTATE]=d,this.frames[b+a.TRANSLATE]=e},a.prototype.apply=function(l,m,h,n,e,i,o){var c=this.frames,b=l.pathConstraints[this.pathConstraintIndex];if(b.active){if(h<c[0]){switch(i){case bQ.setup:b.rotateMix=b.data.rotateMix,b.translateMix=b.data.translateMix;return;case bQ.first:b.rotateMix+=(b.data.rotateMix-b.rotateMix)*e,b.translateMix+=(b.data.translateMix-b.translateMix)*e}return}var f=0,g=0;if(h>=c[c.length-a.ENTRIES])f=c[c.length+a.PREV_ROTATE],g=c[c.length+a.PREV_TRANSLATE];else{var d=an.binarySearch(c,h,a.ENTRIES);f=c[d+a.PREV_ROTATE],g=c[d+a.PREV_TRANSLATE];var j=c[d],k=this.getCurvePercent(d/a.ENTRIES-1,1-(h-j)/(c[d+a.PREV_TIME]-j));f+=(c[d+a.ROTATE]-f)*k,g+=(c[d+a.TRANSLATE]-g)*k}i==bQ.setup?(b.rotateMix=b.data.rotateMix+(f-b.data.rotateMix)*e,b.translateMix=b.data.translateMix+(g-b.data.translateMix)*e):(b.rotateMix+=(f-b.rotateMix)*e,b.translateMix+=(g-b.translateMix)*e)}},a.ENTRIES=3,a.PREV_TIME=-3,a.PREV_ROTATE=-2,a.PREV_TRANSLATE=-1,a.ROTATE=1,a.TRANSLATE=2,a}(h),c.PathConstraintMixTimeline=aA,m=(aB=a||(a={})).core||(aB.core={}),aC=function(){function a(a){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new aE(this),this.propertyIDs=new m.IntSet,this.animationsChanged=!1,this.trackEntryPool=new m.Pool(function(){return new aD}),this.data=a}return a.prototype.update=function(d){d*=this.timeScale;for(var g=this.tracks,e=0,i=g.length;e<i;e++){var a=g[e];if(null!=a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var f=d*a.timeScale;if(a.delay>0){if(a.delay-=f,a.delay>0)continue;f=-a.delay,a.delay=0}var b=a.next;if(null!=b){var h=a.trackLast-b.delay;if(h>=0){for(b.delay=0,b.trackTime+=0==a.timeScale?0:(h/a.timeScale+d)*b.timeScale,a.trackTime+=f,this.setCurrent(e,b,!0);null!=b.mixingFrom;)b.mixTime+=d,b=b.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&null==a.mixingFrom){g[e]=null,this.queue.end(a),this.disposeNext(a);continue}if(null!=a.mixingFrom&&this.updateMixingFrom(a,d)){var c=a.mixingFrom;for(a.mixingFrom=null,null!=c&&(c.mixingTo=null);null!=c;)this.queue.end(c),c=c.mixingFrom}a.trackTime+=f}}this.queue.drain()},a.prototype.updateMixingFrom=function(b,c){var a=b.mixingFrom;if(null==a)return!0;var d=this.updateMixingFrom(a,c);return(a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast,b.mixTime>0&&b.mixTime>=b.mixDuration)?((0==a.totalAlpha||0==b.mixDuration)&&(b.mixingFrom=a.mixingFrom,null!=a.mixingFrom&&(a.mixingFrom.mixingTo=b),b.interruptAlpha=a.interruptAlpha,this.queue.end(a)),d):(a.trackTime+=c*a.timeScale,b.mixTime+=c,!1)},a.prototype.apply=function(c){if(null==c)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var k=this.events,p=this.tracks,q=!1,h=0,w=p.length;h<w;h++){var b=p[h];if(null!=b&&!(b.delay>0)){q=!0;var e=0==h?m.MixBlend.first:b.mixBlend,f=b.alpha;null!=b.mixingFrom?f*=this.applyMixingFrom(b,c,e):b.trackTime>=b.trackEnd&&null==b.next&&(f=0);var r=b.animationLast,g=b.getAnimationTime(),l=b.animation.timelines.length,s=b.animation.timelines;if(0==h&&1==f||e==m.MixBlend.add)for(var d=0;d<l;d++){m.Utils.webkit602BugfixHelper(f,e);var n=s[d];n instanceof m.AttachmentTimeline?this.applyAttachmentTimeline(n,c,g,e,!0):n.apply(c,r,g,k,f,e,m.MixDirection.mixIn)}else{var x=b.timelineMode,t=0==b.timelinesRotation.length;t&&m.Utils.setArraySize(b.timelinesRotation,l<<1,null);for(var y=b.timelinesRotation,d=0;d<l;d++){var i=s[d],u=x[d]==a.SUBSEQUENT?e:m.MixBlend.setup;i instanceof m.RotateTimeline?this.applyRotateTimeline(i,c,g,f,u,y,d<<1,t):i instanceof m.AttachmentTimeline?this.applyAttachmentTimeline(i,c,g,e,!0):(m.Utils.webkit602BugfixHelper(f,e),i.apply(c,r,g,k,f,u,m.MixDirection.mixIn))}}this.queueEvents(b,g),k.length=0,b.nextAnimationLast=g,b.nextTrackLast=b.trackTime}}for(var z=this.unkeyedState+a.SETUP,A=c.slots,o=0,B=c.slots.length;o<B;o++){var j=A[o];if(j.attachmentState==z){var v=j.data.attachmentName;j.attachment=null==v?null:c.getAttachment(j.data.index,v)}}return this.unkeyedState+=2,this.queue.drain(),q},a.prototype.applyMixingFrom=function(i,k,c){var b=i.mixingFrom;null!=b.mixingFrom&&this.applyMixingFrom(b,k,c);var g=0;0==i.mixDuration?(g=1,c==m.MixBlend.first&&(c=m.MixBlend.setup)):((g=i.mixTime/i.mixDuration)>1&&(g=1),c!=m.MixBlend.first&&(c=b.mixBlend));var p=g<b.eventThreshold?this.events:null,w=g<b.attachmentThreshold,q=g<b.drawOrderThreshold,r=b.animationLast,j=b.getAnimationTime(),n=b.animation.timelines.length,s=b.animation.timelines,l=b.alpha*i.interruptAlpha,o=l*(1-g);if(c==m.MixBlend.add)for(var d=0;d<n;d++)s[d].apply(k,r,j,p,o,c,m.MixDirection.mixOut);else{var x=b.timelineMode,y=b.timelineHoldMix,t=0==b.timelinesRotation.length;t&&m.Utils.setArraySize(b.timelinesRotation,n<<1,null);var z=b.timelinesRotation;b.totalAlpha=0;for(var d=0;d<n;d++){var h=s[d],u=m.MixDirection.mixOut,e=void 0,f=0;switch(x[d]){case a.SUBSEQUENT:if(!q&&h instanceof m.DrawOrderTimeline)continue;e=c,f=o;break;case a.FIRST:e=m.MixBlend.setup,f=o;break;case a.HOLD_SUBSEQUENT:e=c,f=l;break;case a.HOLD_FIRST:e=m.MixBlend.setup,f=l;break;default:e=m.MixBlend.setup;var v=y[d];f=l*Math.max(0,1-v.mixTime/v.mixDuration);break}b.totalAlpha+=f,h instanceof m.RotateTimeline?this.applyRotateTimeline(h,k,j,f,e,z,d<<1,t):h instanceof m.AttachmentTimeline?this.applyAttachmentTimeline(h,k,j,e,w):(m.Utils.webkit602BugfixHelper(f,c),q&&h instanceof m.DrawOrderTimeline&&e==m.MixBlend.setup&&(u=m.MixDirection.mixIn),h.apply(k,r,j,p,f,e,u))}}return i.mixDuration>0&&this.queueEvents(b,j),this.events.length=0,b.nextAnimationLast=j,b.nextTrackLast=b.trackTime,g},a.prototype.applyAttachmentTimeline=function(d,e,f,g,h){var i,b=e.slots[d.slotIndex];if(b.bone.active){var c=d.frames;f<c[0]?(g==m.MixBlend.setup||g==m.MixBlend.first)&&this.setAttachment(e,b,b.data.attachmentName,h):(i=f>=c[c.length-1]?c.length-1:m.Animation.binarySearch(c,f)-1,this.setAttachment(e,b,d.attachmentNames[i],h)),b.attachmentState<=this.unkeyedState&&(b.attachmentState=this.unkeyedState+a.SETUP)}},a.prototype.setAttachment=function(d,b,c,e){b.attachment=null==c?null:d.getAttachment(b.data.index,c),e&&(b.attachmentState=this.unkeyedState+a.CURRENT)},a.prototype.applyRotateTimeline=function(p,q,i,r,n,f,g,s){if(s&&(f[g]=0),1==r){p.apply(q,0,i,null,1,n,m.MixDirection.mixIn);return}var o=p,a=o.frames,b=q.bones[o.boneIndex];if(b.active){var h=0,c=0;if(i<a[0])switch(n){case m.MixBlend.setup:b.rotation=b.data.rotation;default:return;case m.MixBlend.first:h=b.rotation,c=b.data.rotation}else if(h=n==m.MixBlend.setup?b.data.rotation:b.rotation,i>=a[a.length-m.RotateTimeline.ENTRIES])c=b.data.rotation+a[a.length+m.RotateTimeline.PREV_ROTATION];else{var j=m.Animation.binarySearch(a,i,m.RotateTimeline.ENTRIES),t=a[j+m.RotateTimeline.PREV_ROTATION],u=a[j],x=o.getCurvePercent((j>>1)-1,1-(i-u)/(a[j+m.RotateTimeline.PREV_TIME]-u));c=a[j+m.RotateTimeline.ROTATION]-t,c-=(16384-(16384.499999999996-c/360|0))*360,c=t+c*x+b.data.rotation,c-=(16384-(16384.499999999996-c/360|0))*360}var k=0,e=c-h;if(0==(e-=(16384-(16384.499999999996-e/360|0))*360))k=f[g];else{var d=0,l=0;s?(d=0,l=e):(d=f[g],l=f[g+1]);var v=e>0,w=d>=0;m.MathUtils.signum(l)!=m.MathUtils.signum(e)&&90>=Math.abs(l)&&(Math.abs(d)>180&&(d+=360*m.MathUtils.signum(d)),w=v),k=e+d-d%360,w!=v&&(k+=360*m.MathUtils.signum(d)),f[g]=k}f[g+1]=e,h+=k*r,b.rotation=h-(16384-(16384.499999999996-h/360|0))*360}},a.prototype.queueEvents=function(a,j){for(var g=a.animationStart,c=a.animationEnd,e=c-g,h=a.trackLast%e,d=this.events,b=0,i=d.length;b<i;b++){var f=d[b];if(f.time<h)break;f.time>c||this.queue.event(a,f)}for((a.loop?0==e||h>a.trackTime%e:j>=c&&a.animationLast<c)&&this.queue.complete(a);b<i;b++)d[b].time<g||this.queue.event(a,d[b])},a.prototype.clearTracks=function(){var b=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var a=0,c=this.tracks.length;a<c;a++)this.clearTrack(a);this.tracks.length=0,this.queue.drainDisabled=b,this.queue.drain()},a.prototype.clearTrack=function(d){if(!(d>=this.tracks.length)){var a=this.tracks[d];if(null!=a){this.queue.end(a),this.disposeNext(a);for(var b=a;;){var c=b.mixingFrom;if(null==c)break;this.queue.end(c),b.mixingFrom=null,b.mixingTo=null,b=c}this.tracks[a.trackIndex]=null,this.queue.drain()}}},a.prototype.setCurrent=function(c,b,d){var a=this.expandToIndex(c);this.tracks[c]=b,null!=a&&(d&&this.queue.interrupt(a),b.mixingFrom=a,a.mixingTo=b,b.mixTime=0,null!=a.mixingFrom&&a.mixDuration>0&&(b.interruptAlpha*=Math.min(1,a.mixTime/a.mixDuration)),a.timelinesRotation.length=0),this.queue.start(b)},a.prototype.setAnimation=function(c,a,d){var b=this.data.skeletonData.findAnimation(a);if(null==b)throw new Error("Animation not found: "+a);return this.setAnimationWith(c,b,d)},a.prototype.setAnimationWith=function(b,c,f){if(null==c)throw new Error("animation cannot be null.");var d=!0,a=this.expandToIndex(b);null!=a&&(-1==a.nextTrackLast?(this.tracks[b]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,d=!1):this.disposeNext(a));var e=this.trackEntry(b,c,f,a);return this.setCurrent(b,e,d),this.queue.drain(),e},a.prototype.addAnimation=function(c,a,d,e){var b=this.data.skeletonData.findAnimation(a);if(null==b)throw new Error("Animation not found: "+a);return this.addAnimationWith(c,b,d,e)},a.prototype.addAnimationWith=function(e,f,g,b){if(null==f)throw new Error("animation cannot be null.");var a=this.expandToIndex(e);if(null!=a)for(;null!=a.next;)a=a.next;var c=this.trackEntry(e,f,g,a);if(null==a)this.setCurrent(e,c,!0),this.queue.drain();else if(a.next=c,b<=0){var d=a.animationEnd-a.animationStart;0!=d?(a.loop?b+=d*(1+(a.trackTime/d|0)):b+=Math.max(d,a.trackTime),b-=this.data.getMix(a.animation,f)):b=a.trackTime}return c.delay=b,c},a.prototype.setEmptyAnimation=function(d,c){var b=this.setAnimationWith(d,a.emptyAnimation,!1);return b.mixDuration=c,b.trackEnd=c,b},a.prototype.addEmptyAnimation=function(e,b,c){c<=0&&(c-=b);var d=this.addAnimationWith(e,a.emptyAnimation,!1,c);return d.mixDuration=b,d.trackEnd=b,d},a.prototype.setEmptyAnimations=function(c){var d=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var a=0,e=this.tracks.length;a<e;a++){var b=this.tracks[a];null!=b&&this.setEmptyAnimation(b.trackIndex,c)}this.queue.drainDisabled=d,this.queue.drain()},a.prototype.expandToIndex=function(a){return a<this.tracks.length?this.tracks[a]:(m.Utils.ensureArrayCapacity(this.tracks,a+1,null),this.tracks.length=a+1,null)},a.prototype.trackEntry=function(d,b,e,c){var a=this.trackEntryPool.obtain();return a.trackIndex=d,a.animation=b,a.loop=e,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=b.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==c?0:this.data.getMix(c.animation,b),a.mixBlend=m.MixBlend.replace,a},a.prototype.disposeNext=function(b){for(var a=b.next;null!=a;)this.queue.dispose(a),a=a.next;b.next=null},a.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var b=0,c=this.tracks.length;b<c;b++){var a=this.tracks[b];if(null!=a){for(;null!=a.mixingFrom;)a=a.mixingFrom;do(null==a.mixingFrom||a.mixBlend!=m.MixBlend.add)&&this.computeHold(a),a=a.mixingTo;while(null!=a)}}},a.prototype.computeHold=function(c){var d=c.mixingTo,j=c.animation.timelines,g=c.animation.timelines.length,e=m.Utils.setArraySize(c.timelineMode,g);c.timelineHoldMix.length=0;var l=m.Utils.setArraySize(c.timelineHoldMix,g),k=this.propertyIDs;if(null!=d&&d.holdPrevious){for(var b=0;b<g;b++)e[b]=k.add(j[b].getPropertyId())?a.HOLD_FIRST:a.HOLD_SUBSEQUENT;return}outer:for(var b=0;b<g;b++){var h=j[b],i=h.getPropertyId();if(k.add(i))if(null==d||h instanceof m.AttachmentTimeline||h instanceof m.DrawOrderTimeline||h instanceof m.EventTimeline||!d.animation.hasTimeline(i))e[b]=a.FIRST;else{for(var f=d.mixingTo;null!=f;f=f.mixingTo)if(!f.animation.hasTimeline(i)){if(c.mixDuration>0){e[b]=a.HOLD_MIX,l[b]=f;continue outer}break}e[b]=a.HOLD_FIRST}else e[b]=a.SUBSEQUENT}},a.prototype.getCurrent=function(a){return a>=this.tracks.length?null:this.tracks[a]},a.prototype.addListener=function(a){if(null==a)throw new Error("listener cannot be null.");this.listeners.push(a)},a.prototype.removeListener=function(b){var a=this.listeners.indexOf(b);a>=0&&this.listeners.splice(a,1)},a.prototype.clearListeners=function(){this.listeners.length=0},a.prototype.clearListenerNotifications=function(){this.queue.clear()},a.prototype.setAnimationByName=function(b,c,d){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(b,c,d)},a.prototype.addAnimationByName=function(b,c,d,e){a.deprecatedWarning2||(a.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(b,c,d,e)},a.prototype.hasAnimation=function(a){return null!==this.data.skeletonData.findAnimation(a)},a.prototype.hasAnimationByName=function(b){return a.deprecatedWarning3||(a.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(b)},a.emptyAnimation=new m.Animation("<empty>",[],0),a.SUBSEQUENT=0,a.FIRST=1,a.HOLD_SUBSEQUENT=2,a.HOLD_FIRST=3,a.HOLD_MIX=4,a.SETUP=1,a.CURRENT=2,a.deprecatedWarning1=!1,a.deprecatedWarning2=!1,a.deprecatedWarning3=!1,a}(),m.AnimationState=aC,aD=function(){function a(){this.mixBlend=m.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return a.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},a.prototype.getAnimationTime=function(){if(this.loop){var a=this.animationEnd-this.animationStart;return 0==a?this.animationStart:this.trackTime%a+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},a.prototype.setAnimationLast=function(a){this.animationLast=a,this.nextAnimationLast=a},a.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},a.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(a.prototype,"time",{get:function(){return a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(b){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=b},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"endTime",{get:function(){return a.deprecatedWarning2||(a.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(b){a.deprecatedWarning2||(a.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=b},enumerable:!1,configurable:!0}),a.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},a.deprecatedWarning1=!1,a.deprecatedWarning2=!1,a}(),m.TrackEntry=aD,aE=function(){function a(a){this.objects=[],this.drainDisabled=!1,this.animState=a}return a.prototype.start=function(a){this.objects.push(bU.start),this.objects.push(a),this.animState.animationsChanged=!0},a.prototype.interrupt=function(a){this.objects.push(bU.interrupt),this.objects.push(a)},a.prototype.end=function(a){this.objects.push(bU.end),this.objects.push(a),this.animState.animationsChanged=!0},a.prototype.dispose=function(a){this.objects.push(bU.dispose),this.objects.push(a)},a.prototype.complete=function(a){this.objects.push(bU.complete),this.objects.push(a)},a.prototype.event=function(a,b){this.objects.push(bU.event),this.objects.push(a),this.objects.push(b)},a.prototype.deprecateStuff=function(){return a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},a.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,c=this.animState.listeners,d=0;d<e.length;d+=2){var h=e[d],a=e[d+1];switch(h){case bU.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var b=0;b<c.length;b++)c[b].start&&c[b].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case bU.interrupt:null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(var b=0;b<c.length;b++)c[b].interrupt&&c[b].interrupt(a);break;case bU.end:null!=a.listener&&a.listener.end&&a.listener.end(a);for(var b=0;b<c.length;b++)c[b].end&&c[b].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case bU.dispose:null!=a.listener&&a.listener.dispose&&a.listener.dispose(a);for(var b=0;b<c.length;b++)c[b].dispose&&c[b].dispose(a);this.animState.trackEntryPool.free(a);break;case bU.complete:null!=a.listener&&a.listener.complete&&a.listener.complete(a);for(var b=0;b<c.length;b++)c[b].complete&&c[b].complete(a);var g=m.MathUtils.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,g),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,g);break;case bU.event:var f=e[(d++)+2];null!=a.listener&&a.listener.event&&a.listener.event(a,f);for(var b=0;b<c.length;b++)c[b].event&&c[b].event(a,f);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,f),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,f);break}}this.clear(),this.drainDisabled=!1}},a.prototype.clear=function(){this.objects.length=0},a.deprecatedWarning1=!1,a}(),m.EventQueue=aE,(g=bU=m.EventType||(m.EventType={}))[g.start=0]="start",g[g.interrupt=1]="interrupt",g[g.end=2]="end",g[g.dispose=3]="dispose",g[g.complete=4]="complete",g[g.event=5]="event",aF=function(){function a(){}return a.prototype.start=function(a){},a.prototype.interrupt=function(a){},a.prototype.end=function(a){},a.prototype.dispose=function(a){},a.prototype.complete=function(a){},a.prototype.event=function(a,b){},a}(),m.AnimationStateAdapter=aF,aH=(aG=a||(a={})).core||(aG.core={}),aI=function(){function a(a){if(this.animationToMixTime={},this.defaultMix=0,null==a)throw new Error("skeletonData cannot be null.");this.skeletonData=a}return a.prototype.setMix=function(a,b,e){var c=this.skeletonData.findAnimation(a);if(null==c)throw new Error("Animation not found: "+a);var d=this.skeletonData.findAnimation(b);if(null==d)throw new Error("Animation not found: "+b);this.setMixWith(c,d,e)},a.prototype.setMixByName=function(b,c,d){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(b,c,d)},a.prototype.setMixWith=function(a,b,c){if(null==a)throw new Error("from cannot be null.");if(null==b)throw new Error("to cannot be null.");var d=a.name+"."+b.name;this.animationToMixTime[d]=c},a.prototype.getMix=function(b,c){var d=b.name+"."+c.name,a=this.animationToMixTime[d];return void 0===a?this.defaultMix:a},a.deprecatedWarning1=!1,a}(),aH.AnimationStateData=aI,aK=(aJ=a||(a={})).core||(aJ.core={}),aL=function(){function a(a){this.atlas=a}return a.prototype.newRegionAttachment=function(e,a,b){var c=this.atlas.findRegion(b);if(null==c)throw new Error("Region not found in atlas: "+b+" (region attachment: "+a+")");var d=new aK.RegionAttachment(a);return d.region=c,d},a.prototype.newMeshAttachment=function(e,a,b){var c=this.atlas.findRegion(b);if(null==c)throw new Error("Region not found in atlas: "+b+" (mesh attachment: "+a+")");var d=new aK.MeshAttachment(a);return d.region=c,d},a.prototype.newBoundingBoxAttachment=function(b,a){return new aK.BoundingBoxAttachment(a)},a.prototype.newPathAttachment=function(b,a){return new aK.PathAttachment(a)},a.prototype.newPointAttachment=function(b,a){return new aK.PointAttachment(a)},a.prototype.newClippingAttachment=function(b,a){return new aK.ClippingAttachment(a)},a}(),aK.AtlasAttachmentLoader=aL,(l=(aN=(aM=a||(a={})).core||(aM.core={})).BlendMode||(aN.BlendMode={}))[l.Normal=0]="Normal",l[l.Additive=1]="Additive",l[l.Multiply=2]="Multiply",l[l.Screen=3]="Screen",aP=(aO=a||(a={})).core||(aO.core={}),aQ=function(){function a(a,b,c){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.skeleton=b,this.parent=c,this.setToSetupPose()}return Object.defineProperty(a.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),a.prototype.isActive=function(){return this.active},a.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},a.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},a.prototype.updateWorldTransformWith=function(w,x,d,g,h,i,s){this.ax=w,this.ay=x,this.arotation=d,this.ascaleX=g,this.ascaleY=h,this.ashearX=i,this.ashearY=s,this.appliedValid=!0;var t=this.parent,b=this.matrix,u=this.skeleton.scaleX,v=a.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==t){var z=this.skeleton,l=d+90+s;b.a=aP.MathUtils.cosDeg(d+i)*g*u,b.c=aP.MathUtils.cosDeg(l)*h*u,b.b=aP.MathUtils.sinDeg(d+i)*g*v,b.d=aP.MathUtils.sinDeg(l)*h*v,b.tx=w*u+z.x,b.ty=x*v+z.y;return}var e=t.matrix.a,j=t.matrix.c,f=t.matrix.b,k=t.matrix.d;switch(b.tx=e*w+j*x+t.matrix.tx,b.ty=f*w+k*x+t.matrix.ty,this.data.transformMode){case aP.TransformMode.Normal:var l=d+90+s,m=aP.MathUtils.cosDeg(d+i)*g,n=aP.MathUtils.cosDeg(l)*h,o=aP.MathUtils.sinDeg(d+i)*g,p=aP.MathUtils.sinDeg(l)*h;b.a=e*m+j*o,b.c=e*n+j*p,b.b=f*m+k*o,b.d=f*n+k*p;return;case aP.TransformMode.OnlyTranslation:var l=d+90+s;b.a=aP.MathUtils.cosDeg(d+i)*g,b.c=aP.MathUtils.cosDeg(l)*h,b.b=aP.MathUtils.sinDeg(d+i)*g,b.d=aP.MathUtils.sinDeg(l)*h;break;case aP.TransformMode.NoRotationOrReflection:var c=e*e+f*f,y=0;c>1e-4?(c=Math.abs(e*k-j*f)/c,e/=this.skeleton.scaleX,f/=this.skeleton.scaleY,j=f*c,k=e*c,y=Math.atan2(f,e)*aP.MathUtils.radDeg):(e=0,f=0,y=90-Math.atan2(k,j)*aP.MathUtils.radDeg);var A=d+i-y,B=d+s-y+90,m=aP.MathUtils.cosDeg(A)*g,n=aP.MathUtils.cosDeg(B)*h,o=aP.MathUtils.sinDeg(A)*g,p=aP.MathUtils.sinDeg(B)*h;b.a=e*m-j*o,b.c=e*n-j*p,b.b=f*m+k*o,b.d=f*n+k*p;break;case aP.TransformMode.NoScale:case aP.TransformMode.NoScaleOrReflection:var C=aP.MathUtils.cosDeg(d),D=aP.MathUtils.sinDeg(d),q=(e*C+j*D)/u,r=(f*C+k*D)/v,c=Math.sqrt(q*q+r*r);c>1e-5&&(c=1/c),q*=c,r*=c,c=Math.sqrt(q*q+r*r),this.data.transformMode==aP.TransformMode.NoScale&&e*k-j*f<0!=(a.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(c=-c);var E=Math.PI/2+Math.atan2(r,q),F=Math.cos(E)*c,G=Math.sin(E)*c,m=aP.MathUtils.cosDeg(i)*g,n=aP.MathUtils.cosDeg(90+s)*h,o=aP.MathUtils.sinDeg(i)*g,p=aP.MathUtils.sinDeg(90+s)*h;b.a=q*m+F*o,b.c=q*n+F*p,b.b=r*m+G*o,b.d=r*n+G*p;break}b.a*=u,b.c*=u,b.b*=v,b.d*=v},a.prototype.setToSetupPose=function(){var a=this.data;this.x=a.x,this.y=a.y,this.rotation=a.rotation,this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.shearX=a.shearX,this.shearY=a.shearY},a.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*aP.MathUtils.radDeg},a.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*aP.MathUtils.radDeg},a.prototype.getWorldScaleX=function(){var a=this.matrix;return Math.sqrt(a.a*a.a+a.c*a.c)},a.prototype.getWorldScaleY=function(){var a=this.matrix;return Math.sqrt(a.b*a.b+a.d*a.d)},a.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var h=this.parent,a=this.matrix;if(null==h){this.ax=a.tx,this.ay=a.ty,this.arotation=Math.atan2(a.b,a.a)*aP.MathUtils.radDeg,this.ascaleX=Math.sqrt(a.a*a.a+a.b*a.b),this.ascaleY=Math.sqrt(a.c*a.c+a.d*a.d),this.ashearX=0,this.ashearY=Math.atan2(a.a*a.c+a.b*a.d,a.a*a.d-a.b*a.c)*aP.MathUtils.radDeg;return}var b=h.matrix,c=1/(b.a*b.d-b.b*b.c),i=a.tx-b.tx,j=a.ty-b.ty;this.ax=i*b.d*c-j*b.c*c,this.ay=j*b.a*c-i*b.b*c;var k=c*b.d,l=c*b.a,m=c*b.c,n=c*b.b,d=k*a.a-m*a.b,e=k*a.c-m*a.d,f=l*a.b-n*a.a,g=l*a.d-n*a.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(d*d+f*f),this.ascaleX>1e-4){var o=d*g-e*f;this.ascaleY=o/this.ascaleX,this.ashearY=Math.atan2(d*e+f*g,o)*aP.MathUtils.radDeg,this.arotation=Math.atan2(f,d)*aP.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(e*e+g*g),this.ashearY=0,this.arotation=90-Math.atan2(g,e)*aP.MathUtils.radDeg},a.prototype.worldToLocal=function(b){var a=this.matrix,d=a.a,e=a.c,f=a.b,g=a.d,c=1/(d*g-e*f),h=b.x-a.tx,i=b.y-a.ty;return b.x=h*g*c-i*e*c,b.y=i*d*c-h*f*c,b},a.prototype.localToWorld=function(b){var a=this.matrix,c=b.x,d=b.y;return b.x=c*a.a+d*a.c+a.tx,b.y=c*a.b+d*a.d+a.ty,b},a.prototype.worldToLocalRotation=function(b){var c=aP.MathUtils.sinDeg(b),d=aP.MathUtils.cosDeg(b),a=this.matrix;return Math.atan2(a.a*c-a.b*d,a.d*d-a.c*c)*aP.MathUtils.radDeg},a.prototype.localToWorldRotation=function(b){var c=aP.MathUtils.sinDeg(b),d=aP.MathUtils.cosDeg(b),a=this.matrix;return Math.atan2(d*a.b+c*a.d,d*a.a+c*a.c)*aP.MathUtils.radDeg},a.prototype.rotateWorld=function(d){var a=this.matrix,e=a.a,f=a.c,g=a.b,h=a.d,b=aP.MathUtils.cosDeg(d),c=aP.MathUtils.sinDeg(d);a.a=b*e-c*g,a.c=b*f-c*h,a.b=c*e+b*g,a.d=c*f+b*h,this.appliedValid=!1},a.yDown=!1,a}(),aP.Bone=aQ,v=(aR=a||(a={})).core||(aR.core={}),aS=function(a,b,c){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=bV.Normal,this.skinRequired=!1,this.color=new v.Color,a<0)throw new Error("index must be >= 0.");if(null==b)throw new Error("name cannot be null.");this.index=a,this.name=b,this.parent=c},v.BoneData=aS,(i=bV=v.TransformMode||(v.TransformMode={}))[i.Normal=0]="Normal",i[i.OnlyTranslation=1]="OnlyTranslation",i[i.NoRotationOrReflection=2]="NoRotationOrReflection",i[i.NoScale=3]="NoScale",i[i.NoScaleOrReflection=4]="NoScaleOrReflection",((aT=a||(a={})).core||(aT.core={})).ConstraintData=function(a,b,c){this.name=a,this.order=b,this.skinRequired=c},((aU=a||(a={})).core||(aU.core={})).Event=function(b,a){if(null==a)throw new Error("data cannot be null.");this.time=b,this.data=a},((aV=a||(a={})).core||(aV.core={})).EventData=function(a){this.name=a},aX=(aW=a||(a={})).core||(aW.core={}),aY=function(){function a(a,b){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.mix=a.mix,this.softness=a.softness,this.bendDirection=a.bendDirection,this.compress=a.compress,this.stretch=a.stretch,this.bones=new Array;for(var c=0;c<a.bones.length;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findBone(a.target.name)}return a.prototype.isActive=function(){return this.active},a.prototype.apply=function(){this.update()},a.prototype.update=function(){var a=this.target,b=this.bones;switch(b.length){case 1:this.apply1(b[0],a.worldX,a.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(b[0],b[1],a.worldX,a.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}},a.prototype.apply1=function(a,l,m,p,q,y,r){a.appliedValid||a.updateAppliedTransform();var c=a.parent.matrix,d=c.a,i=c.c,e=c.b,j=c.d,b=-a.ashearX-a.arotation,f=0,g=0;switch(a.data.transformMode){case aX.TransformMode.OnlyTranslation:f=l-a.worldX,g=m-a.worldY;break;case aX.TransformMode.NoRotationOrReflection:var h=Math.abs(d*j-i*e)/(d*d+e*e),s=d/a.skeleton.scaleX,t=e/a.skeleton.scaleY;i=-t*h*a.skeleton.scaleX,j=s*h*a.skeleton.scaleY,b+=Math.atan2(t,s)*aX.MathUtils.radDeg;default:var u=l-c.tx,v=m-c.ty,w=d*j-i*e;f=(u*j-v*i)/w-a.ax,g=(v*d-u*e)/w-a.ay}b+=Math.atan2(g,f)*aX.MathUtils.radDeg,a.ascaleX<0&&(b+=180),b>180?b-=360:b<-180&&(b+=360);var n=a.ascaleX,x=a.ascaleY;if(p||q){switch(a.data.transformMode){case aX.TransformMode.NoScale:case aX.TransformMode.NoScaleOrReflection:f=l-a.worldX,g=m-a.worldY}var k=a.data.length*n,o=Math.sqrt(f*f+g*g);if(p&&o<k||q&&o>k&&k>1e-4){var h=(o/k-1)*r+1;n*=h,y&&(x*=h)}}a.updateWorldTransformWith(a.ax,a.ay,a.arotation+b*r,n,x,a.ashearX,a.ashearY)},a.prototype.apply2=function(e,a,V,W,t,X,z,A){if(0==A){a.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),a.appliedValid||a.updateAppliedTransform();var L=e.ax,M=e.ay,j=e.ascaleX,Y=j,u=e.ascaleY,B=a.ascaleX,p=e.matrix,N=0,O=0,v=0;j<0?(j=-j,N=180,v=-1):(N=0,v=1),u<0&&(u=-u,v=-v),B<0?(B=-B,O=180):O=0;var s=a.ax,w=0,P=0,Q=0,c=p.a,g=p.c,b=p.b,h=p.d,Z=1e-4>=Math.abs(j-u);Z?(P=c*s+g*(w=a.ay)+p.tx,Q=b*s+h*w+p.ty):(w=0,P=c*s+p.tx,Q=b*s+p.ty);var q=e.parent.matrix;c=q.a,g=q.c,b=q.b;var k,i,G=1/(c*(h=q.d)-g*b),l=P-q.tx,f=Q-q.ty,$=(l*h-f*g)*G-L,_=(f*c-l*b)*G-M,d=Math.sqrt($*$+_*_),m=a.data.length*B;if(d<1e-4){this.apply1(e,V,W,!1,X,!1,A),a.updateWorldTransformWith(s,w,0,a.ascaleX,a.ascaleY,a.ashearX,a.ashearY);return}var n=((l=V-q.tx)*h-(f=W-q.ty)*g)*G-L,o=(f*c-l*b)*G-M,r=n*n+o*o;if(0!=z){z*=j*(B+1)/2;var aa=Math.sqrt(r),R=aa-d-m*j+z;if(R>0){var C=Math.min(1,R/(2*z))-1;C=(R-z*(1-C*C))/aa,n-=C*n,o-=C*o,r=n*n+o*o}}outer:if(Z){var x=(r-d*d-(m*=j)*m)/(2*d*m);x<-1?x=-1:x>1&&(x=1,X&&(Y*=(Math.sqrt(r)/(d+m)-1)*A+1)),i=Math.acos(x)*t,c=d+m*x,g=m*Math.sin(i),k=Math.atan2(o*c-n*g,n*c+o*g)}else{var H=(c=j*m)*c,D=(g=u*m)*g,S=Math.atan2(o,n);b=D*d*d+H*r-H*D;var I=-2*D*d,ab=D-H;if((h=I*I-4*ab*b)>=0){var E=Math.sqrt(h);I<0&&(E=-E);var ac=(E=-(I+E)/2)/ab,ad=b/E,y=Math.abs(ac)<Math.abs(ad)?ac:ad;if(y*y<=r){f=Math.sqrt(r-y*y)*t,k=S-Math.atan2(f,y),i=Math.atan2(f/u,(y-d)/j);break outer}}var ae=aX.MathUtils.PI,J=d-c,T=J*J,af=0,ag=0,K=d+c,U=K*K,ah=0;(b=-c*d/(H-D))>=-1&&b<=1&&(b=Math.acos(b),l=c*Math.cos(b)+d,f=g*Math.sin(b),h=l*l+f*f,h<T&&(ae=b,T=h,J=l,af=f),h>U&&(ag=b,U=h,K=l,ah=f)),r<=(T+U)/2?(k=S-Math.atan2(af*t,J),i=ae*t):(k=S-Math.atan2(ah*t,K),i=ag*t)}var ai=Math.atan2(w,s)*v,F=e.arotation;(k=(k-ai)*aX.MathUtils.radDeg+N-F)>180?k-=360:k<-180&&(k+=360),e.updateWorldTransformWith(L,M,F+k*A,Y,e.ascaleY,0,0),F=a.arotation,(i=((i+ai)*aX.MathUtils.radDeg-a.ashearX)*v+O-F)>180?i-=360:i<-180&&(i+=360),a.updateWorldTransformWith(s,w,F+i*A,a.ascaleX,a.ascaleY,a.ashearX,a.ashearY)},a}(),aX.IkConstraint=aY,a_=function(b){function a(c){var a=b.call(this,c,0,!1)||this;return a.bones=new Array,a.bendDirection=1,a.compress=!1,a.stretch=!1,a.uniform=!1,a.mix=1,a.softness=0,a}return b1(a,b),a}((a$=(aZ=a||(a={})).core||(aZ.core={})).ConstraintData),a$.IkConstraintData=a_,y=a||(a={}),a0=y.core||(y.core={}),a1=function(){function a(a,b){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.bones=new Array;for(var c=0,d=a.bones.length;c<d;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findSlot(a.target.name),this.position=a.position,this.spacing=a.spacing,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix}return a.prototype.isActive=function(){return this.active},a.prototype.apply=function(){this.update()},a.prototype.update=function(){var F=this.target.getAttachment();if(F instanceof a0.PathAttachment){var j=this.rotateMix,z=this.translateMix,G=j>0;if(z>0||G){var q=this.data,H=q.spacingMode,I=H==a0.SpacingMode.Length,A=q.rotateMode,B=A==a0.RotateMode.Tangent,k=A==a0.RotateMode.ChainScale,r=this.bones.length,s=B?r:r+1,J=this.bones,t=a0.Utils.setArraySize(this.spaces,s),u=null,C=this.spacing;if(k||I){k&&(u=a0.Utils.setArraySize(this.lengths,r));for(var b=0,Q=s-1;b<Q;){var h=J[b],l=h.data.length;if(l<a.epsilon)k&&(u[b]=0),t[++b]=0;else{var m=l*h.matrix.a,n=l*h.matrix.b,K=Math.sqrt(m*m+n*n);k&&(u[b]=K),t[++b]=(I?l+C:C)*K/l}}}else for(var b=1;b<s;b++)t[b]=C;var i=this.computeWorldPositions(F,s,B,q.positionMode==a0.PositionMode.Percent,H==a0.SpacingMode.Percent),v=i[0],w=i[1],D=q.offsetRotation,E=!1;if(0==D)E=A==a0.RotateMode.Chain;else{E=!1;var e=this.target.bone.matrix;D*=e.a*e.d-e.b*e.c>0?a0.MathUtils.degRad:-a0.MathUtils.degRad}for(var b=0,e=3;b<r;b++,e+=3){var h=J[b],c=h.matrix;c.tx+=(v-c.tx)*z,c.ty+=(w-c.ty)*z;var m=i[e],n=i[e+1],x=m-v,y=n-w;if(k){var L=u[b];if(0!=L){var M=(Math.sqrt(x*x+y*y)/L-1)*j+1;c.a*=M,c.b*=M}}if(v=m,w=n,G){var o=c.a,N=c.c,p=c.b,O=c.d,d=0,f=0,g=0;if(d=B?i[e-1]:0==t[b+1]?i[e+2]:Math.atan2(y,x),d-=Math.atan2(p,o),E){f=Math.cos(d),g=Math.sin(d);var P=h.data.length;v+=(P*(f*o-g*p)-x)*j,w+=(P*(g*o+f*p)-y)*j}else d+=D;d>a0.MathUtils.PI?d-=a0.MathUtils.PI2:d<-a0.MathUtils.PI&&(d+=a0.MathUtils.PI2),d*=j,f=Math.cos(d),g=Math.sin(d),c.a=f*o-g*p,c.c=f*N-g*O,c.b=g*o+f*p,c.d=g*N+f*O}h.appliedValid=!1}}}},a.prototype.computeWorldPositions=function(i,J,U,V,W){var v=this.target,N=this.position,O=this.spaces,w=a0.Utils.setArraySize(this.positions,3*J+2),b=null,K=i.closed,h=i.worldVerticesLength,L=h/6,x=a.NONE;if(!i.constantSpeed){var P=i.lengths,C=P[L-=K?1:2];if(V&&(N*=C),W)for(var f=0;f<J;f++)O[f]*=C;b=a0.Utils.setArraySize(this.world,8);for(var f=0,p=0,g=0;f<J;f++,p+=3){var M=O[f],c=N+=M;if(K)(c%=C)<0&&(c+=C),g=0;else if(c<0){x!=a.BEFORE&&(x=a.BEFORE,i.computeWorldVertices(v,2,4,b,0,2)),this.addBeforePosition(c,b,0,w,p);continue}else if(c>C){x!=a.AFTER&&(x=a.AFTER,i.computeWorldVertices(v,h-6,4,b,0,2)),this.addAfterPosition(c-C,b,0,w,p);continue}for(;;g++){var Q=P[g];if(!(c>Q)){if(0==g)c/=Q;else{var y=P[g-1];c=(c-y)/(Q-y)}break}}g!=x&&(x=g,K&&g==L?(i.computeWorldVertices(v,h-4,4,b,0,2),i.computeWorldVertices(v,0,4,b,4,2)):i.computeWorldVertices(v,6*g+2,8,b,0,2)),this.addCurvePosition(c,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],w,p,U||f>0&&0==M)}return w}K?(h+=2,b=a0.Utils.setArraySize(this.world,h),i.computeWorldVertices(v,2,h-4,b,0,2),i.computeWorldVertices(v,0,2,b,h-4,2),b[h-2]=b[0],b[h-1]=b[1]):(L--,h-=4,b=a0.Utils.setArraySize(this.world,h),i.computeWorldVertices(v,2,h,b,0,2));for(var R=a0.Utils.setArraySize(this.curves,L),k=0,q=b[0],r=b[1],s=0,t=0,z=0,A=0,D=0,E=0,F=0,G=0,l=0,m=0,n=0,o=0,d=0,e=0,f=0,B=2;f<L;f++,B+=6)s=b[B],t=b[B+1],z=b[B+2],A=b[B+3],D=b[B+4],E=b[B+5],F=(q-2*s+z)*.1875,G=(r-2*t+A)*.1875,l=((s-z)*3-q+D)*.09375,m=((t-A)*3-r+E)*.09375,n=2*F+l,o=2*G+m,d=(s-q)*.75+F+.16666667*l,e=(t-r)*.75+G+.16666667*m,k+=Math.sqrt(d*d+e*e),d+=n,e+=o,n+=l,o+=m,k+=Math.sqrt(d*d+e*e),d+=n,e+=o,k+=Math.sqrt(d*d+e*e),d+=n+l,e+=o+m,k+=Math.sqrt(d*d+e*e),R[f]=k,q=D,r=E;if(V&&(N*=k),W)for(var f=0;f<J;f++)O[f]*=k;for(var H=this.segments,u=0,f=0,p=0,g=0,I=0;f<J;f++,p+=3){var M=O[f],c=N+=M;if(K)(c%=k)<0&&(c+=k),g=0;else if(c<0){this.addBeforePosition(c,b,0,w,p);continue}else if(c>k){this.addAfterPosition(c-k,b,h-4,w,p);continue}for(;;g++){var S=R[g];if(!(c>S)){if(0==g)c/=S;else{var y=R[g-1];c=(c-y)/(S-y)}break}}if(g!=x){x=g;var j=6*g;for(q=b[j],r=b[j+1],s=b[j+2],t=b[j+3],z=b[j+4],A=b[j+5],D=b[j+6],E=b[j+7],F=(q-2*s+z)*.03,G=(r-2*t+A)*.03,l=((s-z)*3-q+D)*.006,m=((t-A)*3-r+E)*.006,n=2*F+l,o=2*G+m,d=(s-q)*.3+F+.16666667*l,e=(t-r)*.3+G+.16666667*m,u=Math.sqrt(d*d+e*e),H[0]=u,j=1;j<8;j++)d+=n,e+=o,n+=l,o+=m,u+=Math.sqrt(d*d+e*e),H[j]=u;d+=n,e+=o,u+=Math.sqrt(d*d+e*e),H[8]=u,d+=n+l,e+=o+m,u+=Math.sqrt(d*d+e*e),H[9]=u,I=0}for(c*=u;;I++){var T=H[I];if(!(c>T)){if(0==I)c/=T;else{var y=H[I-1];c=I+(c-y)/(T-y)}break}}this.addCurvePosition(.1*c,q,r,s,t,z,A,D,E,w,p,U||f>0&&0==M)}return w},a.prototype.addBeforePosition=function(f,a,b,c,d){var g=a[b],h=a[b+1],i=a[b+2]-g,j=a[b+3]-h,e=Math.atan2(j,i);c[d]=g+f*Math.cos(e),c[d+1]=h+f*Math.sin(e),c[d+2]=e},a.prototype.addAfterPosition=function(f,a,b,c,d){var g=a[b+2],h=a[b+3],i=g-a[b],j=h-a[b+1],e=Math.atan2(j,i);c[d]=g+f*Math.cos(e),c[d+1]=h+f*Math.sin(e),c[d+2]=e},a.prototype.addCurvePosition=function(a,h,i,j,k,l,m,u,v,c,d,w){(0==a||isNaN(a))&&(a=1e-4);var e=a*a,n=e*a,b=1-a,f=b*b,o=f*b,g=b*a,p=3*g,q=b*p,r=p*a,s=h*o+j*q+l*r+u*n,t=i*o+k*q+m*r+v*n;c[d]=s,c[d+1]=t,w&&(c[d+2]=Math.atan2(t-(i*f+k*g*2+m*e),s-(h*f+j*g*2+l*e)))},a.NONE=-1,a.BEFORE=-2,a.AFTER=-3,a.epsilon=1e-5,a}(),a0.PathConstraint=a1,z=a||(a={}),j=z.core||(z.core={}),a2=function(b){function a(c){var a=b.call(this,c,0,!1)||this;return a.bones=new Array,a}return b1(a,b),a}(j.ConstraintData),j.PathConstraintData=a2,r=j.PositionMode||(j.PositionMode={}),r[r.Fixed=0]="Fixed",r[r.Percent=1]="Percent",n=j.SpacingMode||(j.SpacingMode={}),n[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",o=j.RotateMode||(j.RotateMode={}),o[o.Tangent=0]="Tangent",o[o.Chain=1]="Chain",o[o.ChainScale=2]="ChainScale",A=a||(a={}),a3=A.core||(A.core={}),a4=function(){function a(b){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==b)throw new Error("data cannot be null.");this.data=b,this.bones=new Array;for(var a=0;a<b.bones.length;a++){var d=b.bones[a],c=void 0;if(null==d.parent)c=new a3.Bone(d,this,null);else{var e=this.bones[d.parent.index];c=new a3.Bone(d,this,e),e.children.push(c)}this.bones.push(c)}this.slots=new Array,this.drawOrder=new Array;for(var a=0;a<b.slots.length;a++){var f=b.slots[a],c=this.bones[f.boneData.index],g=new a3.Slot(f,c);this.slots.push(g),this.drawOrder.push(g)}this.ikConstraints=new Array;for(var a=0;a<b.ikConstraints.length;a++){var h=b.ikConstraints[a];this.ikConstraints.push(new a3.IkConstraint(h,this))}this.transformConstraints=new Array;for(var a=0;a<b.transformConstraints.length;a++){var i=b.transformConstraints[a];this.transformConstraints.push(new a3.TransformConstraint(i,this))}this.pathConstraints=new Array;for(var a=0;a<b.pathConstraints.length;a++){var j=b.pathConstraints[a];this.pathConstraints.push(new a3.PathConstraint(j,this))}this.color=new a3.Color(1,1,1,1),this.updateCache()}return a.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var f=this.bones,a=0,e=f.length;a<e;a++){var c=f[a];c.sorted=c.data.skinRequired,c.active=!c.sorted}if(null!=this.skin)for(var m=this.skin.bones,a=0,e=this.skin.bones.length;a<e;a++){var c=this.bones[m[a].index];do c.sorted=!1,c.active=!0,c=c.parent;while(null!=c)}var g=this.ikConstraints,h=this.transformConstraints,i=this.pathConstraints,j=g.length,k=h.length,l=i.length,n=j+k+l;outer:for(var a=0;a<n;a++){for(var b=0;b<j;b++){var d=g[b];if(d.data.order==a){this.sortIkConstraint(d);continue outer}}for(var b=0;b<k;b++){var d=h[b];if(d.data.order==a){this.sortTransformConstraint(d);continue outer}}for(var b=0;b<l;b++){var d=i[b];if(d.data.order==a){this.sortPathConstraint(d);continue outer}}}for(var a=0,e=f.length;a<e;a++)this.sortBone(f[a])},a.prototype.sortIkConstraint=function(a){if(a.active=a.target.isActive()&&(!a.data.skinRequired||null!=this.skin&&a3.Utils.contains(this.skin.constraints,a.data,!0)),a.active){var e=a.target;this.sortBone(e);var b=a.bones,c=b[0];if(this.sortBone(c),b.length>1){var d=b[b.length-1];this._updateCache.indexOf(d)>-1||this.updateCacheReset.push(d)}this._updateCache.push(a),this.sortReset(c.children),b[b.length-1].sorted=!0}},a.prototype.sortPathConstraint=function(b){if(b.active=b.target.bone.isActive()&&(!b.data.skinRequired||null!=this.skin&&a3.Utils.contains(this.skin.constraints,b.data,!0)),b.active){var e=b.target,f=e.data.index,c=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,f,c),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,f,c);for(var a=0,i=this.data.skins.length;a<i;a++)this.sortPathConstraintAttachment(this.data.skins[a],f,c);var h=e.getAttachment();h instanceof a3.PathAttachment&&this.sortPathConstraintAttachmentWith(h,c);for(var d=b.bones,g=d.length,a=0;a<g;a++)this.sortBone(d[a]);this._updateCache.push(b);for(var a=0;a<g;a++)this.sortReset(d[a].children);for(var a=0;a<g;a++)d[a].sorted=!0}},a.prototype.sortTransformConstraint=function(a){if(a.active=a.target.isActive()&&(!a.data.skinRequired||null!=this.skin&&a3.Utils.contains(this.skin.constraints,a.data,!0)),a.active){this.sortBone(a.target);var d=a.bones,e=d.length;if(a.data.local)for(var b=0;b<e;b++){var f=d[b];this.sortBone(f.parent),this._updateCache.indexOf(f)>-1||this.updateCacheReset.push(f)}else for(var b=0;b<e;b++)this.sortBone(d[b]);this._updateCache.push(a);for(var c=0;c<e;c++)this.sortReset(d[c].children);for(var c=0;c<e;c++)d[c].sorted=!0}},a.prototype.sortPathConstraintAttachment=function(b,c,d){var a=b.attachments[c];if(a)for(var e in a)this.sortPathConstraintAttachmentWith(a[e],d)},a.prototype.sortPathConstraintAttachmentWith=function(c,d){if(c instanceof a3.PathAttachment){var b=c.bones;if(null==b)this.sortBone(d);else for(var e=this.bones,a=0;a<b.length;)for(var f=b[a++],g=a+f;a<g;a++){var h=b[a];this.sortBone(e[h])}}},a.prototype.sortBone=function(a){if(!a.sorted){var b=a.parent;null!=b&&this.sortBone(b),a.sorted=!0,this._updateCache.push(a)}},a.prototype.sortReset=function(c){for(var b=0,d=c.length;b<d;b++){var a=c[b];a.active&&(a.sorted&&this.sortReset(a.children),a.sorted=!1)}},a.prototype.updateWorldTransform=function(){for(var d=this.updateCacheReset,b=0,c=d.length;b<c;b++){var a=d[b];a.ax=a.x,a.ay=a.y,a.arotation=a.rotation,a.ascaleX=a.scaleX,a.ascaleY=a.scaleY,a.ashearX=a.shearX,a.ashearY=a.shearY,a.appliedValid=!0}for(var e=this._updateCache,b=0,c=e.length;b<c;b++)e[b].update()},a.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},a.prototype.setBonesToSetupPose=function(){for(var e=this.bones,b=0,d=e.length;b<d;b++)e[b].setToSetupPose();for(var f=this.ikConstraints,b=0,d=f.length;b<d;b++){var a=f[b];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}for(var g=this.transformConstraints,b=0,d=g.length;b<d;b++){var a=g[b],c=a.data;a.rotateMix=c.rotateMix,a.translateMix=c.translateMix,a.scaleMix=c.scaleMix,a.shearMix=c.shearMix}for(var h=this.pathConstraints,b=0,d=h.length;b<d;b++){var a=h[b],c=a.data;a.position=c.position,a.spacing=c.spacing,a.rotateMix=c.rotateMix,a.translateMix=c.translateMix}},a.prototype.setSlotsToSetupPose=function(){var a=this.slots;a3.Utils.arrayCopy(a,0,this.drawOrder,0,a.length);for(var b=0,c=a.length;b<c;b++)a[b].setToSetupPose()},a.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},a.prototype.findBone=function(b){if(null==b)throw new Error("boneName cannot be null.");for(var c=this.bones,a=0,e=c.length;a<e;a++){var d=c[a];if(d.data.name==b)return d}return null},a.prototype.findBoneIndex=function(b){if(null==b)throw new Error("boneName cannot be null.");for(var c=this.bones,a=0,d=c.length;a<d;a++)if(c[a].data.name==b)return a;return-1},a.prototype.findSlot=function(b){if(null==b)throw new Error("slotName cannot be null.");for(var c=this.slots,a=0,e=c.length;a<e;a++){var d=c[a];if(d.data.name==b)return d}return null},a.prototype.findSlotIndex=function(b){if(null==b)throw new Error("slotName cannot be null.");for(var c=this.slots,a=0,d=c.length;a<d;a++)if(c[a].data.name==b)return a;return-1},a.prototype.setSkinByName=function(a){var b=this.data.findSkin(a);if(null==b)throw new Error("Skin not found: "+a);this.setSkin(b)},a.prototype.setSkin=function(a){if(a!=this.skin){if(null!=a)if(null!=this.skin)a.attachAll(this,this.skin);else for(var c=this.slots,b=0,g=c.length;b<g;b++){var d=c[b],e=d.data.attachmentName;if(null!=e){var f=a.getAttachment(b,e);null!=f&&d.setAttachment(f)}}this.skin=a,this.updateCache()}},a.prototype.getAttachmentByName=function(a,b){return this.getAttachment(this.data.findSlotIndex(a),b)},a.prototype.getAttachment=function(b,a){if(null==a)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var c=this.skin.getAttachment(b,a);if(null!=c)return c}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(b,a):null},a.prototype.setAttachment=function(a,c){if(null==a)throw new Error("slotName cannot be null.");for(var d=this.slots,b=0,g=d.length;b<g;b++){var e=d[b];if(e.data.name==a){var f=null;if(null!=c&&null==(f=this.getAttachment(b,c)))throw new Error("Attachment not found: "+c+", for slot: "+a);e.setAttachment(f);return}}throw new Error("Slot not found: "+a)},a.prototype.findIkConstraint=function(b){if(null==b)throw new Error("constraintName cannot be null.");for(var c=this.ikConstraints,a=0,e=c.length;a<e;a++){var d=c[a];if(d.data.name==b)return d}return null},a.prototype.findTransformConstraint=function(b){if(null==b)throw new Error("constraintName cannot be null.");for(var c=this.transformConstraints,a=0,e=c.length;a<e;a++){var d=c[a];if(d.data.name==b)return d}return null},a.prototype.findPathConstraint=function(b){if(null==b)throw new Error("constraintName cannot be null.");for(var c=this.pathConstraints,a=0,e=c.length;a<e;a++){var d=c[a];if(d.data.name==b)return d}return null},a.prototype.getBounds=function(l,m,c){if(void 0===c&&(c=new Array(2)),null==l)throw new Error("offset cannot be null.");if(null==m)throw new Error("size cannot be null.");for(var n=this.drawOrder,d=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,j=Number.NEGATIVE_INFINITY,k=0,r=n.length;k<r;k++){var f=n[k];if(f.bone.active){var b=0,a=null,g=f.getAttachment();if(g instanceof a3.RegionAttachment)b=8,a=a3.Utils.setArraySize(c,b,0),g.computeWorldVertices(f.bone,a,0,2);else if(g instanceof a3.MeshAttachment){var o=g;b=o.worldVerticesLength,a=a3.Utils.setArraySize(c,b,0),o.computeWorldVertices(f,0,b,a,0,2)}if(null!=a)for(var h=0,s=a.length;h<s;h+=2){var p=a[h],q=a[h+1];d=Math.min(d,p),e=Math.min(e,q),i=Math.max(i,p),j=Math.max(j,q)}}}l.set(d,e),m.set(i-d,j-e)},a.prototype.update=function(a){this.time+=a},Object.defineProperty(a.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(b){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=b?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(b){a.deprecatedWarning1||(a.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=b?1:-1},enumerable:!1,configurable:!0}),a.deprecatedWarning1=!1,a}(),a3.Skeleton=a4,B=a||(a={}),a5=B.core||(B.core={}),a6=function(){function a(a){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=a}return a.prototype.readSkeletonData=function(p){var h=this.scale,d=new a5.SkeletonData;d.name="";var b=new bW(p);if(d.hash=b.readString(),d.version=b.readString(),"3.8.75"===d.version){var q="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(q)}d.x=b.readFloat(),d.y=b.readFloat(),d.width=b.readFloat(),d.height=b.readFloat();var k=b.readBoolean();k&&(d.fps=b.readFloat(),d.imagesPath=b.readString(),d.audioPath=b.readString());var f=0;f=b.readInt(!0);for(var e=0;e<f;e++)b.strings.push(b.readString());f=b.readInt(!0);for(var e=0;e<f;e++){var r=b.readString(),s=0==e?null:d.bones[b.readInt(!0)],c=new a5.BoneData(e,r,s);c.rotation=b.readFloat(),c.x=b.readFloat()*h,c.y=b.readFloat()*h,c.scaleX=b.readFloat(),c.scaleY=b.readFloat(),c.shearX=b.readFloat(),c.shearY=b.readFloat(),c.length=b.readFloat()*h,c.transformMode=a.TransformModeValues[b.readInt(!0)],c.skinRequired=b.readBoolean(),k&&a5.Color.rgba8888ToColor(c.color,b.readInt32()),d.bones.push(c)}f=b.readInt(!0);for(var e=0;e<f;e++){var t=b.readString(),u=d.bones[b.readInt(!0)],c=new a5.SlotData(e,t,u);a5.Color.rgba8888ToColor(c.color,b.readInt32());var n=b.readInt32();-1!=n&&a5.Color.rgb888ToColor(c.darkColor=new a5.Color,n),c.attachmentName=b.readStringRef(),c.blendMode=a.BlendModeValues[b.readInt(!0)],d.slots.push(c)}f=b.readInt(!0);for(var e=0,i=void 0;e<f;e++){var c=new a5.IkConstraintData(b.readString());c.order=b.readInt(!0),c.skinRequired=b.readBoolean(),i=b.readInt(!0);for(var j=0;j<i;j++)c.bones.push(d.bones[b.readInt(!0)]);c.target=d.bones[b.readInt(!0)],c.mix=b.readFloat(),c.softness=b.readFloat()*h,c.bendDirection=b.readByte(),c.compress=b.readBoolean(),c.stretch=b.readBoolean(),c.uniform=b.readBoolean(),d.ikConstraints.push(c)}f=b.readInt(!0);for(var e=0,i=void 0;e<f;e++){var c=new a5.TransformConstraintData(b.readString());c.order=b.readInt(!0),c.skinRequired=b.readBoolean(),i=b.readInt(!0);for(var j=0;j<i;j++)c.bones.push(d.bones[b.readInt(!0)]);c.target=d.bones[b.readInt(!0)],c.local=b.readBoolean(),c.relative=b.readBoolean(),c.offsetRotation=b.readFloat(),c.offsetX=b.readFloat()*h,c.offsetY=b.readFloat()*h,c.offsetScaleX=b.readFloat(),c.offsetScaleY=b.readFloat(),c.offsetShearY=b.readFloat(),c.rotateMix=b.readFloat(),c.translateMix=b.readFloat(),c.scaleMix=b.readFloat(),c.shearMix=b.readFloat(),d.transformConstraints.push(c)}f=b.readInt(!0);for(var e=0,i=void 0;e<f;e++){var c=new a5.PathConstraintData(b.readString());c.order=b.readInt(!0),c.skinRequired=b.readBoolean(),i=b.readInt(!0);for(var j=0;j<i;j++)c.bones.push(d.bones[b.readInt(!0)]);c.target=d.slots[b.readInt(!0)],c.positionMode=a.PositionModeValues[b.readInt(!0)],c.spacingMode=a.SpacingModeValues[b.readInt(!0)],c.rotateMode=a.RotateModeValues[b.readInt(!0)],c.offsetRotation=b.readFloat(),c.position=b.readFloat(),c.positionMode==a5.PositionMode.Fixed&&(c.position*=h),c.spacing=b.readFloat(),(c.spacingMode==a5.SpacingMode.Length||c.spacingMode==a5.SpacingMode.Fixed)&&(c.spacing*=h),c.rotateMix=b.readFloat(),c.translateMix=b.readFloat(),d.pathConstraints.push(c)}var l=this.readSkin(b,d,!0,k);null!=l&&(d.defaultSkin=l,d.skins.push(l));var e=d.skins.length;for(a5.Utils.setArraySize(d.skins,f=e+b.readInt(!0));e<f;e++)d.skins[e]=this.readSkin(b,d,!1,k);f=this.linkedMeshes.length;for(var e=0;e<f;e++){var g=this.linkedMeshes[e],o=null==g.skin?d.defaultSkin:d.findSkin(g.skin);if(null==o)throw new Error("Skin not found: "+g.skin);var m=o.getAttachment(g.slotIndex,g.parent);if(null==m)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?m:g.mesh,g.mesh.setParentMesh(m)}this.linkedMeshes.length=0,f=b.readInt(!0);for(var e=0;e<f;e++){var c=new a5.EventData(b.readStringRef());c.intValue=b.readInt(!1),c.floatValue=b.readFloat(),c.stringValue=b.readString(),c.audioPath=b.readString(),null!=c.audioPath&&(c.volume=b.readFloat(),c.balance=b.readFloat()),d.events.push(c)}f=b.readInt(!0);for(var e=0;e<f;e++)d.animations.push(this.readAnimation(b,b.readString(),d));return d},a.prototype.readSkin=function(a,e,k,l){var c=null,f=0;if(k){if(0==(f=a.readInt(!0)))return null;c=new a5.Skin("default")}else{(c=new a5.Skin(a.readStringRef())).bones.length=a.readInt(!0);for(var b=0,d=c.bones.length;b<d;b++)c.bones[b]=e.bones[a.readInt(!0)];for(var b=0,d=a.readInt(!0);b<d;b++)c.constraints.push(e.ikConstraints[a.readInt(!0)]);for(var b=0,d=a.readInt(!0);b<d;b++)c.constraints.push(e.transformConstraints[a.readInt(!0)]);for(var b=0,d=a.readInt(!0);b<d;b++)c.constraints.push(e.pathConstraints[a.readInt(!0)]);f=a.readInt(!0)}for(var b=0;b<f;b++)for(var g=a.readInt(!0),h=0,m=a.readInt(!0);h<m;h++){var i=a.readStringRef(),j=this.readAttachment(a,e,c,g,i,l);null!=j&&c.setAttachment(g,i,j)}return c},a.prototype.readAttachment=function(b,x,l,y,z,g){var i=this.scale,h=b.readStringRef();null==h&&(h=z);var A=b.readByte(),B=a.AttachmentTypeValues[A];switch(B){case a5.AttachmentType.Region:var c=b.readStringRef(),r=b.readFloat(),s=b.readFloat(),t=b.readFloat(),C=b.readFloat(),D=b.readFloat(),m=b.readFloat(),n=b.readFloat(),e=b.readInt32();null==c&&(c=h);var j=this.attachmentLoader.newRegionAttachment(l,h,c);if(null==j)return null;return j.path=c,j.x=s*i,j.y=t*i,j.scaleX=C,j.scaleY=D,j.rotation=r,j.width=m*i,j.height=n*i,a5.Color.rgba8888ToColor(j.color,e),j;case a5.AttachmentType.BoundingBox:var f=b.readInt(!0),k=this.readVertices(b,f),e=g?b.readInt32():0,p=this.attachmentLoader.newBoundingBoxAttachment(l,h);if(null==p)return null;return p.worldVerticesLength=f<<1,p.vertices=k.vertices,p.bones=k.bones,g&&a5.Color.rgba8888ToColor(p.color,e),p;case a5.AttachmentType.Mesh:var c=b.readStringRef(),e=b.readInt32(),f=b.readInt(!0),E=this.readFloatArray(b,f<<1,1),F=this.readShortArray(b),k=this.readVertices(b,f),G=b.readInt(!0),w=null,m=0,n=0;g&&(w=this.readShortArray(b),m=b.readFloat(),n=b.readFloat()),null==c&&(c=h);var d=this.attachmentLoader.newMeshAttachment(l,h,c);if(null==d)return null;return d.path=c,a5.Color.rgba8888ToColor(d.color,e),d.bones=k.bones,d.vertices=k.vertices,d.worldVerticesLength=f<<1,d.triangles=F,d.regionUVs=new Float32Array(E),d.hullLength=G<<1,g&&(d.edges=w,d.width=m*i,d.height=n*i),d;case a5.AttachmentType.LinkedMesh:var c=b.readStringRef(),e=b.readInt32(),H=b.readStringRef(),I=b.readStringRef(),J=b.readBoolean(),m=0,n=0;g&&(m=b.readFloat(),n=b.readFloat()),null==c&&(c=h);var d=this.attachmentLoader.newMeshAttachment(l,h,c);if(null==d)return null;return d.path=c,a5.Color.rgba8888ToColor(d.color,e),g&&(d.width=m*i,d.height=n*i),this.linkedMeshes.push(new bX(d,H,y,I,J)),d;case a5.AttachmentType.Path:for(var K=b.readBoolean(),L=b.readBoolean(),f=b.readInt(!0),k=this.readVertices(b,f),u=a5.Utils.newArray(f/3,0),v=0,M=u.length;v<M;v++)u[v]=b.readFloat()*i;var e=g?b.readInt32():0,c=this.attachmentLoader.newPathAttachment(l,h);if(null==c)return null;return c.closed=K,c.constantSpeed=L,c.worldVerticesLength=f<<1,c.vertices=k.vertices,c.bones=k.bones,c.lengths=u,g&&a5.Color.rgba8888ToColor(c.color,e),c;case a5.AttachmentType.Point:var r=b.readFloat(),s=b.readFloat(),t=b.readFloat(),e=g?b.readInt32():0,q=this.attachmentLoader.newPointAttachment(l,h);if(null==q)return null;return q.x=s*i,q.y=t*i,q.rotation=r,g&&a5.Color.rgba8888ToColor(q.color,e),q;case a5.AttachmentType.Clipping:var N=b.readInt(!0),f=b.readInt(!0),k=this.readVertices(b,f),e=g?b.readInt32():0,o=this.attachmentLoader.newClippingAttachment(l,h);if(null==o)return null;return o.endSlot=x.slots[N],o.worldVerticesLength=f<<1,o.vertices=k.vertices,o.bones=k.bones,g&&a5.Color.rgba8888ToColor(o.color,e),o}return null},a.prototype.readVertices=function(a,f){var b=new bY,d=this.scale;if(!a.readBoolean())return b.vertices=this.readFloatArray(a,f<<1,d),b;for(var c=new Array,e=new Array,g=0;g<f;g++){var h=a.readInt(!0);e.push(h);for(var i=0;i<h;i++)e.push(a.readInt(!0)),c.push(a.readFloat()*d),c.push(a.readFloat()*d),c.push(a.readFloat())}return b.vertices=a5.Utils.toFloatArray(c),b.bones=e,b},a.prototype.readFloatArray=function(d,b,e){var c=new Array(b);if(1==e)for(var a=0;a<b;a++)c[a]=d.readFloat();else for(var a=0;a<b;a++)c[a]=d.readFloat()*e;return c},a.prototype.readShortArray=function(b){for(var c=b.readInt(!0),d=new Array(c),a=0;a<c;a++)d[a]=b.readShort();return d},a.prototype.readAnimation=function(b,P,y){for(var i=new Array,u=this.scale,f=0,l=new a5.Color,z=new a5.Color,g=0,k=b.readInt(!0);g<k;g++)for(var n=b.readInt(!0),h=0,p=b.readInt(!0);h<p;h++){var o=b.readByte(),e=b.readInt(!0);switch(o){case a.SLOT_ATTACHMENT:var c=new a5.AttachmentTimeline(e);c.slotIndex=n;for(var d=0;d<e;d++)c.setFrame(d,b.readFloat(),b.readStringRef());i.push(c),f=Math.max(f,c.frames[e-1]);break;case a.SLOT_COLOR:var c=new a5.ColorTimeline(e);c.slotIndex=n;for(var d=0;d<e;d++){var m=b.readFloat();a5.Color.rgba8888ToColor(l,b.readInt32()),c.setFrame(d,m,l.r,l.g,l.b,l.a),d<e-1&&this.readCurve(b,d,c)}i.push(c),f=Math.max(f,c.frames[(e-1)*a5.ColorTimeline.ENTRIES]);break;case a.SLOT_TWO_COLOR:var c=new a5.TwoColorTimeline(e);c.slotIndex=n;for(var d=0;d<e;d++){var m=b.readFloat();a5.Color.rgba8888ToColor(l,b.readInt32()),a5.Color.rgb888ToColor(z,b.readInt32()),c.setFrame(d,m,l.r,l.g,l.b,l.a,z.r,z.g,z.b),d<e-1&&this.readCurve(b,d,c)}i.push(c),f=Math.max(f,c.frames[(e-1)*a5.TwoColorTimeline.ENTRIES]);break}}for(var g=0,k=b.readInt(!0);g<k;g++)for(var K=b.readInt(!0),h=0,p=b.readInt(!0);h<p;h++){var o=b.readByte(),e=b.readInt(!0);switch(o){case a.BONE_ROTATE:var c=new a5.RotateTimeline(e);c.boneIndex=K;for(var d=0;d<e;d++)c.setFrame(d,b.readFloat(),b.readFloat()),d<e-1&&this.readCurve(b,d,c);i.push(c),f=Math.max(f,c.frames[(e-1)*a5.RotateTimeline.ENTRIES]);break;case a.BONE_TRANSLATE:case a.BONE_SCALE:case a.BONE_SHEAR:var c=void 0,q=1;o==a.BONE_SCALE?c=new a5.ScaleTimeline(e):o==a.BONE_SHEAR?c=new a5.ShearTimeline(e):(c=new a5.TranslateTimeline(e),q=u),c.boneIndex=K;for(var d=0;d<e;d++)c.setFrame(d,b.readFloat(),b.readFloat()*q,b.readFloat()*q),d<e-1&&this.readCurve(b,d,c);i.push(c),f=Math.max(f,c.frames[(e-1)*a5.TranslateTimeline.ENTRIES]);break}}for(var g=0,k=b.readInt(!0);g<k;g++){var r=b.readInt(!0),e=b.readInt(!0),c=new a5.IkConstraintTimeline(e);c.ikConstraintIndex=r;for(var d=0;d<e;d++)c.setFrame(d,b.readFloat(),b.readFloat(),b.readFloat()*u,b.readByte(),b.readBoolean(),b.readBoolean()),d<e-1&&this.readCurve(b,d,c);i.push(c),f=Math.max(f,c.frames[(e-1)*a5.IkConstraintTimeline.ENTRIES])}for(var g=0,k=b.readInt(!0);g<k;g++){var r=b.readInt(!0),e=b.readInt(!0),c=new a5.TransformConstraintTimeline(e);c.transformConstraintIndex=r;for(var d=0;d<e;d++)c.setFrame(d,b.readFloat(),b.readFloat(),b.readFloat(),b.readFloat(),b.readFloat()),d<e-1&&this.readCurve(b,d,c);i.push(c),f=Math.max(f,c.frames[(e-1)*a5.TransformConstraintTimeline.ENTRIES])}for(var g=0,k=b.readInt(!0);g<k;g++)for(var r=b.readInt(!0),E=y.pathConstraints[r],h=0,p=b.readInt(!0);h<p;h++){var o=b.readByte(),e=b.readInt(!0);switch(o){case a.PATH_POSITION:case a.PATH_SPACING:var c=void 0,q=1;o==a.PATH_SPACING?(c=new a5.PathConstraintSpacingTimeline(e),(E.spacingMode==a5.SpacingMode.Length||E.spacingMode==a5.SpacingMode.Fixed)&&(q=u)):(c=new a5.PathConstraintPositionTimeline(e),E.positionMode==a5.PositionMode.Fixed&&(q=u)),c.pathConstraintIndex=r;for(var d=0;d<e;d++)c.setFrame(d,b.readFloat(),b.readFloat()*q),d<e-1&&this.readCurve(b,d,c);i.push(c),f=Math.max(f,c.frames[(e-1)*a5.PathConstraintPositionTimeline.ENTRIES]);break;case a.PATH_MIX:var c=new a5.PathConstraintMixTimeline(e);c.pathConstraintIndex=r;for(var d=0;d<e;d++)c.setFrame(d,b.readFloat(),b.readFloat(),b.readFloat()),d<e-1&&this.readCurve(b,d,c);i.push(c),f=Math.max(f,c.frames[(e-1)*a5.PathConstraintMixTimeline.ENTRIES]);break}}for(var g=0,k=b.readInt(!0);g<k;g++)for(var Q=y.skins[b.readInt(!0)],h=0,p=b.readInt(!0);h<p;h++)for(var n=b.readInt(!0),L=0,R=b.readInt(!0);L<R;L++){var F=Q.getAttachment(n,b.readStringRef()),G=null!=F.bones,A=F.vertices,M=G?A.length/3*2:A.length,e=b.readInt(!0),c=new a5.DeformTimeline(e);c.slotIndex=n,c.attachment=F;for(var d=0;d<e;d++){var m=b.readFloat(),s=void 0,B=b.readInt(!0);if(0==B)s=G?a5.Utils.newFloatArray(M):A;else{s=a5.Utils.newFloatArray(M);var H=b.readInt(!0);if(B+=H,1==u)for(var j=H;j<B;j++)s[j]=b.readFloat();else for(var j=H;j<B;j++)s[j]=b.readFloat()*u;if(!G)for(var j=0,S=s.length;j<S;j++)s[j]+=A[j]}c.setFrame(d,m,s),d<e-1&&this.readCurve(b,d,c)}i.push(c),f=Math.max(f,c.frames[e-1])}var C=b.readInt(!0);if(C>0){for(var c=new a5.DrawOrderTimeline(C),w=y.slots.length,g=0;g<C;g++){for(var m=b.readFloat(),N=b.readInt(!0),x=a5.Utils.newArray(w,0),h=w-1;h>=0;h--)x[h]=-1;for(var I=a5.Utils.newArray(w-N,0),v=0,J=0,h=0;h<N;h++){for(var n=b.readInt(!0);v!=n;)I[J++]=v++;x[v+b.readInt(!0)]=v++}for(;v<w;)I[J++]=v++;for(var h=w-1;h>=0;h--)-1==x[h]&&(x[h]=I[--J]);c.setFrame(g,m,x)}i.push(c),f=Math.max(f,c.frames[C-1])}var D=b.readInt(!0);if(D>0){for(var c=new a5.EventTimeline(D),g=0;g<D;g++){var m=b.readFloat(),O=y.events[b.readInt(!0)],t=new a5.Event(m,O);t.intValue=b.readInt(!1),t.floatValue=b.readFloat(),t.stringValue=b.readBoolean()?b.readString():O.stringValue,null!=t.data.audioPath&&(t.volume=b.readFloat(),t.balance=b.readFloat()),c.setFrame(g,t)}i.push(c),f=Math.max(f,c.frames[D-1])}return new a5.Animation(P,i,f)},a.prototype.readCurve=function(b,c,d){switch(b.readByte()){case a.CURVE_STEPPED:d.setStepped(c);break;case a.CURVE_BEZIER:this.setCurve(d,c,b.readFloat(),b.readFloat(),b.readFloat(),b.readFloat());break}},a.prototype.setCurve=function(a,b,c,d,e,f){a.setCurve(b,c,d,e,f)},a.AttachmentTypeValues=[0,1,2,3,4,5,6],a.TransformModeValues=[a5.TransformMode.Normal,a5.TransformMode.OnlyTranslation,a5.TransformMode.NoRotationOrReflection,a5.TransformMode.NoScale,a5.TransformMode.NoScaleOrReflection],a.PositionModeValues=[a5.PositionMode.Fixed,a5.PositionMode.Percent],a.SpacingModeValues=[a5.SpacingMode.Length,a5.SpacingMode.Fixed,a5.SpacingMode.Percent],a.RotateModeValues=[a5.RotateMode.Tangent,a5.RotateMode.Chain,a5.RotateMode.ChainScale],a.BlendModeValues=[a5.BlendMode.Normal,a5.BlendMode.Additive,a5.BlendMode.Multiply,a5.BlendMode.Screen],a.BONE_ROTATE=0,a.BONE_TRANSLATE=1,a.BONE_SCALE=2,a.BONE_SHEAR=3,a.SLOT_ATTACHMENT=0,a.SLOT_COLOR=1,a.SLOT_TWO_COLOR=2,a.PATH_POSITION=0,a.PATH_SPACING=1,a.PATH_MIX=2,a.CURVE_LINEAR=0,a.CURVE_STEPPED=1,a.CURVE_BEZIER=2,a}(),a5.SkeletonBinary=a6,bW=function(){function a(d,a,b,c){void 0===a&&(a=new Array),void 0===b&&(b=0),void 0===c&&(c=new DataView(d.buffer)),this.strings=a,this.index=b,this.buffer=c}return a.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},a.prototype.readShort=function(){var a=this.buffer.getInt16(this.index);return this.index+=2,a},a.prototype.readInt32=function(){var a=this.buffer.getInt32(this.index);return this.index+=4,a},a.prototype.readInt=function(c){var a=this.readByte(),b=127&a;return(128&a)!=0&&(b|=(127&(a=this.readByte()))<<7,(128&a)!=0&&(b|=(127&(a=this.readByte()))<<14,(128&a)!=0&&(b|=(127&(a=this.readByte()))<<21,(128&a)!=0&&(b|=(127&(a=this.readByte()))<<28)))),c?b:b>>>1^-(1&b)},a.prototype.readStringRef=function(){var a=this.readInt(!0);return 0==a?null:this.strings[a-1]},a.prototype.readString=function(){var d=this.readInt(!0);switch(d){case 0:return null;case 1:return""}d--;for(var a="",b=0;b<d;){var c=this.readByte();switch(c>>4){case 12:case 13:a+=String.fromCharCode((31&c)<<6|63&this.readByte()),b+=2;break;case 14:a+=String.fromCharCode((15&c)<<12|(63&this.readByte())<<6|63&this.readByte()),b+=3;break;default:a+=String.fromCharCode(c),b++}}return a},a.prototype.readFloat=function(){var a=this.buffer.getFloat32(this.index);return this.index+=4,a},a.prototype.readBoolean=function(){return 0!=this.readByte()},a}(),bX=function(a,b,c,d,e){this.mesh=a,this.skin=b,this.slotIndex=c,this.parent=d,this.inheritDeform=e},bY=function(a,b){void 0===a&&(a=null),void 0===b&&(b=null),this.bones=a,this.vertices=b},C=a||(a={}),a7=C.core||(C.core={}),a8=function(){function a(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new a7.Pool(function(){return a7.Utils.newFloatArray(16)})}return a.prototype.update=function(f,k){if(null==f)throw new Error("skeleton cannot be null.");var g=this.boundingBoxes,c=this.polygons,h=this.polygonPool,i=f.slots,l=i.length;g.length=0,h.freeAll(c),c.length=0;for(var d=0;d<l;d++){var e=i[d];if(e.bone.active){var j=e.getAttachment();if(j instanceof a7.BoundingBoxAttachment){var a=j;g.push(a);var b=h.obtain();b.length!=a.worldVerticesLength&&(b=a7.Utils.newFloatArray(a.worldVerticesLength)),c.push(b),a.computeWorldVertices(e,0,a.worldVerticesLength,b,0,2)}}}k?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},a.prototype.aabbCompute=function(){for(var b=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=Number.NEGATIVE_INFINITY,g=this.polygons,f=0,l=g.length;f<l;f++)for(var h=g[f],i=h,a=0,m=h.length;a<m;a+=2){var j=i[a],k=i[a+1];b=Math.min(b,j),c=Math.min(c,k),d=Math.max(d,j),e=Math.max(e,k)}this.minX=b,this.minY=c,this.maxX=d,this.maxY=e},a.prototype.aabbContainsPoint=function(a,b){return a>=this.minX&&a<=this.maxX&&b>=this.minY&&b<=this.maxY},a.prototype.aabbIntersectsSegment=function(a,b,j,k){var c=this.minX,d=this.minY,e=this.maxX,f=this.maxY;if(a<=c&&j<=c||b<=d&&k<=d||a>=e&&j>=e||b>=f&&k>=f)return!1;var g=(k-b)/(j-a),h=g*(c-a)+b;if(h>d&&h<f)return!0;if((h=g*(e-a)+b)>d&&h<f)return!0;var i=(d-b)/g+a;return i>c&&i<e||(i=(f-b)/g+a)>c&&i<e},a.prototype.aabbIntersectsSkeleton=function(a){return this.minX<a.maxX&&this.maxX>a.minX&&this.minY<a.maxY&&this.maxY>a.minY},a.prototype.containsPoint=function(c,d){for(var b=this.polygons,a=0,e=b.length;a<e;a++)if(this.containsPointPolygon(b[a],c,d))return this.boundingBoxes[a];return null},a.prototype.containsPointPolygon=function(h,k,a){for(var c=h,i=h.length,e=i-2,f=!1,b=0;b<i;b+=2){var d=c[b+1],g=c[e+1];if(d<a&&g>=a||g<a&&d>=a){var j=c[b];j+(a-d)/(g-d)*(c[e]-j)<k&&(f=!f)}e=b}return f},a.prototype.intersectsSegment=function(c,d,e,f){for(var b=this.polygons,a=0,g=b.length;a<g;a++)if(this.intersectsSegmentPolygon(b[a],c,d,e,f))return this.boundingBoxes[a];return null},a.prototype.intersectsSegmentPolygon=function(n,g,h,i,j){for(var k=n,m=n.length,o=g-i,p=h-j,q=g*j-h*i,c=k[m-2],d=k[m-1],l=0;l<m;l+=2){var e=k[l],f=k[l+1],r=c*f-d*e,s=c-e,t=d-f,u=o*t-p*s,a=(q*s-o*r)/u;if((a>=c&&a<=e||a>=e&&a<=c)&&(a>=g&&a<=i||a>=i&&a<=g)){var b=(q*t-p*r)/u;if((b>=d&&b<=f||b>=f&&b<=d)&&(b>=h&&b<=j||b>=j&&b<=h))return!0}c=e,d=f}return!1},a.prototype.getPolygon=function(a){if(null==a)throw new Error("boundingBox cannot be null.");var b=this.boundingBoxes.indexOf(a);return-1==b?null:this.polygons[b]},a.prototype.getWidth=function(){return this.maxX-this.minX},a.prototype.getHeight=function(){return this.maxY-this.minY},a}(),a7.SkeletonBounds=a8,D=a||(a={}),a9=D.core||(D.core={}),ba=function(){function a(){this.triangulator=new a9.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return a.prototype.clipStart=function(h,c){if(null!=this.clipAttachment)return 0;this.clipAttachment=c;var g=c.worldVerticesLength,i=a9.Utils.setArraySize(this.clippingPolygon,g);c.computeWorldVertices(h,0,g,i,0,2);var d=this.clippingPolygon;a.makeClockwise(d);for(var e=this.clippingPolygons=this.triangulator.decompose(d,this.triangulator.triangulate(d)),f=0,j=e.length;f<j;f++){var b=e[f];a.makeClockwise(b),b.push(b[0]),b.push(b[1])}return e.length},a.prototype.clipEndWithSlot=function(a){null!=this.clipAttachment&&this.clipAttachment.endSlot==a.data&&this.clipEnd()},a.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},a.prototype.isClipping=function(){return null!=this.clipAttachment},a.prototype.clipTriangles=function(j,W,t,S,k,c,d,u){var H=this.clipOutput,p=this.clippedVertices,m=this.clippedTriangles,T=this.clippingPolygons,U=this.clippingPolygons.length,v=u?12:8,g=0;p.length=0,m.length=0;outer:for(var n=0;n<S;n+=3)for(var e=t[n]<<1,w=j[e],q=j[e+1],x=k[e],y=k[e+1],r=j[e=t[n+1]<<1],s=j[e+1],z=k[e],A=k[e+1],l=j[e=t[n+2]<<1],h=j[e+1],B=k[e],C=k[e+1],D=0;D<U;D++){var a=p.length;if(this.clip(w,q,r,s,l,h,T[D],H)){var E=H.length;if(0==E)continue;for(var I=s-h,J=l-r,K=w-l,V=h-q,L=1/(I*K+J*(q-h)),o=E>>1,M=this.clipOutput,b=a9.Utils.setArraySize(p,a+o*v),f=0;f<E;f+=2){var N=M[f],O=M[f+1];b[a]=N,b[a+1]=O,b[a+2]=c.r,b[a+3]=c.g,b[a+4]=c.b,b[a+5]=c.a;var P=N-l,Q=O-h,F=(I*P+J*Q)*L,G=(V*P+K*Q)*L,R=1-F-G;b[a+6]=x*F+z*G+B*R,b[a+7]=y*F+A*G+C*R,u&&(b[a+8]=d.r,b[a+9]=d.g,b[a+10]=d.b,b[a+11]=d.a),a+=v}a=m.length;var i=a9.Utils.setArraySize(m,a+3*(o-2));o--;for(var f=1;f<o;f++)i[a]=g,i[a+1]=g+f,i[a+2]=g+f+1,a+=3;g+=o+1}else{var b=a9.Utils.setArraySize(p,a+3*v);b[a]=w,b[a+1]=q,b[a+2]=c.r,b[a+3]=c.g,b[a+4]=c.b,b[a+5]=c.a,u?(b[a+6]=x,b[a+7]=y,b[a+8]=d.r,b[a+9]=d.g,b[a+10]=d.b,b[a+11]=d.a,b[a+12]=r,b[a+13]=s,b[a+14]=c.r,b[a+15]=c.g,b[a+16]=c.b,b[a+17]=c.a,b[a+18]=z,b[a+19]=A,b[a+20]=d.r,b[a+21]=d.g,b[a+22]=d.b,b[a+23]=d.a,b[a+24]=l,b[a+25]=h,b[a+26]=c.r,b[a+27]=c.g,b[a+28]=c.b,b[a+29]=c.a,b[a+30]=B,b[a+31]=C,b[a+32]=d.r,b[a+33]=d.g,b[a+34]=d.b,b[a+35]=d.a):(b[a+6]=x,b[a+7]=y,b[a+8]=r,b[a+9]=s,b[a+10]=c.r,b[a+11]=c.g,b[a+12]=c.b,b[a+13]=c.a,b[a+14]=z,b[a+15]=A,b[a+16]=l,b[a+17]=h,b[a+18]=c.r,b[a+19]=c.g,b[a+20]=c.b,b[a+21]=c.a,b[a+22]=B,b[a+23]=C),a=m.length;var i=a9.Utils.setArraySize(m,a+3);i[a]=g,i[a+1]=g+1,i[a+2]=g+2,g+=3;continue outer}}},a.prototype.clip=function(t,u,z,A,B,C,s,a){var h=a,v=!1,b=null;s.length%4>=2?(b=a,a=this.scratch):b=this.scratch,b.length=0,b.push(t),b.push(u),b.push(z),b.push(A),b.push(B),b.push(C),b.push(t),b.push(u),a.length=0;for(var q=s,D=s.length-4,c=0;;c+=2){for(var d=q[c],e=q[c+1],f=q[c+2],g=q[c+3],w=d-f,x=e-g,r=b,E=b.length-2,F=a.length,i=0;i<E;i+=2){var j=r[i],k=r[i+1],l=r[i+2],m=r[i+3],y=w*(m-g)-x*(l-f)>0;if(w*(k-g)-x*(j-f)>0){if(y){a.push(l),a.push(m);continue}var n=m-k,o=l-j,p=(o*(e-k)-n*(d-j))/(n*(f-d)-o*(g-e));a.push(d+(f-d)*p),a.push(e+(g-e)*p)}else if(y){var n=m-k,o=l-j,p=(o*(e-k)-n*(d-j))/(n*(f-d)-o*(g-e));a.push(d+(f-d)*p),a.push(e+(g-e)*p),a.push(l),a.push(m)}v=!0}if(F==a.length)return h.length=0,!0;if(a.push(a[0]),a.push(a[1]),c==D)break;var G=a;(a=b).length=0,b=G}if(h!=a){h.length=0;for(var c=0,H=a.length-2;c<H;c++)h[c]=a[c]}else h.length=h.length-2;return v},a.makeClockwise=function(f){for(var a=f,c=f.length,g=a[c-2]*a[1]-a[0]*a[c-1],h=0,i=0,j=0,k=0,b=0,e=c-3;b<e;b+=2)h=a[b],i=a[b+1],j=a[b+2],k=a[b+3],g+=h*k-j*i;if(!(g<0))for(var b=0,l=c-2,e=c>>1;b<e;b+=2){var m=a[b],n=a[b+1],d=l-b;a[b]=a[d],a[b+1]=a[d+1],a[d]=m,a[d+1]=n}},a}(),a9.SkeletonClipping=ba,E=a||(a={}),bb=E.core||(E.core={}),bc=function(){function a(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return a.prototype.findBone=function(b){if(null==b)throw new Error("boneName cannot be null.");for(var c=this.bones,a=0,e=c.length;a<e;a++){var d=c[a];if(d.name==b)return d}return null},a.prototype.findBoneIndex=function(b){if(null==b)throw new Error("boneName cannot be null.");for(var c=this.bones,a=0,d=c.length;a<d;a++)if(c[a].name==b)return a;return-1},a.prototype.findSlot=function(b){if(null==b)throw new Error("slotName cannot be null.");for(var c=this.slots,a=0,e=c.length;a<e;a++){var d=c[a];if(d.name==b)return d}return null},a.prototype.findSlotIndex=function(b){if(null==b)throw new Error("slotName cannot be null.");for(var c=this.slots,a=0,d=c.length;a<d;a++)if(c[a].name==b)return a;return-1},a.prototype.findSkin=function(b){if(null==b)throw new Error("skinName cannot be null.");for(var c=this.skins,a=0,e=c.length;a<e;a++){var d=c[a];if(d.name==b)return d}return null},a.prototype.findEvent=function(b){if(null==b)throw new Error("eventDataName cannot be null.");for(var c=this.events,a=0,e=c.length;a<e;a++){var d=c[a];if(d.name==b)return d}return null},a.prototype.findAnimation=function(b){if(null==b)throw new Error("animationName cannot be null.");for(var c=this.animations,a=0,e=c.length;a<e;a++){var d=c[a];if(d.name==b)return d}return null},a.prototype.findIkConstraint=function(b){if(null==b)throw new Error("constraintName cannot be null.");for(var c=this.ikConstraints,a=0,e=c.length;a<e;a++){var d=c[a];if(d.name==b)return d}return null},a.prototype.findTransformConstraint=function(b){if(null==b)throw new Error("constraintName cannot be null.");for(var c=this.transformConstraints,a=0,e=c.length;a<e;a++){var d=c[a];if(d.name==b)return d}return null},a.prototype.findPathConstraint=function(b){if(null==b)throw new Error("constraintName cannot be null.");for(var c=this.pathConstraints,a=0,e=c.length;a<e;a++){var d=c[a];if(d.name==b)return d}return null},a.prototype.findPathConstraintIndex=function(b){if(null==b)throw new Error("pathConstraintName cannot be null.");for(var c=this.pathConstraints,a=0,d=c.length;a<d;a++)if(c[a].name==b)return a;return-1},a}(),bb.SkeletonData=bc,F=a||(a={}),G=F.core||(F.core={}),G.FAIL_ON_NON_EXISTING_SKIN=!1,bd=function(){function a(a){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=a}return a.prototype.readSkeletonData=function(v){var q=this.scale,d=new G.SkeletonData,f="string"==typeof v?JSON.parse(v):v,n=f.skeleton;if(null!=n){if(d.hash=n.hash,d.version=n.spine,"3.8"!==d.version.substr(0,3)){var w="PixiJS Spine plugin supports only format for Spine 3.8. Your model has version "+n.spine+". Please look in pixi-spine repository README for another branch.";console.error(w)}if("3.8.75"===d.version){var w="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(w)}d.x=n.x,d.y=n.y,d.width=n.width,d.height=n.height,d.fps=n.fps,d.imagesPath=n.images}if(f.bones)for(var e=0;e<f.bones.length;e++){var i=f.bones[e],B=null,x=this.getValue(i,"parent",null);if(null!=x&&null==(B=d.findBone(x)))throw new Error("Parent bone not found: "+x);var b=new G.BoneData(d.bones.length,i.name,B);b.length=this.getValue(i,"length",0)*q,b.x=this.getValue(i,"x",0)*q,b.y=this.getValue(i,"y",0)*q,b.rotation=this.getValue(i,"rotation",0),b.scaleX=this.getValue(i,"scaleX",1),b.scaleY=this.getValue(i,"scaleY",1),b.shearX=this.getValue(i,"shearX",0),b.shearY=this.getValue(i,"shearY",0),b.transformMode=a.transformModeFromString(this.getValue(i,"transform","normal")),b.skinRequired=this.getValue(i,"skin",!1),d.bones.push(b)}if(f.slots)for(var e=0;e<f.slots.length;e++){var p=f.slots[e],u=p.name,k=p.bone,C=d.findBone(k);if(null==C)throw new Error("Slot bone not found: "+k);var b=new G.SlotData(d.slots.length,u,C),D=this.getValue(p,"color",null);null!=D&&b.color.setFromString(D);var E=this.getValue(p,"dark",null);null!=E&&(b.darkColor=new G.Color(1,1,1,1),b.darkColor.setFromString(E)),b.attachmentName=this.getValue(p,"attachment",null),b.blendMode=a.blendModeFromString(this.getValue(p,"blend","normal")),d.slots.push(b)}if(f.ik)for(var e=0;e<f.ik.length;e++){var c=f.ik[e],b=new G.IkConstraintData(c.name);b.order=this.getValue(c,"order",0),b.skinRequired=this.getValue(c,"skin",!1);for(var l=0;l<c.bones.length;l++){var k=c.bones[l],m=d.findBone(k);if(null==m)throw new Error("IK bone not found: "+k);b.bones.push(m)}var r=c.target;if(b.target=d.findBone(r),null==b.target)throw new Error("IK target bone not found: "+r);b.mix=this.getValue(c,"mix",1),b.softness=this.getValue(c,"softness",0)*q,b.bendDirection=this.getValue(c,"bendPositive",!0)?1:-1,b.compress=this.getValue(c,"compress",!1),b.stretch=this.getValue(c,"stretch",!1),b.uniform=this.getValue(c,"uniform",!1),d.ikConstraints.push(b)}if(f.transform)for(var e=0;e<f.transform.length;e++){var c=f.transform[e],b=new G.TransformConstraintData(c.name);b.order=this.getValue(c,"order",0),b.skinRequired=this.getValue(c,"skin",!1);for(var l=0;l<c.bones.length;l++){var k=c.bones[l],m=d.findBone(k);if(null==m)throw new Error("Transform constraint bone not found: "+k);b.bones.push(m)}var r=c.target;if(b.target=d.findBone(r),null==b.target)throw new Error("Transform constraint target bone not found: "+r);b.local=this.getValue(c,"local",!1),b.relative=this.getValue(c,"relative",!1),b.offsetRotation=this.getValue(c,"rotation",0),b.offsetX=this.getValue(c,"x",0)*q,b.offsetY=this.getValue(c,"y",0)*q,b.offsetScaleX=this.getValue(c,"scaleX",0),b.offsetScaleY=this.getValue(c,"scaleY",0),b.offsetShearY=this.getValue(c,"shearY",0),b.rotateMix=this.getValue(c,"rotateMix",1),b.translateMix=this.getValue(c,"translateMix",1),b.scaleMix=this.getValue(c,"scaleMix",1),b.shearMix=this.getValue(c,"shearMix",1),d.transformConstraints.push(b)}if(f.path)for(var e=0;e<f.path.length;e++){var c=f.path[e],b=new G.PathConstraintData(c.name);b.order=this.getValue(c,"order",0),b.skinRequired=this.getValue(c,"skin",!1);for(var l=0;l<c.bones.length;l++){var k=c.bones[l],m=d.findBone(k);if(null==m)throw new Error("Transform constraint bone not found: "+k);b.bones.push(m)}var r=c.target;if(b.target=d.findSlot(r),null==b.target)throw new Error("Path target slot not found: "+r);b.positionMode=a.positionModeFromString(this.getValue(c,"positionMode","percent")),b.spacingMode=a.spacingModeFromString(this.getValue(c,"spacingMode","length")),b.rotateMode=a.rotateModeFromString(this.getValue(c,"rotateMode","tangent")),b.offsetRotation=this.getValue(c,"rotation",0),b.position=this.getValue(c,"position",0),b.positionMode==G.PositionMode.Fixed&&(b.position*=q),b.spacing=this.getValue(c,"spacing",0),(b.spacingMode==G.SpacingMode.Length||b.spacingMode==G.SpacingMode.Fixed)&&(b.spacing*=q),b.rotateMix=this.getValue(c,"rotateMix",1),b.translateMix=this.getValue(c,"translateMix",1),d.pathConstraints.push(b)}if(f.skins)for(var e=0;e<f.skins.length;e++){var g=f.skins[e],j=new G.Skin(g.name);if(g.bones)for(var h=0;h<g.bones.length;h++){var m=d.findBone(g.bones[h]);if(null==m)throw new Error("Skin bone not found: "+g.bones[e]);j.bones.push(m)}if(g.ik)for(var h=0;h<g.ik.length;h++){var s=d.findIkConstraint(g.ik[h]);if(null==s)throw new Error("Skin IK constraint not found: "+g.ik[e]);j.constraints.push(s)}if(g.transform)for(var h=0;h<g.transform.length;h++){var s=d.findTransformConstraint(g.transform[h]);if(null==s)throw new Error("Skin transform constraint not found: "+g.transform[e]);j.constraints.push(s)}if(g.path)for(var h=0;h<g.path.length;h++){var s=d.findPathConstraint(g.path[h]);if(null==s)throw new Error("Skin path constraint not found: "+g.path[e]);j.constraints.push(s)}for(var u in g.attachments){var y=d.findSlot(u);if(null==y)throw new Error("Slot not found: "+u);var p=g.attachments[u];for(var z in p){var F=this.readAttachment(p[z],j,y.index,z,d);null!=F&&j.setAttachment(y.index,z,F)}}d.skins.push(j),"default"==j.name&&(d.defaultSkin=j)}for(var e=0,J=this.linkedMeshes.length;e<J;e++){var o=this.linkedMeshes[e],j=null==o.skin?d.defaultSkin:d.findSkin(o.skin);if(null==j)throw new Error("Skin not found: "+o.skin);var A=j.getAttachment(o.slotIndex,o.parent);if(null==A)throw new Error("Parent mesh not found: "+o.parent);o.mesh.deformAttachment=o.inheritDeform?A:o.mesh,o.mesh.setParentMesh(A)}if(this.linkedMeshes.length=0,f.events)for(var H in f.events){var t=f.events[H],b=new G.EventData(H);b.intValue=this.getValue(t,"int",0),b.floatValue=this.getValue(t,"float",0),b.stringValue=this.getValue(t,"string",""),b.audioPath=this.getValue(t,"audio",null),null!=b.audioPath&&(b.volume=this.getValue(t,"volume",1),b.balance=this.getValue(t,"balance",0)),d.events.push(b)}if(f.animations)for(var I in f.animations){var K=f.animations[I];this.readAnimation(K,I,d)}return d},a.prototype.readAttachment=function(a,h,s,f,t){var g=this.scale;f=this.getValue(a,"name",f);var u=this.getValue(a,"type","region");switch(u){case"region":var c=this.getValue(a,"path",f),e=this.attachmentLoader.newRegionAttachment(h,f,c);if(null==e)return null;e.path=c,e.x=this.getValue(a,"x",0)*g,e.y=this.getValue(a,"y",0)*g,e.scaleX=this.getValue(a,"scaleX",1),e.scaleY=this.getValue(a,"scaleY",1),e.rotation=this.getValue(a,"rotation",0),e.width=a.width*g,e.height=a.height*g;var b=this.getValue(a,"color",null);return null!=b&&e.color.setFromString(b),e;case"boundingbox":var k=this.attachmentLoader.newBoundingBoxAttachment(h,f);if(null==k)return null;this.readVertices(a,k,a.vertexCount<<1);var b=this.getValue(a,"color",null);return null!=b&&k.color.setFromString(b),k;case"mesh":case"linkedmesh":var c=this.getValue(a,"path",f),d=this.attachmentLoader.newMeshAttachment(h,f,c);if(null==d)return null;d.path=c;var b=this.getValue(a,"color",null);null!=b&&d.color.setFromString(b),d.width=this.getValue(a,"width",0)*g,d.height=this.getValue(a,"height",0)*g;var o=this.getValue(a,"parent",null);if(null!=o)return this.linkedMeshes.push(new bZ(d,this.getValue(a,"skin",null),s,o,this.getValue(a,"deform",!0))),d;var p=a.uvs;return this.readVertices(a,d,p.length),d.triangles=a.triangles,d.regionUVs=new Float32Array(p),d.edges=this.getValue(a,"edges",null),d.hullLength=2*this.getValue(a,"hull",0),d;case"path":var c=this.attachmentLoader.newPathAttachment(h,f);if(null==c)return null;c.closed=this.getValue(a,"closed",!1),c.constantSpeed=this.getValue(a,"constantSpeed",!0);var l=a.vertexCount;this.readVertices(a,c,l<<1);for(var q=G.Utils.newArray(l/3,0),m=0;m<a.lengths.length;m++)q[m]=a.lengths[m]*g;c.lengths=q;var b=this.getValue(a,"color",null);return null!=b&&c.color.setFromString(b),c;case"point":var i=this.attachmentLoader.newPointAttachment(h,f);if(null==i)return null;i.x=this.getValue(a,"x",0)*g,i.y=this.getValue(a,"y",0)*g,i.rotation=this.getValue(a,"rotation",0);var b=this.getValue(a,"color",null);return null!=b&&i.color.setFromString(b),i;case"clipping":var j=this.attachmentLoader.newClippingAttachment(h,f);if(null==j)return null;var n=this.getValue(a,"end",null);if(null!=n){var r=t.findSlot(n);if(null==r)throw new Error("Clipping end slot not found: "+n);j.endSlot=r}var l=a.vertexCount;this.readVertices(a,j,l<<1);var b=this.getValue(a,"color",null);return null!=b&&j.color.setFromString(b),j}return null},a.prototype.readVertices=function(k,c,h){var d=this.scale;c.worldVerticesLength=h;var b=k.vertices;if(h==b.length){var i=G.Utils.toFloatArray(b);if(1!=d)for(var a=0,f=b.length;a<f;a++)i[a]*=d;c.vertices=i;return}for(var e=new Array,g=new Array,a=0,f=b.length;a<f;){var j=b[a++];g.push(j);for(var l=a+4*j;a<l;a+=4)g.push(b[a]),e.push(b[a+1]*d),e.push(b[a+2]*d),e.push(b[a+3])}c.bones=g,c.vertices=G.Utils.toFloatArray(e)},a.prototype.readAnimation=function(g,Z,i){var s=this.scale,j=new Array,f=0;if(g.slots)for(var o in g.slots){var t=g.slots[o],k=i.findSlotIndex(o);if(-1==k)throw new Error("Slot not found: "+o);for(var h in t){var e=t[h];if("attachment"==h){var a=new G.AttachmentTimeline(e.length);a.slotIndex=k;for(var d=0,b=0;b<e.length;b++){var c=e[b];a.setFrame(d++,this.getValue(c,"time",0),c.name)}j.push(a),f=Math.max(f,a.frames[a.getFrameCount()-1])}else if("color"==h){var a=new G.ColorTimeline(e.length);a.slotIndex=k;for(var d=0,b=0;b<e.length;b++){var c=e[b],x=new G.Color;x.setFromString(c.color||"ffffffff"),a.setFrame(d,this.getValue(c,"time",0),x.r,x.g,x.b,x.a),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[(a.getFrameCount()-1)*G.ColorTimeline.ENTRIES])}else if("twoColor"==h){var a=new G.TwoColorTimeline(e.length);a.slotIndex=k;for(var d=0,b=0;b<e.length;b++){var c=e[b],y=new G.Color,B=new G.Color;y.setFromString(c.light),B.setFromString(c.dark),a.setFrame(d,this.getValue(c,"time",0),y.r,y.g,y.b,y.a,B.r,B.g,B.b),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[(a.getFrameCount()-1)*G.TwoColorTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a slot: "+h+" ("+o+")")}}if(g.bones)for(var C in g.bones){var U=g.bones[C],K=i.findBoneIndex(C);if(-1==K)throw new Error("Bone not found: "+C);for(var h in U){var e=U[h];if("rotate"===h){var a=new G.RotateTimeline(e.length);a.boneIndex=K;for(var d=0,b=0;b<e.length;b++){var c=e[b];a.setFrame(d,this.getValue(c,"time",0),this.getValue(c,"angle",0)),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[(a.getFrameCount()-1)*G.RotateTimeline.ENTRIES])}else if("translate"===h||"scale"===h||"shear"===h){var a=null,p=1,L=0;"scale"===h?(a=new G.ScaleTimeline(e.length),L=1):"shear"===h?a=new G.ShearTimeline(e.length):(a=new G.TranslateTimeline(e.length),p=s),a.boneIndex=K;for(var d=0,b=0;b<e.length;b++){var c=e[b],$=this.getValue(c,"x",L),_=this.getValue(c,"y",L);a.setFrame(d,this.getValue(c,"time",0),$*p,_*p),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[(a.getFrameCount()-1)*G.TranslateTimeline.ENTRIES])}else throw new Error("Invalid timeline type for a bone: "+h+" ("+C+")")}}if(g.ik)for(var m in g.ik){var l=g.ik[m],M=i.findIkConstraint(m),a=new G.IkConstraintTimeline(l.length);a.ikConstraintIndex=i.ikConstraints.indexOf(M);for(var d=0,b=0;b<l.length;b++){var c=l[b];a.setFrame(d,this.getValue(c,"time",0),this.getValue(c,"mix",1),this.getValue(c,"softness",0)*s,this.getValue(c,"bendPositive",!0)?1:-1,this.getValue(c,"compress",!1),this.getValue(c,"stretch",!1)),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[(a.getFrameCount()-1)*G.IkConstraintTimeline.ENTRIES])}if(g.transform)for(var m in g.transform){var l=g.transform[m],M=i.findTransformConstraint(m),a=new G.TransformConstraintTimeline(l.length);a.transformConstraintIndex=i.transformConstraints.indexOf(M);for(var d=0,b=0;b<l.length;b++){var c=l[b];a.setFrame(d,this.getValue(c,"time",0),this.getValue(c,"rotateMix",1),this.getValue(c,"translateMix",1),this.getValue(c,"scaleMix",1),this.getValue(c,"shearMix",1)),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[(a.getFrameCount()-1)*G.TransformConstraintTimeline.ENTRIES])}if(g.path)for(var m in g.path){var l=g.path[m],D=i.findPathConstraintIndex(m);if(-1==D)throw new Error("Path constraint not found: "+m);var N=i.pathConstraints[D];for(var h in l){var e=l[h];if("position"===h||"spacing"===h){var a=null,p=1;"spacing"===h?(a=new G.PathConstraintSpacingTimeline(e.length),(N.spacingMode==G.SpacingMode.Length||N.spacingMode==G.SpacingMode.Fixed)&&(p=s)):(a=new G.PathConstraintPositionTimeline(e.length),N.positionMode==G.PositionMode.Fixed&&(p=s)),a.pathConstraintIndex=D;for(var d=0,b=0;b<e.length;b++){var c=e[b];a.setFrame(d,this.getValue(c,"time",0),this.getValue(c,h,0)*p),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[(a.getFrameCount()-1)*G.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===h){var a=new G.PathConstraintMixTimeline(e.length);a.pathConstraintIndex=D;for(var d=0,b=0;b<e.length;b++){var c=e[b];a.setFrame(d,this.getValue(c,"time",0),this.getValue(c,"rotateMix",1),this.getValue(c,"translateMix",1)),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[(a.getFrameCount()-1)*G.PathConstraintMixTimeline.ENTRIES])}}}if(g.deform)for(var O in g.deform){var V=g.deform[O],W=i.findSkin(O);if(null==W){if(!G.FAIL_ON_NON_EXISTING_SKIN)continue;throw new Error("Skin not found: "+O)}for(var o in V){var t=V[o],k=i.findSlotIndex(o);if(-1==k)throw new Error("Slot not found: "+t.name);for(var h in t){var e=t[h],E=W.getAttachment(k,h);if(null==E)throw new Error("Deform attachment not found: "+e.name);var P=null!=E.bones,F=E.vertices,Q=P?F.length/3*2:F.length,a=new G.DeformTimeline(e.length);a.slotIndex=k,a.attachment=E;for(var d=0,q=0;q<e.length;q++){var c=e[q],u=void 0,H=this.getValue(c,"vertices",null);if(null==H)u=P?G.Utils.newFloatArray(Q):F;else{u=G.Utils.newFloatArray(Q);var X=this.getValue(c,"offset",0);if(G.Utils.arrayCopy(H,0,u,X,H.length),1!=s)for(var b=X,aa=b+H.length;b<aa;b++)u[b]*=s;if(!P)for(var b=0;b<Q;b++)u[b]+=F[b]}a.setFrame(d,this.getValue(c,"time",0),u),this.readCurve(c,a,d),d++}j.push(a),f=Math.max(f,a.frames[a.getFrameCount()-1])}}}var v=g.drawOrder;if(null==v&&(v=g.draworder),null!=v){for(var a=new G.DrawOrderTimeline(v.length),I=i.slots.length,d=0,q=0;q<v.length;q++){var Y=v[q],z=null,J=this.getValue(Y,"offsets",null);if(null!=J){z=G.Utils.newArray(I,-1);for(var R=G.Utils.newArray(I-J.length,0),w=0,S=0,b=0;b<J.length;b++){var T=J[b],k=i.findSlotIndex(T.slot);if(-1==k)throw new Error("Slot not found: "+T.slot);for(;w!=k;)R[S++]=w++;z[w+T.offset]=w++}for(;w<I;)R[S++]=w++;for(var b=I-1;b>=0;b--)-1==z[b]&&(z[b]=R[--S])}a.setFrame(d++,this.getValue(Y,"time",0),z)}j.push(a),f=Math.max(f,a.frames[a.getFrameCount()-1])}if(g.events){for(var a=new G.EventTimeline(g.events.length),d=0,b=0;b<g.events.length;b++){var n=g.events[b],A=i.findEvent(n.name);if(null==A)throw new Error("Event not found: "+n.name);var r=new G.Event(G.Utils.toSinglePrecision(this.getValue(n,"time",0)),A);r.intValue=this.getValue(n,"int",A.intValue),r.floatValue=this.getValue(n,"float",A.floatValue),r.stringValue=this.getValue(n,"string",A.stringValue),null!=r.data.audioPath&&(r.volume=this.getValue(n,"volume",1),r.balance=this.getValue(n,"balance",0)),a.setFrame(d++,r)}j.push(a),f=Math.max(f,a.frames[a.getFrameCount()-1])}if(isNaN(f))throw new Error("Error while parsing animation, duration is NaN");i.animations.push(new G.Animation(Z,j,f))},a.prototype.readCurve=function(a,b,c){if(a.hasOwnProperty("curve"))if("stepped"===a.curve)b.setStepped(c);else{var d=a.curve;b.setCurve(c,d,this.getValue(a,"c2",0),this.getValue(a,"c3",1),this.getValue(a,"c4",1))}},a.prototype.getValue=function(a,b,c){return void 0!==a[b]?a[b]:c},a.blendModeFromString=function(a){if("normal"==(a=a.toLowerCase()))return G.BlendMode.Normal;if("additive"==a)return G.BlendMode.Additive;if("multiply"==a)return G.BlendMode.Multiply;if("screen"==a)return G.BlendMode.Screen;throw new Error("Unknown blend mode: "+a)},a.positionModeFromString=function(a){if("fixed"==(a=a.toLowerCase()))return G.PositionMode.Fixed;if("percent"==a)return G.PositionMode.Percent;throw new Error("Unknown position mode: "+a)},a.spacingModeFromString=function(a){if("length"==(a=a.toLowerCase()))return G.SpacingMode.Length;if("fixed"==a)return G.SpacingMode.Fixed;if("percent"==a)return G.SpacingMode.Percent;throw new Error("Unknown position mode: "+a)},a.rotateModeFromString=function(a){if("tangent"==(a=a.toLowerCase()))return G.RotateMode.Tangent;if("chain"==a)return G.RotateMode.Chain;if("chainscale"==a)return G.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+a)},a.transformModeFromString=function(a){if("normal"==(a=a.toLowerCase()))return G.TransformMode.Normal;if("onlytranslation"==a)return G.TransformMode.OnlyTranslation;if("norotationorreflection"==a)return G.TransformMode.NoRotationOrReflection;if("noscale"==a)return G.TransformMode.NoScale;if("noscaleorreflection"==a)return G.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+a)},a}(),G.SkeletonJson=bd,bZ=function(a,b,c,d,e){this.mesh=a,this.skin=b,this.slotIndex=c,this.parent=d,this.inheritDeform=e},H=a||(a={}),I=H.core||(H.core={}),be=function(a,b,c){this.slotIndex=a,this.name=b,this.attachment=c},I.SkinEntry=be,bf=function(){function a(a){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==a)throw new Error("name cannot be null.");this.name=a}return a.prototype.setAttachment=function(a,d,c){if(null==c)throw new Error("attachment cannot be null.");var b=this.attachments;a>=b.length&&(b.length=a+1),b[a]||(b[a]={}),b[a][d]=c},a.prototype.addSkin=function(c){for(var a=0;a<c.bones.length;a++){for(var f=c.bones[a],d=!1,b=0;b<this.bones.length;b++)if(this.bones[b]==f){d=!0;break}d||this.bones.push(f)}for(var a=0;a<c.constraints.length;a++){for(var g=c.constraints[a],d=!1,b=0;b<this.constraints.length;b++)if(this.constraints[b]==g){d=!0;break}d||this.constraints.push(g)}for(var h=c.getAttachments(),a=0;a<h.length;a++){var e=h[a];this.setAttachment(e.slotIndex,e.name,e.attachment)}},a.prototype.copySkin=function(d){for(var b=0;b<d.bones.length;b++){for(var f=d.bones[b],e=!1,c=0;c<this.bones.length;c++)if(this.bones[c]==f){e=!0;break}e||this.bones.push(f)}for(var b=0;b<d.constraints.length;b++){for(var g=d.constraints[b],e=!1,c=0;c<this.constraints.length;c++)if(this.constraints[c]==g){e=!0;break}e||this.constraints.push(g)}for(var h=d.getAttachments(),b=0;b<h.length;b++){var a=h[b];null!=a.attachment&&(a.attachment instanceof I.MeshAttachment?(a.attachment=a.attachment.newLinkedMesh(),this.setAttachment(a.slotIndex,a.name,a.attachment)):(a.attachment=a.attachment.copy(),this.setAttachment(a.slotIndex,a.name,a.attachment)))}},a.prototype.getAttachment=function(b,c){var a=this.attachments[b];return a?a[c]:null},a.prototype.removeAttachment=function(b,c){var a=this.attachments[b];a&&(a[c]=null)},a.prototype.getAttachments=function(){for(var c=new Array,a=0;a<this.attachments.length;a++){var b=this.attachments[a];if(b)for(var d in b){var e=b[d];e&&c.push(new be(a,d,e))}}return c},a.prototype.getAttachmentsForSlot=function(b,e){var a=this.attachments[b];if(a)for(var c in a){var d=a[c];d&&e.push(new be(b,c,d))}},a.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},a.prototype.attachAll=function(c,d){for(var a=0,b=0;b<c.slots.length;b++){var e=c.slots[b],f=e.getAttachment();if(f&&a<d.attachments.length){var g=d.attachments[a];for(var h in g)if(f==g[h]){var i=this.getAttachment(a,h);null!=i&&e.setAttachment(i);break}}a++}},a}(),I.Skin=bf,J=a||(a={}),bg=J.core||(J.core={}),bh=function(){function a(a,b){if(this.deform=new Array,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("bone cannot be null.");this.data=a,this.bone=b,this.color=new bg.Color,this.darkColor=null==a.darkColor?null:new bg.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return a.prototype.getAttachment=function(){return this.attachment},a.prototype.setAttachment=function(a){this.attachment!=a&&(this.attachment=a,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},a.prototype.setAttachmentTime=function(a){this.attachmentTime=this.bone.skeleton.time-a},a.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},a.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},a}(),bg.Slot=bh,K=a||(a={}),bi=K.core||(K.core={}),bi.SlotData=function(a,b,c){if(this.color=new bi.Color(1,1,1,1),a<0)throw new Error("index must be >= 0.");if(null==b)throw new Error("name cannot be null.");if(null==c)throw new Error("boneData cannot be null.");this.index=a,this.name=b,this.boneData=c},L=a||(a={}),p=L.core||(L.core={}),bj=function(){function a(a){this._image=a}return a.prototype.getImage=function(){return this._image},a.filterFromString=function(a){switch(a.toLowerCase()){case"nearest":return b$.Nearest;case"linear":return b$.Linear;case"mipmap":return b$.MipMap;case"mipmapnearestnearest":return b$.MipMapNearestNearest;case"mipmaplinearnearest":return b$.MipMapLinearNearest;case"mipmapnearestlinear":return b$.MipMapNearestLinear;case"mipmaplinearlinear":return b$.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+a)}},a.wrapFromString=function(a){switch(a.toLowerCase()){case"mirroredtepeat":return b_.MirroredRepeat;case"clamptoedge":return b_.ClampToEdge;case"repeat":return b_.Repeat;default:throw new Error("Unknown texture wrap "+a)}},a}(),p.Texture=bj,d=b$=p.TextureFilter||(p.TextureFilter={}),d[d.Nearest=9728]="Nearest",d[d.Linear=9729]="Linear",d[d.MipMap=9987]="MipMap",d[d.MipMapNearestNearest=9984]="MipMapNearestNearest",d[d.MipMapLinearNearest=9985]="MipMapLinearNearest",d[d.MipMapNearestLinear=9986]="MipMapNearestLinear",d[d.MipMapLinearLinear=9987]="MipMapLinearLinear",q=b_=p.TextureWrap||(p.TextureWrap={}),q[q.MirroredRepeat=33648]="MirroredRepeat",q[q.ClampToEdge=33071]="ClampToEdge",q[q.Repeat=10497]="Repeat",bk=function(){function a(){this.size=null}return Object.defineProperty(a.prototype,"width",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.crop.width:a.trim?a.trim.width:a.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.crop.height:a.trim?a.trim.height:a.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"offsetX",{get:function(){var a=this.texture;return a.trim?a.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pixiOffsetY",{get:function(){var a=this.texture;return a.trim?a.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"spineOffsetY",{get:function(){var a=this.texture;return this.originalHeight-this.height-(a.trim?a.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"originalWidth",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.trim?a.trim.width:a.crop.width:a.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"originalHeight",{get:function(){var a=this.texture;return"3"==PIXI.VERSION[0]?a.trim?a.trim.height:a.crop.height:a.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!1,configurable:!0}),a}(),p.TextureRegion=bk,M=a||(a={}),s=M.core||(M.core={}),bl=function(){function a(a,b,c){this.pages=new Array,this.regions=new Array,a&&this.addSpineAtlas(a,b,c)}return a.prototype.addTexture=function(g,e){for(var c=this.pages,a=null,d=0;d<c.length;d++)if(c[d].baseTexture===e.baseTexture){a=c[d];break}if(null===a){(a=new bm).name="texturePage";var f=e.baseTexture;a.width=f.realWidth,a.height=f.realHeight,a.baseTexture=f,a.minFilter=a.magFilter=s.TextureFilter.Nearest,a.uWrap=s.TextureWrap.ClampToEdge,a.vWrap=s.TextureWrap.ClampToEdge,c.push(a)}var b=new bn;return b.name=g,b.page=a,b.texture=e,b.index=-1,this.regions.push(b),b},a.prototype.addTextureHash=function(b,c){for(var a in b)b.hasOwnProperty(a)&&this.addTexture(c&&-1!==a.indexOf(".")?a.substr(0,a.lastIndexOf(".")):a,b[a])},a.prototype.addSpineAtlas=function(a,b,c){return this.load(a,b,c)},a.prototype.load=function(a,b,d){var e=this;if(null==b)throw new Error("textureLoader cannot be null.");var f=new b0(a),g=new Array(4),h=null,c=function(){for(;;){var j=f.readLine();if(null==j)return d&&d(e);if(0==(j=j.trim()).length)h=null;else if(h){var a=new bn;a.name=j,a.page=h;var o=f.readValue(),m=0;m="true"==o.toLocaleLowerCase()?6:"false"==o.toLocaleLowerCase()?0:(720-parseFloat(o))%360/45,f.readTuple(g);var p=parseInt(g[0]),q=parseInt(g[1]);f.readTuple(g);var l=parseInt(g[0]),k=parseInt(g[1]),i=h.baseTexture.resolution;p/=i,q/=i,l/=i,k/=i;var u=m%4!=0,x=new PIXI.Rectangle(p,q,u?k:l,u?l:k);4==f.readTuple(g)&&4==f.readTuple(g)&&f.readTuple(g);var v=parseInt(g[0])/i,r=parseInt(g[1])/i;f.readTuple(g);var y=parseInt(g[0])/i,z=parseInt(g[1])/i,A=new PIXI.Rectangle(0,0,v,r),n=new PIXI.Rectangle(y,r-k-z,l,k);if("3"!=PIXI.VERSION[0])a.texture=new PIXI.Texture(a.page.baseTexture,x,A,n,m);else{var w=new PIXI.Rectangle(p,q,l,k),B=w.clone();n.width=v,n.height=r,a.texture=new PIXI.Texture(a.page.baseTexture,w,B,n,m)}a.index=parseInt(f.readValue()),a.texture._updateUvs(),e.regions.push(a)}else{(h=new bm).name=j,2==f.readTuple(g)&&(h.width=parseInt(g[0]),h.height=parseInt(g[1]),f.readTuple(g)),f.readTuple(g),h.minFilter=s.Texture.filterFromString(g[0]),h.magFilter=s.Texture.filterFromString(g[1]);var t=f.readValue();h.uWrap=s.TextureWrap.ClampToEdge,h.vWrap=s.TextureWrap.ClampToEdge,"x"==t?h.uWrap=s.TextureWrap.Repeat:"y"==t?h.vWrap=s.TextureWrap.Repeat:"xy"==t&&(h.uWrap=h.vWrap=s.TextureWrap.Repeat),b(j,function(a){if(null===a)return e.pages.splice(e.pages.indexOf(h),1),d&&d(null);h.baseTexture=a,a.hasLoaded||(a.width=h.width,a.height=h.height),e.pages.push(h),h.setFilters(),h.width&&h.height||(h.width=a.realWidth,h.height=a.realHeight,h.width&&h.height||console.log("ERROR spine atlas page "+h.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),c()}),e.pages.push(h);break}}};c()},a.prototype.findRegion=function(b){for(var a=0;a<this.regions.length;a++)if(this.regions[a].name==b)return this.regions[a];return null},a.prototype.dispose=function(){for(var a=0;a<this.pages.length;a++)this.pages[a].baseTexture.dispose()},a}(),s.TextureAtlas=bl,b0=function(){function a(a){this.index=0,this.lines=a.split(/\r\n|\r|\n/)}return a.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},a.prototype.readValue=function(){var a=this.readLine(),b=a.indexOf(":");if(-1==b)throw new Error("Invalid line: "+a);return a.substring(b+1).trim()},a.prototype.readTuple=function(e){var a=this.readLine(),f=a.indexOf(":");if(-1==f)throw new Error("Invalid line: "+a);for(var b=0,c=f+1;b<3;b++){var d=a.indexOf(",",c);if(-1==d)break;e[b]=a.substr(c,d-c).trim(),c=d+1}return e[b]=a.substring(c).trim(),b+1},a}(),bm=function(){function a(){}return a.prototype.setFilters=function(){var a=this.baseTexture,b=this.minFilter;b==s.TextureFilter.Linear?a.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==s.TextureFilter.Nearest?a.scaleMode=PIXI.SCALE_MODES.NEAREST:(a.mipmap=!0,b==s.TextureFilter.MipMapNearestNearest?a.scaleMode=PIXI.SCALE_MODES.NEAREST:a.scaleMode=PIXI.SCALE_MODES.LINEAR)},a}(),s.TextureAtlasPage=bm,bn=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}return b1(a,b),a}(s.TextureRegion),s.TextureAtlasRegion=bn,N=a||(a={}),bo=N.core||(N.core={}),bp=function(){function a(a,b){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new bo.Vector2,this.active=!1,null==a)throw new Error("data cannot be null.");if(null==b)throw new Error("skeleton cannot be null.");this.data=a,this.rotateMix=a.rotateMix,this.translateMix=a.translateMix,this.scaleMix=a.scaleMix,this.shearMix=a.shearMix,this.bones=new Array;for(var c=0;c<a.bones.length;c++)this.bones.push(b.findBone(a.bones[c].name));this.target=b.findBone(a.target.name)}return a.prototype.isActive=function(){return this.active},a.prototype.apply=function(){this.update()},a.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},a.prototype.applyAbsoluteWorld=function(){for(var u=this.rotateMix,n=this.translateMix,o=this.scaleMix,v=this.shearMix,w=this.target,i=w.matrix,f=i.a,j=i.c,g=i.b,k=i.d,x=f*k-j*g>0?bo.MathUtils.degRad:-bo.MathUtils.degRad,B=this.data.offsetRotation*x,C=this.data.offsetShearY*x,y=this.bones,p=0,D=y.length;p<D;p++){var z=y[p],h=!1,a=z.matrix;if(0!=u){var q=a.a,d=a.c,r=a.b,e=a.d,c=Math.atan2(g,f)-Math.atan2(r,q)+B;c>bo.MathUtils.PI?c-=bo.MathUtils.PI2:c<-bo.MathUtils.PI&&(c+=bo.MathUtils.PI2);var l=Math.cos(c*=u),m=Math.sin(c);a.a=l*q-m*r,a.c=l*d-m*e,a.b=m*q+l*r,a.d=m*d+l*e,h=!0}if(0!=n){var s=this.temp;w.localToWorld(s.set(this.data.offsetX,this.data.offsetY)),a.tx+=(s.x-a.tx)*n,a.ty+=(s.y-a.ty)*n,h=!0}if(o>0){var b=Math.sqrt(a.a*a.a+a.b*a.b),t=Math.sqrt(f*f+g*g);b>1e-5&&(b=(b+(t-b+this.data.offsetScaleX)*o)/b),a.a*=b,a.b*=b,b=Math.sqrt(a.c*a.c+a.d*a.d),t=Math.sqrt(j*j+k*k),b>1e-5&&(b=(b+(t-b+this.data.offsetScaleY)*o)/b),a.c*=b,a.d*=b,h=!0}if(v>0){var d=a.c,e=a.d,A=Math.atan2(e,d),c=Math.atan2(k,j)-Math.atan2(g,f)-(A-Math.atan2(a.b,a.a));c>bo.MathUtils.PI?c-=bo.MathUtils.PI2:c<-bo.MathUtils.PI&&(c+=bo.MathUtils.PI2),c=A+(c+C)*v;var b=Math.sqrt(d*d+e*e);a.c=Math.cos(c)*b,a.d=Math.sin(c)*b,h=!0}h&&(z.appliedValid=!1)}},a.prototype.applyRelativeWorld=function(){for(var r=this.rotateMix,n=this.translateMix,o=this.scaleMix,s=this.shearMix,t=this.target,i=t.matrix,f=i.a,j=i.c,g=i.b,k=i.d,u=f*k-j*g>0?bo.MathUtils.degRad:-bo.MathUtils.degRad,z=this.data.offsetRotation*u,A=this.data.offsetShearY*u,v=this.bones,p=0,B=v.length;p<B;p++){var w=v[p],h=!1,a=w.matrix;if(0!=r){var x=a.a,d=a.c,y=a.b,e=a.d,b=Math.atan2(g,f)+z;b>bo.MathUtils.PI?b-=bo.MathUtils.PI2:b<-bo.MathUtils.PI&&(b+=bo.MathUtils.PI2);var l=Math.cos(b*=r),m=Math.sin(b);a.a=l*x-m*y,a.c=l*d-m*e,a.b=m*x+l*y,a.d=m*d+l*e,h=!0}if(0!=n){var q=this.temp;t.localToWorld(q.set(this.data.offsetX,this.data.offsetY)),a.tx+=q.x*n,a.ty+=q.y*n,h=!0}if(o>0){var c=(Math.sqrt(f*f+g*g)-1+this.data.offsetScaleX)*o+1;a.a*=c,a.b*=c,c=(Math.sqrt(j*j+k*k)-1+this.data.offsetScaleY)*o+1,a.c*=c,a.d*=c,h=!0}if(s>0){var b=Math.atan2(k,j)-Math.atan2(g,f);b>bo.MathUtils.PI?b-=bo.MathUtils.PI2:b<-bo.MathUtils.PI&&(b+=bo.MathUtils.PI2);var d=a.c,e=a.d;b=Math.atan2(e,d)+(b-bo.MathUtils.PI/2+A)*s;var c=Math.sqrt(d*d+e*e);a.c=Math.cos(b)*c,a.d=Math.sin(b)*c,h=!0}h&&(w.appliedValid=!1)}},a.prototype.applyAbsoluteLocal=function(){var l=this.rotateMix,f=this.translateMix,g=this.scaleMix,m=this.shearMix,b=this.target;b.appliedValid||b.updateAppliedTransform();for(var n=this.bones,h=0,p=n.length;h<p;h++){var a=n[h];a.appliedValid||a.updateAppliedTransform();var i=a.arotation;if(0!=l){var c=b.arotation-i+this.data.offsetRotation;c-=(16384-(16384.499999999996-c/360|0))*360,i+=c*l}var j=a.ax,k=a.ay;0!=f&&(j+=(b.ax-j+this.data.offsetX)*f,k+=(b.ay-k+this.data.offsetY)*f);var d=a.ascaleX,e=a.ascaleY;g>0&&(d>1e-5&&(d=(d+(b.ascaleX-d+this.data.offsetScaleX)*g)/d),e>1e-5&&(e=(e+(b.ascaleY-e+this.data.offsetScaleY)*g)/e));var o=a.ashearY;if(m>0){var c=b.ashearY-o+this.data.offsetShearY;c-=(16384-(16384.499999999996-c/360|0))*360,a.shearY+=c*m}a.updateWorldTransformWith(j,k,i,d,e,a.ashearX,o)}},a.prototype.applyRelativeLocal=function(){var h=this.rotateMix,c=this.translateMix,d=this.scaleMix,i=this.shearMix,b=this.target;b.appliedValid||b.updateAppliedTransform();for(var j=this.bones,e=0,o=j.length;e<o;e++){var a=j[e];a.appliedValid||a.updateAppliedTransform();var k=a.arotation;0!=h&&(k+=(b.arotation+this.data.offsetRotation)*h);var l=a.ax,m=a.ay;0!=c&&(l+=(b.ax+this.data.offsetX)*c,m+=(b.ay+this.data.offsetY)*c);var f=a.ascaleX,g=a.ascaleY;d>0&&(f>1e-5&&(f*=(b.ascaleX-1+this.data.offsetScaleX)*d+1),g>1e-5&&(g*=(b.ascaleY-1+this.data.offsetScaleY)*d+1));var n=a.ashearY;i>0&&(n+=(b.ashearY+this.data.offsetShearY)*i),a.updateWorldTransformWith(l,m,k,f,g,a.ashearX,n)}},a}(),bo.TransformConstraint=bp,O=a||(a={}),P=O.core||(O.core={}),bq=function(b){function a(c){var a=b.call(this,c,0,!1)||this;return a.bones=new Array,a.rotateMix=0,a.translateMix=0,a.scaleMix=0,a.shearMix=0,a.offsetRotation=0,a.offsetX=0,a.offsetY=0,a.offsetScaleX=0,a.offsetScaleY=0,a.offsetShearY=0,a.relative=!1,a.local=!1,a}return b1(a,b),a}(P.ConstraintData),P.TransformConstraintData=bq,Q=a||(a={}),br=Q.core||(Q.core={}),bs=function(){function a(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new br.Pool(function(){return new Array}),this.polygonIndicesPool=new br.Pool(function(){return new Array})}return a.prototype.triangulate=function(m){var e=m,c=m.length>>1,d=this.indicesArray;d.length=0;for(var b=0;b<c;b++)d[b]=b;var f=this.isConcaveArray;f.length=0;for(var b=0,z=c;b<z;++b)f[b]=a.isConcave(b,c,e,d);var g=this.triangles;for(g.length=0;c>3;){for(var j=c-1,b=0,h=1;;){outer:if(!f[b]){for(var n=d[j]<<1,o=d[b]<<1,p=d[h]<<1,q=e[n],r=e[n+1],s=e[o],t=e[o+1],u=e[p],v=e[p+1],i=(h+1)%c;i!=j;i=(i+1)%c)if(f[i]){var w=d[i]<<1,k=e[w],l=e[w+1];if(a.positiveArea(u,v,q,r,k,l)&&a.positiveArea(q,r,s,t,k,l)&&a.positiveArea(s,t,u,v,k,l))break outer}break}if(0==h){do{if(!f[b])break;b--}while(b>0)break}j=b,b=h,h=(h+1)%c}g.push(d[(c+b-1)%c]),g.push(d[b]),g.push(d[(b+1)%c]),d.splice(b,1),f.splice(b,1);var x=(--c+b-1)%c,y=b==c?0:b;f[x]=a.isConcave(x,c,e,d),f[y]=a.isConcave(y,c,e,d)}return 3==c&&(g.push(d[2]),g.push(d[0]),g.push(d[1])),g},a.prototype.decompose=function(I,o){var j=I,e=this.convexPolygons;this.polygonPool.freeAll(e),e.length=0;var i=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(i),i.length=0;var d=this.polygonIndicesPool.obtain();d.length=0;var b=this.polygonPool.obtain();b.length=0;for(var z=-1,t=0,c=0,p=o.length;c<p;c+=3){var l=o[c]<<1,u=o[c+1]<<1,q=o[c+2]<<1,A=j[l],B=j[l+1],C=j[u],D=j[u+1],f=j[q],g=j[q+1],E=!1;if(z==l){var h=b.length-4,v=a.winding(b[h],b[h+1],b[h+2],b[h+3],f,g),w=a.winding(f,g,b[0],b[1],b[2],b[3]);v==t&&w==t&&(b.push(f),b.push(g),d.push(q),E=!0)}E||(b.length>0?(e.push(b),i.push(d)):(this.polygonPool.free(b),this.polygonIndicesPool.free(d)),(b=this.polygonPool.obtain()).length=0,b.push(A),b.push(B),b.push(C),b.push(D),b.push(f),b.push(g),(d=this.polygonIndicesPool.obtain()).length=0,d.push(l),d.push(u),d.push(q),t=a.winding(A,B,C,D,f,g),z=l)}b.length>0&&(e.push(b),i.push(d));for(var c=0,p=e.length;c<p;c++)if(0!=(d=i[c]).length){var J=d[0],K=d[d.length-1];b=e[c];for(var h=b.length-4,x=b[h],y=b[h+1],r=b[h+2],s=b[h+3],F=b[0],G=b[1],L=b[2],M=b[3],H=a.winding(x,y,r,s,F,G),k=0;k<p;k++)if(k!=c){var m=i[k];if(3==m.length){var N=m[0],O=m[1],P=m[2],n=e[k],f=n[n.length-2],g=n[n.length-1];if(N==J&&O==K){var v=a.winding(x,y,r,s,f,g),w=a.winding(f,g,F,G,L,M);v==H&&w==H&&(n.length=0,m.length=0,b.push(f),b.push(g),d.push(P),x=r,y=s,r=f,s=g,k=0)}}}}for(var c=e.length-1;c>=0;c--)0==(b=e[c]).length&&(e.splice(c,1),this.polygonPool.free(b),d=i[c],i.splice(c,1),this.polygonIndicesPool.free(d));return e},a.isConcave=function(b,c,a,d){var e=d[(c+b-1)%c]<<1,f=d[b]<<1,g=d[(b+1)%c]<<1;return!this.positiveArea(a[e],a[e+1],a[f],a[f+1],a[g],a[g+1])},a.positiveArea=function(d,a,e,b,f,c){return d*(c-b)+e*(a-c)+f*(b-a)>=0},a.winding=function(a,b,e,f,g,h){var c=e-a,d=f-b;return g*d-h*c+c*b-a*d>=0?1:-1},a}(),br.Triangulator=bs,R=a||(a={}),f=R.core||(R.core={}),bt=function(){function a(){this.array=new Array}return a.prototype.add=function(a){var b=this.contains(a);return this.array[0|a]=0|a,!b},a.prototype.contains=function(a){return void 0!=this.array[0|a]},a.prototype.remove=function(a){this.array[0|a]=void 0},a.prototype.clear=function(){this.array.length=0},a}(),f.IntSet=bt,bu=function(){function a(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.r=a,this.g=b,this.b=c,this.a=d}return a.prototype.set=function(a,b,c,d){return this.r=a,this.g=b,this.b=c,this.a=d,this.clamp(),this},a.prototype.setFromColor=function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this},a.prototype.setFromString=function(a){return a="#"==a.charAt(0)?a.substr(1):a,this.r=parseInt(a.substr(0,2),16)/255,this.g=parseInt(a.substr(2,2),16)/255,this.b=parseInt(a.substr(4,2),16)/255,this.a=(8!=a.length?255:parseInt(a.substr(6,2),16))/255,this},a.prototype.add=function(a,b,c,d){return this.r+=a,this.g+=b,this.b+=c,this.a+=d,this.clamp(),this},a.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},a.rgba8888ToColor=function(a,b){a.r=((4278190080&b)>>>24)/255,a.g=((16711680&b)>>>16)/255,a.b=((65280&b)>>>8)/255,a.a=(255&b)/255},a.rgb888ToColor=function(a,b){a.r=((16711680&b)>>>16)/255,a.g=((65280&b)>>>8)/255,a.b=(255&b)/255},a.WHITE=new a(1,1,1,1),a.RED=new a(1,0,0,1),a.GREEN=new a(0,1,0,1),a.BLUE=new a(0,0,1,1),a.MAGENTA=new a(1,0,1,1),a}(),f.Color=bu,bv=function(){function a(){}return a.clamp=function(a,b,c){return a<b?b:a>c?c:a},a.cosDeg=function(b){return Math.cos(b*a.degRad)},a.sinDeg=function(b){return Math.sin(b*a.degRad)},a.signum=function(a){return a>0?1:a<0?-1:0},a.toInt=function(a){return a>0?Math.floor(a):Math.ceil(a)},a.cbrt=function(a){var b=Math.pow(Math.abs(a),1/3);return a<0?-b:b},a.randomTriangular=function(b,c){return a.randomTriangularWith(b,c,(b+c)*.5)},a.randomTriangularWith=function(a,b,c){var d=Math.random(),e=b-a;return d<=(c-a)/e?a+Math.sqrt(d*e*(c-a)):b-Math.sqrt((1-d)*e*(b-c))},a.PI=3.1415927,a.PI2=2*a.PI,a.radiansToDegrees=180/a.PI,a.radDeg=a.radiansToDegrees,a.degreesToRadians=a.PI/180,a.degRad=a.degreesToRadians,a}(),f.MathUtils=bv,S=function(){function a(){}return a.prototype.apply=function(a,b,c){return a+(b-a)*this.applyInternal(c)},a}(),f.Interpolation=S,T=function(b){function a(c){var a=b.call(this)||this;return a.power=2,a.power=c,a}return b1(a,b),a.prototype.applyInternal=function(a){return a<=.5?Math.pow(2*a,this.power)/2:Math.pow((a-1)*2,this.power)/(this.power%2==0?-2:2)+1},a}(S),f.Pow=T,bw=function(b){function a(a){return b.call(this,a)||this}return b1(a,b),a.prototype.applyInternal=function(a){return Math.pow(a-1,this.power)*(this.power%2==0?-1:1)+1},a}(T),f.PowOut=bw,bx=function(){function a(){}return a.arrayCopy=function(d,b,e,f,g){for(var a=b,c=f;a<b+g;a++,c++)e[c]=d[a]},a.setArraySize=function(a,b,c){void 0===c&&(c=0);var d=a.length;if(d==b)return a;if(a.length=b,d<b)for(var e=d;e<b;e++)a[e]=c;return a},a.ensureArrayCapacity=function(b,d,c){return(void 0===c&&(c=0),b.length>=d)?b:a.setArraySize(b,d,c)},a.newArray=function(b,d){for(var c=new Array(b),a=0;a<b;a++)c[a]=d;return c},a.newFloatArray=function(d){if(a.SUPPORTS_TYPED_ARRAYS)return new Float32Array(d);for(var b=new Array(d),c=0;c<b.length;c++)b[c]=0;return b},a.newShortArray=function(d){if(a.SUPPORTS_TYPED_ARRAYS)return new Int16Array(d);for(var b=new Array(d),c=0;c<b.length;c++)b[c]=0;return b},a.toFloatArray=function(b){return a.SUPPORTS_TYPED_ARRAYS?new Float32Array(b):b},a.toSinglePrecision=function(b){return a.SUPPORTS_TYPED_ARRAYS?Math.fround(b):b},a.webkit602BugfixHelper=function(a,b){},a.contains=function(b,d,c){void 0===c&&(c=!0);for(var a=0;a<b.length;a++)if(b[a]==d)return!0;return!1},a.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,a}(),f.Utils=bx,by=function(){function a(){}return a.logBones=function(c){for(var b=0;b<c.bones.length;b++){var d=c.bones[b],a=d.matrix;console.log(d.data.name+", "+a.a+", "+a.b+", "+a.c+", "+a.d+", "+a.tx+", "+a.ty)}},a}(),f.DebugUtils=by,bz=function(){function a(a){this.items=new Array,this.instantiator=a}return a.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},a.prototype.free=function(a){a.reset&&a.reset(),this.items.push(a)},a.prototype.freeAll=function(b){for(var a=0;a<b.length;a++)this.free(b[a])},a.prototype.clear=function(){this.items.length=0},a}(),f.Pool=bz,bA=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.x=a,this.y=b}return a.prototype.set=function(a,b){return this.x=a,this.y=b,this},a.prototype.length=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)},a.prototype.normalize=function(){var a=this.length();return 0!=a&&(this.x/=a,this.y/=a),this},a}(),f.Vector2=bA,bB=function(){function a(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return a.prototype.update=function(){var a=Date.now()/1e3;this.delta=a-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=a,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},a}(),f.TimeKeeper=bB,bC=function(){function a(a){void 0===a&&(a=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(a)}return a.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},a.prototype.addValue=function(a){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=a,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},a.prototype.getMean=function(){if(!this.hasEnoughData())return 0;if(this.dirty){for(var b=0,a=0;a<this.values.length;a++)b+=this.values[a];this.mean=b/this.values.length,this.dirty=!1}return this.mean},a}(),f.WindowedMean=bC,U=a||(a={}),V=U.core||(U.core={}),W=function(a){if(null==a)throw new Error("name cannot be null.");this.name=a},V.Attachment=W,bD=function(b){function a(d){var c=b.call(this,d)||this;return c.id=(65535&a.nextID++)<<11,c.worldVerticesLength=0,c.deformAttachment=c,c}return b1(a,b),a.prototype.computeWorldVerticesOld=function(a,b){this.computeWorldVertices(a,0,this.worldVerticesLength,b,0,2)},a.prototype.computeWorldVertices=function(s,v,k,i,o,p){k=o+(k>>1)*p;var z=s.bone.skeleton,q=s.deform,e=this.vertices,j=this.bones;if(null==j){q.length>0&&(e=q);for(var a=s.bone.matrix,A=a.tx,B=a.ty,C=a.a,d=a.c,D=a.b,E=a.d,t=v,b=o;b<k;t+=2,b+=p){var f=e[t],g=e[t+1];i[b]=f*C+g*d+A,i[b+1]=f*D+g*E+B}return}for(var c=0,r=0,w=0;w<v;w+=2){var h=j[c];c+=h+1,r+=h}var x=z.bones;if(0==q.length)for(var b=o,d=3*r;b<k;b+=p){var l=0,m=0,h=j[c++];for(h+=c;c<h;c++,d+=3){var a=x[j[c]].matrix,f=e[d],g=e[d+1],n=e[d+2];l+=(f*a.a+g*a.c+a.tx)*n,m+=(f*a.b+g*a.d+a.ty)*n}i[b]=l,i[b+1]=m}else for(var y=q,b=o,d=3*r,u=r<<1;b<k;b+=p){var l=0,m=0,h=j[c++];for(h+=c;c<h;c++,d+=3,u+=2){var a=x[j[c]].matrix,f=e[d]+y[u],g=e[d+1]+y[u+1],n=e[d+2];l+=(f*a.a+g*a.c+a.tx)*n,m+=(f*a.b+g*a.d+a.ty)*n}i[b]=l,i[b+1]=m}},a.prototype.copyTo=function(a){null!=this.bones?(a.bones=new Array(this.bones.length),V.Utils.arrayCopy(this.bones,0,a.bones,0,this.bones.length)):a.bones=null,null!=this.vertices?(a.vertices=V.Utils.newFloatArray(this.vertices.length),V.Utils.arrayCopy(this.vertices,0,a.vertices,0,this.vertices.length)):a.vertices=null,a.worldVerticesLength=this.worldVerticesLength,a.deformAttachment=this.deformAttachment},a.nextID=0,a}(W),V.VertexAttachment=bD,X=a||(a={}),Y=X.core||(X.core={}),e=Y.AttachmentType||(Y.AttachmentType={}),e[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping",Z=a||(a={}),$=Z.core||(Z.core={}),bE=function(b){function a(c){var a=b.call(this,c)||this;return a.color=new $.Color(1,1,1,1),a}return b1(a,b),a.prototype.copy=function(){var b=new a(this.name);return this.copyTo(b),b.color.setFromColor(this.color),b},a}($.VertexAttachment),$.BoundingBoxAttachment=bE,_=a||(a={}),aa=_.core||(_.core={}),bF=function(b){function a(c){var a=b.call(this,c)||this;return a.color=new aa.Color(.2275,.2275,.8078,1),a}return b1(a,b),a.prototype.copy=function(){var b=new a(this.name);return this.copyTo(b),b.endSlot=this.endSlot,b.color.setFromColor(this.color),b},a}(aa.VertexAttachment),aa.ClippingAttachment=bF,ab=a||(a={}),ac=ab.core||(ab.core={}),bG=function(b){function a(c){var a=b.call(this,c)||this;return a.color=new ac.Color(1,1,1,1),a.tempColor=new ac.Color(0,0,0,0),a}return b1(a,b),a.prototype.updateUVs=function(b,d){var g=this.regionUVs.length;if(d&&d.length==g||(d=ac.Utils.newFloatArray(g)),null!=b){for(var c=b.texture._uvs,h=b.width,i=b.height,j=b.originalWidth,k=b.originalHeight,l=b.offsetX,m=b.pixiOffsetY,e=0;e<g;e+=2){var a=this.regionUVs[e],f=this.regionUVs[e+1];a=(a*j-l)/h,f=(f*k-m)/i,d[e]=(c.x0*(1-a)+c.x1*a)*(1-f)+(c.x3*(1-a)+c.x2*a)*f,d[e+1]=(c.y0*(1-a)+c.y1*a)*(1-f)+(c.y3*(1-a)+c.y2*a)*f}return d}},a.prototype.getParentMesh=function(){return this.parentMesh},a.prototype.setParentMesh=function(a){this.parentMesh=a,null!=a&&(this.bones=a.bones,this.vertices=a.vertices,this.worldVerticesLength=a.worldVerticesLength,this.regionUVs=a.regionUVs,this.triangles=a.triangles,this.hullLength=a.hullLength,this.worldVerticesLength=a.worldVerticesLength)},a.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var b=new a(this.name);return b.region=this.region,b.path=this.path,b.color.setFromColor(this.color),this.copyTo(b),b.regionUVs=new Float32Array(this.regionUVs.length),ac.Utils.arrayCopy(this.regionUVs,0,b.regionUVs,0,this.regionUVs.length),b.uvs=new Array(this.uvs.length),ac.Utils.arrayCopy(this.uvs,0,b.uvs,0,this.uvs.length),b.triangles=new Array(this.triangles.length),ac.Utils.arrayCopy(this.triangles,0,b.triangles,0,this.triangles.length),b.hullLength=this.hullLength,null!=this.edges&&(b.edges=new Array(this.edges.length),ac.Utils.arrayCopy(this.edges,0,b.edges,0,this.edges.length)),b.width=this.width,b.height=this.height,b},a.prototype.newLinkedMesh=function(){var b=new a(this.name);return b.region=this.region,b.path=this.path,b.color.setFromColor(this.color),b.deformAttachment=this.deformAttachment,b.setParentMesh(null!=this.parentMesh?this.parentMesh:this),b},a}(ac.VertexAttachment),ac.MeshAttachment=bG,ad=a||(a={}),ae=ad.core||(ad.core={}),bH=function(b){function a(c){var a=b.call(this,c)||this;return a.closed=!1,a.constantSpeed=!1,a.color=new ae.Color(1,1,1,1),a}return b1(a,b),a.prototype.copy=function(){var b=new a(this.name);return this.copyTo(b),b.lengths=new Array(this.lengths.length),ae.Utils.arrayCopy(this.lengths,0,b.lengths,0,this.lengths.length),b.closed=closed,b.constantSpeed=this.constantSpeed,b.color.setFromColor(this.color),b},a}(ae.VertexAttachment),ae.PathAttachment=bH,af=a||(a={}),ag=af.core||(af.core={}),bI=function(b){function a(c){var a=b.call(this,c)||this;return a.color=new ag.Color(.38,.94,0,1),a}return b1(a,b),a.prototype.computeWorldPosition=function(b,c){var a=b.matrix;return c.x=this.x*a.a+this.y*a.c+b.worldX,c.y=this.x*a.b+this.y*a.d+b.worldY,c},a.prototype.computeWorldRotation=function(d){var a=d.matrix,b=ag.MathUtils.cosDeg(this.rotation),c=ag.MathUtils.sinDeg(this.rotation),e=b*a.a+c*a.c,f=b*a.b+c*a.d;return Math.atan2(f,e)*ag.MathUtils.radDeg},a.prototype.copy=function(){var b=new a(this.name);return b.x=this.x,b.y=this.y,b.rotation=this.rotation,b.color.setFromColor(this.color),b},a}(ag.VertexAttachment),ag.PointAttachment=bI,ah=a||(a={}),ai=ah.core||(ah.core={}),bJ=function(b){function a(c){var a=b.call(this,c)||this;return a.x=0,a.y=0,a.scaleX=1,a.scaleY=1,a.rotation=0,a.width=0,a.height=0,a.color=new ai.Color(1,1,1,1),a.offset=ai.Utils.newFloatArray(8),a.uvs=ai.Utils.newFloatArray(8),a.tempColor=new ai.Color(1,1,1,1),a}return b1(a,b),a.prototype.updateOffset=function(){var g=this.width/this.region.originalWidth*this.scaleX,h=this.height/this.region.originalHeight*this.scaleY,e=-this.width/2*this.scaleX+this.region.offsetX*g,f=-this.height/2*this.scaleY+this.region.offsetY*h,i=e+this.region.width*g,j=f+this.region.height*h,k=this.rotation*Math.PI/180,c=Math.cos(k),d=Math.sin(k),l=e*c+this.x,m=e*d,n=f*c+this.y,o=f*d,p=i*c+this.x,q=i*d,r=j*c+this.y,s=j*d,b=this.offset;b[a.OX1]=l-o,b[a.OY1]=n+m,b[a.OX2]=l-s,b[a.OY2]=r+m,b[a.OX3]=p-s,b[a.OY3]=r+q,b[a.OX4]=p-o,b[a.OY4]=n+q},a.prototype.setRegion=function(a){this.region=a;var b=this.uvs;a.rotate?(b[2]=a.u,b[3]=a.v2,b[4]=a.u,b[5]=a.v,b[6]=a.u2,b[7]=a.v,b[0]=a.u2,b[1]=a.v2):(b[0]=a.u,b[1]=a.v2,b[2]=a.u,b[3]=a.v,b[4]=a.u2,b[5]=a.v,b[6]=a.u2,b[7]=a.v2)},a.prototype.computeWorldVertices=function(o,e,d,n){var f=this.offset,g=o.matrix,h=g.tx,i=g.ty,j=g.a,k=g.c,l=g.b,m=g.d,b=0,c=0;b=f[a.OX1],c=f[a.OY1],e[d]=b*j+c*k+h,e[d+1]=b*l+c*m+i,d+=n,b=f[a.OX2],c=f[a.OY2],e[d]=b*j+c*k+h,e[d+1]=b*l+c*m+i,d+=n,b=f[a.OX3],c=f[a.OY3],e[d]=b*j+c*k+h,e[d+1]=b*l+c*m+i,d+=n,b=f[a.OX4],c=f[a.OY4],e[d]=b*j+c*k+h,e[d+1]=b*l+c*m+i},a.prototype.copy=function(){var b=new a(this.name);return b.region=this.region,b.rendererObject=this.rendererObject,b.path=this.path,b.x=this.x,b.y=this.y,b.scaleX=this.scaleX,b.scaleY=this.scaleY,b.rotation=this.rotation,b.width=this.width,b.height=this.height,ai.Utils.arrayCopy(this.uvs,0,b.uvs,0,8),ai.Utils.arrayCopy(this.offset,0,b.offset,0,8),b.color.setFromColor(this.color),b},a.OX1=0,a.OY1=1,a.OX2=2,a.OY2=3,a.OX3=4,a.OY3=5,a.OX4=6,a.OY4=7,a.X1=0,a.Y1=1,a.C1R=2,a.C1G=3,a.C1B=4,a.C1A=5,a.U1=6,a.V1=7,a.X2=8,a.Y2=9,a.C2R=10,a.C2G=11,a.C2B=12,a.C2A=13,a.U2=14,a.V2=15,a.X3=16,a.Y3=17,a.C3R=18,a.C3G=19,a.C3B=20,a.C3A=21,a.U3=22,a.V3=23,a.X4=24,a.Y4=25,a.C4R=26,a.C4G=27,a.C4B=28,a.C4A=29,a.U4=30,a.V4=31,a}(ai.Attachment),ai.RegionAttachment=bJ,aj=a||(a={}),bK=aj.core||(aj.core={}),bL=function(){function a(a,b){this.jitterX=0,this.jitterY=0,this.jitterX=a,this.jitterY=b}return a.prototype.begin=function(a){},a.prototype.transform=function(a,b,c,d){a.x+=bK.MathUtils.randomTriangular(-this.jitterX,this.jitterY),a.y+=bK.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},a.prototype.end=function(){},a}(),bK.JitterEffect=bL,ak=a||(a={}),bM=ak.core||(ak.core={}),bN=function(){function a(a){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=a}return a.prototype.begin=function(a){this.worldX=a.x+this.centerX,this.worldY=a.y+this.centerY},a.prototype.transform=function(b,j,k,l){var i=this.angle*bM.MathUtils.degreesToRadians,c=b.x-this.worldX,d=b.y-this.worldY,e=Math.sqrt(c*c+d*d);if(e<this.radius){var f=a.interpolation.apply(0,i,(this.radius-e)/this.radius),g=Math.cos(f),h=Math.sin(f);b.x=g*c-h*d+this.worldX,b.y=h*c+g*d+this.worldY}},a.prototype.end=function(){},a.interpolation=new bM.PowOut(2),a}(),bM.SwirlEffect=bN,Math.fround||(Math.fround=Math.fround=(bO=new Float32Array(1),function(a){return bO[0]=a,bO[0]})),function(a){a.core.Bone.yDown=!0;var e=[0,0,0],b=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;return a.region=null,a}return b1(a,b),a}(PIXI.Sprite);a.SpineSprite=b;var c=function(b){function a(a,c,d,e,f){return b.call(this,a,c,d,e,f)||this}return b1(a,b),a}(PIXI.mesh.Mesh);a.SpineMesh=c;var d=function(g){function d(f){var b=g.call(this)||this;if(!f)throw new Error("The spineData param is required.");if("string"==typeof f)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');b.spineData=f,b.skeleton=new a.core.Skeleton(f),b.skeleton.updateWorldTransform(),b.stateData=new a.core.AnimationStateData(f),b.state=new a.core.AnimationState(b.stateData),b.slotContainers=[],b.tempClipContainers=[];for(var h=0,l=b.skeleton.slots.length;h<l;h++){var c=b.skeleton.slots[h],d=c.getAttachment(),e=b.newContainer();if(b.slotContainers.push(e),b.addChild(e),b.tempClipContainers.push(null),d instanceof a.core.RegionAttachment){var i=d.region.name,j=b.createSprite(c,d,i);c.currentSprite=j,c.currentSpriteName=i,e.addChild(j)}else if(d instanceof a.core.MeshAttachment){var k=b.createMesh(c,d);c.currentMesh=k,c.currentMeshName=d.name,e.addChild(k)}else{if(!(d instanceof a.core.ClippingAttachment))continue;b.createGraphics(c,d),e.addChild(c.clippingContainer),e.addChild(c.currentGraphics)}}return b.autoUpdate=!0,b.tintRgb=new Float32Array([1,1,1]),b}return b1(d,g),Object.defineProperty(d.prototype,"autoUpdate",{get:function(){return this.updateTransform===d.prototype.autoUpdateTransform},set:function(a){this.updateTransform=a?d.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"visible",{get:function(){return this._visible},set:function(a){a!==this._visible&&(this._visible=a,a&&(this.lastTime=0))},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(a){this.tintRgb=PIXI.utils.hex2rgb(a,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"delayLimit",{get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:d.globalDelayLimit)||Number.MAX_VALUE},enumerable:!1,configurable:!0}),d.prototype.update=function(v){var C=this.delayLimit;if(v>C&&(v=C),this.state.update(v),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var w=this.skeleton.slots,x=this.color,d=null,l=null;x?(d=x.light,l=x.dark):d=this.tintRgb;for(var F=PIXI.TransformBase&&1==this.transformHack(),g=0,y=w.length;g<y;g++){var b=w[g],h=b.getAttachment(),c=this.slotContainers[g];if(!h){c.visible=!1;continue}var r=null,i=h.color;if(h instanceof a.core.RegionAttachment){var D=h.region;if(D){b.currentMesh&&(b.currentMesh.visible=!1,b.currentMesh=null,b.currentMeshName=void 0);var E=D;if(!b.currentSpriteName||b.currentSpriteName!==E.name){var s=E.name;if(b.currentSprite&&(b.currentSprite.visible=!1),b.sprites=b.sprites||{},void 0!==b.sprites[s])b.sprites[s].visible=!0;else{var G=this.createSprite(b,h,s);c.addChild(G)}b.currentSprite=b.sprites[s],b.currentSpriteName=s}}if(c.transform){var j=c.transform,k=j,m=null;k.matrix2d?(m=k.matrix2d,k._dirtyVersion++,k.version=k._dirtyVersion,k.isStatic=!0,k.operMode=0):F?(k.position&&((j=new PIXI.TransformBase)._parentID=-1,j._worldID=c.transform._worldID,c.transform=j),m=j.localTransform):k.setFromMatrix(b.bone.matrix),m&&b.bone.matrix.copy(m)}else{var m=c.localTransform||new PIXI.Matrix;b.bone.matrix.copy(m),c.localTransform=m,c.displayObjectUpdateTransform=f}b.currentSprite.color?r=b.currentSprite.color:(e[0]=d[0]*b.color.r*i.r,e[1]=d[1]*b.color.g*i.g,e[2]=d[2]*b.color.b*i.b,b.currentSprite.tint=PIXI.utils.rgb2hex(e)),b.currentSprite.blendMode=b.blendMode}else if(h instanceof a.core.MeshAttachment){if(b.currentSprite)if(b.currentSprite.visible=!1,b.currentSprite=null,b.currentSpriteName=void 0,c.transform){var j=new PIXI.TransformStatic;j._parentID=-1,j._worldID=c.transform._worldID,c.transform=j}else c.localTransform=new PIXI.Matrix,c.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform;if(!b.currentMeshName||b.currentMeshName!==h.name){var u=h.name;if(b.currentMesh&&(b.currentMesh.visible=!1),b.meshes=b.meshes||{},void 0!==b.meshes[u])b.meshes[u].visible=!0;else{var H=this.createMesh(b,h);c.addChild(H)}b.currentMesh=b.meshes[u],b.currentMeshName=u}if(h.computeWorldVerticesOld(b,b.currentMesh.vertices),b.currentMesh.color)r=b.currentMesh.color;else if("3"!==PIXI.VERSION[0]){var z=b.currentMesh.tintRgb;z[0]=d[0]*b.color.r*i.r,z[1]=d[1]*b.color.g*i.g,z[2]=d[2]*b.color.b*i.b}b.currentMesh.blendMode=b.blendMode}else if(h instanceof a.core.ClippingAttachment)b.currentGraphics||(this.createGraphics(b,h),c.addChild(b.clippingContainer),c.addChild(b.currentGraphics)),this.updateGraphics(b,h);else{c.visible=!1;continue}if(c.visible=!0,r){var o=b.color.r*i.r,p=b.color.g*i.g,q=b.color.b*i.b;r.setLight(d[0]*o+l[0]*(1-o),d[1]*p+l[1]*(1-p),d[2]*q+l[2]*(1-q)),b.darkColor?(o=b.darkColor.r,p=b.darkColor.g,q=b.darkColor.b):(o=0,p=0,q=0),r.setDark(d[0]*o+l[0]*(1-o),d[1]*p+l[1]*(1-p),d[2]*q+l[2]*(1-q))}c.alpha=b.color.a}for(var A=this.skeleton.drawOrder,t=null,n=null,g=0,y=A.length;g<y;g++){var b=w[A[g].data.index],c=this.slotContainers[A[g].data.index];if(n||null===c.parent||c.parent===this||(c.parent.removeChild(c),c.parent=this),b.currentGraphics&&b.getAttachment())n=b.clippingContainer,t=b.getAttachment(),n.children.length=0,this.children[g]=c,t.endSlot==b.data&&(t.endSlot=null);else if(n){var B=this.tempClipContainers[g];B||((B=this.tempClipContainers[g]=this.newContainer()).visible=!1),this.children[g]=B,c.parent=null,n.addChild(c),t.endSlot==b.data&&(n.renderable=!0,n=null,t=null)}else this.children[g]=c}}},d.prototype.setSpriteRegion=function(c,b,a){b.region=a,b.texture=a.texture,a.size?(b.scale.x=a.size.width/a.originalWidth,b.scale.y=-a.size.height/a.originalHeight):(b.scale.x=c.scaleX*c.width/a.originalWidth,b.scale.y=-c.scaleY*c.height/a.originalHeight)},d.prototype.setMeshRegion=function(c,a,b){a.region=b,a.texture=b.texture,b.texture._updateUvs(),c.updateUVs(b,a.uvs),a.dirty++},d.prototype.autoUpdateTransform=function(){if(d.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var a=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(a)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},d.prototype.createSprite=function(d,c,f){var e=c.region;d.hackAttachment===c&&(e=d.hackRegion);var g=e.texture,b=this.newSprite(g);return b.rotation=c.rotation*a.core.MathUtils.degRad,b.anchor.x=.5,b.anchor.y=.5,b.position.x=c.x,b.position.y=c.y,b.alpha=c.color.a,b.region=c.region,this.setSpriteRegion(c,b,c.region),d.sprites=d.sprites||{},d.sprites[f]=b,b},d.prototype.createMesh=function(b,a){var d=a.region;b.hackAttachment===a&&(d=b.hackRegion,b.hackAttachment=null,b.hackRegion=null);var c=this.newMesh(d.texture,new Float32Array(a.regionUVs.length),new Float32Array(a.regionUVs.length),new Uint16Array(a.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return c.canvasPadding=1.5,c.alpha=a.color.a,c.region=a.region,this.setMeshRegion(a,c,d),b.meshes=b.meshes||{},b.meshes[a.name]=c,c},d.prototype.createGraphics=function(b,d){var a=this.newGraphics(),c=new PIXI.Polygon([]);return a.clear(),a.beginFill(16777215,1),a.drawPolygon(c),a.renderable=!1,b.currentGraphics=a,b.clippingContainer=this.newContainer(),b.clippingContainer.mask=b.currentGraphics,a},d.prototype.updateGraphics=function(a,b){var c=a.currentGraphics.graphicsData[0].shape.points,d=b.worldVerticesLength;c.length=d,b.computeWorldVertices(a,0,d,c,0,2),a.currentGraphics.dirty++,a.currentGraphics.clearDirty++},d.prototype.hackTextureBySlotIndex=function(g,d,f){void 0===d&&(d=null),void 0===f&&(f=null);var b=this.skeleton.slots[g];if(!b)return!1;var e=b.getAttachment(),c=e.region;return d?((c=new a.core.TextureRegion).texture=d,c.size=f,b.hackRegion=c,b.hackAttachment=e):(b.hackRegion=null,b.hackAttachment=null),b.currentSprite&&b.currentSprite.region!=c?(this.setSpriteRegion(e,b.currentSprite,c),b.currentSprite.region=c):b.currentMesh&&b.currentMesh.region!=c&&this.setMeshRegion(e,b.currentMesh,c),!0},d.prototype.hackTextureBySlotName=function(d,a,b){void 0===a&&(a=null),void 0===b&&(b=null);var c=this.skeleton.findSlotIndex(d);return-1!=c&&this.hackTextureBySlotIndex(c,a,b)},d.prototype.newContainer=function(){return new PIXI.Container},d.prototype.newSprite=function(a){return new b(a)},d.prototype.newGraphics=function(){return new PIXI.Graphics},d.prototype.newMesh=function(a,b,d,e,f){return new c(a,b,d,e,f)},d.prototype.transformHack=function(){return 1},d.prototype.hackAttachmentGroups=function(d,h,e){if(d){for(var f=[],g=[],c=0,i=this.skeleton.slots.length;c<i;c++){var b=this.skeleton.slots[c],j=b.currentSpriteName||b.currentMeshName||"",a=b.currentSprite||b.currentMesh;j.endsWith(d)?(a.parentGroup=h,g.push(a)):e&&a&&(a.parentGroup=e,f.push(a))}return[f,g]}},d.prototype.destroy=function(c){for(var a=0,d=this.skeleton.slots.length;a<d;a++){var b=this.skeleton.slots[a];for(var e in b.meshes)b.meshes[e].destroy(c);for(var f in b.meshes=null,b.sprites)b.sprites[f].destroy(c);b.sprites=null}for(var a=0,d=this.slotContainers.length;a<d;a++)this.slotContainers[a].destroy(c);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,g.prototype.destroy.call(this,c)},d.globalAutoUpdate=!0,d.globalDelayLimit=0,d.clippingPolygon=[],d}(PIXI.Container);function f(){var a=this.parent.worldTransform,c=this.worldTransform,b=this.localTransform;c.a=b.a*a.a+b.b*a.c,c.b=b.a*a.b+b.b*a.d,c.c=b.c*a.a+b.d*a.c,c.d=b.c*a.b+b.d*a.d,c.tx=b.tx*a.a+b.ty*a.c+a.tx,c.ty=b.tx*a.b+b.ty*a.d+a.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}a.Spine=d}(a||(a={})),al=a||(a={}),PIXI.spine=al,(w=PIXI.Texture.prototype)._updateUvs||(w._updateUvs=w.updateUvs),function(a){var c=PIXI.loaders.Resource;function b(){return function(b,j){if(!b.data)return j();var l=b.type==c.TYPE.JSON&&b.data.bones,r=b.xhrType==c.XHR_RESPONSE_TYPE.BUFFER&&("skel"===b.extension||b.metadata.spineMetadata);if(!l&&!r)return j();var h=null,m=b.data;l?h=new a.core.SkeletonJson(null):(h=new a.core.SkeletonBinary(null),b.data instanceof ArrayBuffer&&(m=new Uint8Array(b.data)));var f=b.metadata||{},n=f?b.metadata.spineSkeletonScale:null;n&&(h.scale=n);var i=f?b.metadata.spineAtlas:null;if(!1===i)return j();if(i&&i.pages)return h.attachmentLoader=new a.core.AtlasAttachmentLoader(i),b.spineData=h.readSkeletonData(m),b.spineAtlas=i,j();var s=f.spineAtlasSuffix||".atlas",g=b.url,o=g.indexOf("?");o>0&&(g=g.substr(0,o)),g=g.substr(0,g.lastIndexOf("."))+s,b.metadata&&b.metadata.spineAtlasFile&&(g=b.metadata.spineAtlasFile),g=g.replace(this.baseUrl,"");var t={crossOrigin:b.crossOrigin,xhrType:c.XHR_RESPONSE_TYPE.TEXT,metadata:f.spineMetadata||null,parentResource:b},p={crossOrigin:b.crossOrigin,metadata:f.imageMetadata||null,parentResource:b},k=b.url.substr(0,b.url.lastIndexOf("/")+1);k=k.replace(this.baseUrl,"");var q=f.imageNamePrefix||b.name+"_atlas_page_",v=f.images?e(f.images):f.image?e({"default":f.image}):f.imageLoader?f.imageLoader(this,q,k,p):d(this,q,k,p),u=function(c){new a.core.TextureAtlas(c,v,function(c){c&&(h.attachmentLoader=new a.core.AtlasAttachmentLoader(c),b.spineData=h.readSkeletonData(m),b.spineAtlas=c),j()})};b.metadata&&b.metadata.atlasRawData?u(b.metadata.atlasRawData):this.add(b.name+"_atlas",g,t,function(a){a.error?j():u(a.data)})}}function d(b,c,a,d){return a&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),function(f,i){var g=c+f,e=b.resources[g];if(e){function h(){i(e.texture.baseTexture)}e.texture?h():e.onAfterMiddleware.add(h)}else b.add(g,a+f,d,function(a){a.error?i(null):i(a.texture.baseTexture)})}}function e(a){return function(c,d){var b=a[c]||a.default;d(b&&b.baseTexture?b.baseTexture:b)}}c.setExtensionXhrType("skel",c.XHR_RESPONSE_TYPE.BUFFER),a.atlasParser=b,a.imageLoaderAdapter=d,a.syncImageLoaderAdapter=function(a,b){return a&&a.lastIndexOf("/")!==a.length-1&&(a+="/"),function(a,c){c(PIXI.BaseTexture.fromImage(a,b))}},a.staticImageLoader=e,PIXI.loaders.Loader&&(PIXI.loaders.Loader.addPixiMiddleware(b),PIXI.loader.use(b()))}(a||(a={}))}}])