(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2846],{49050:function(c,b,a){"use strict";a.d(b,{X:function(){return e}});var d=a(28647),e={axieDetail:{href:"/axie/[id]",as:function(a){return"/axie/".concat(a)}},landDetail:{href:"/land/[col]/[row]",as:function(a,b){return"/land/".concat(a,"/").concat(b)}},itemDetail:{href:"/item/[itemAlias]/[tokenId]",as:function(a,b){return"/item/".concat(a,"/").concat(b)}},publicProfile:{href:"/profile/[id]/axie",as:function(a,b){return"/profile/".concat((0,d.NH)(a,b),"/axie")}},axiePublicProfile:{href:"/profile/[id]/axie",as:function(a){return"/profile/".concat(a,"/axie")}},landPublicProfile:{href:"/profile/[id]/land",as:function(a){return"/profile/".concat(a,"/land")}},itemPublicProfile:{href:"/profile/[id]/item",as:function(a){return"/profile/".concat(a,"/item")}},activities:{href:"/profile/activity",as:function(){return"/profile/activity"}},bundleDetail:{href:"/bundle/[listingIndex]",as:function(a){return"/bundle/".concat(a)}},login:{href:"/login",as:function(){return"/login"}}}},54695:function(c,b,a){"use strict";a.d(b,{P:function(){return g}});var d=a(18499),e=a(89181);function f(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var g=function(){var a,b,c=(a=(0,d.Db)(e.lR),b=1,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||function(a,c){if(a){if("string"==typeof a)return f(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return f(a,c)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return{logActivity:function(a,b){return c({variables:{action:a,data:b}})}}}},55153:function(d,b,a){"use strict";a.d(b,{Hp:function(){return j},M5:function(){return h},S:function(){return i},iQ:function(){return k}});var c=a(69016),e=a.n(c),f=a(96486),g=a(53944),h=function(a){return a===g.y.Axie?"axie":a===g.y.Bundle?"bundle":a===g.y.Item?"land item":a===g.y.Land?"land plot":""},i=function(a,b){return b/(a||.01)<=100},j=function(a){if((0,f.isEmpty)(a)||(null==a?void 0:a.startingPrice)===(null==a?void 0:a.endingPrice))return!0;var b=parseFloat((null==a?void 0:a.startingPrice)||"0"),c=parseFloat((null==a?void 0:a.endingPrice)||"0");return i(b,c)},k=function(a){if(!a)return 0;var b=new(e())(a),c=e().mul(a,.0425);return e().sub(b,c).toNumber()}},53944:function(y,h,a){"use strict";a.d(h,{z:function(){return aH},y:function(){return g}});var b,c,e,f,g,d,i=a(34051),z=a.n(i),A=a(85893),B=a(18499),C=a(21033),j=a(13550),D=a.n(j),k=a(94184),E=a.n(k),F=a(76614);(d=e||(e={})).Idle="idle",d.Requesting="requesting",d.Success="success",d.Error="error";var G=a(88562),H=a(52909),I=a(67294),J=a(93377),K=a(54695),L=a(60114),M=a(69463),l=a(14293),N=a.n(l),m=a(30381),O=a.n(m),P=a(72072),Q=a(88236),R=a(54539),S=a(47890);function T(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var U={WETH:"",AXS:"",SLP:"",USDC:""},V=function(){var d,f,a=(0,F.ec)().profile,j=null==a?void 0:a.addresses.ronin,b=(0,I.useState)(e.Idle),g=b[0],k=b[1],c=(0,I.useState)(U),h=c[0],l=c[1],i=(f=(d=z().mark(function a(){var b;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j){a.next=3;break}return l(U),a.abrupt("return");case 3:return k(e.Requesting),a.prev=4,a.next=7,Promise.all([R.Tm.WETH.fetchBalance(j),R.Tm.AXS.fetchBalance(j),R.Tm.SLP.fetchBalance(j),R.Tm.USDC.fetchBalance(j),]);case 7:b=a.sent,l({WETH:S.fromWei(b[0],R.Tm.WETH.unit),AXS:S.fromWei(b[1],R.Tm.AXS.unit),SLP:S.fromWei(b[2],R.Tm.SLP.unit),USDC:S.fromWei(b[3],R.Tm.USDC.unit)}),k(e.Success),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(4),l(U),k(e.Error);case 16:case"end":return a.stop()}},a,null,[[4,12]])}),function(){var a=this,b=arguments;return new Promise(function(e,f){var g=d.apply(a,b);function c(a){T(g,e,f,c,h,"next",a)}function h(a){T(g,e,f,c,h,"throw",a)}c(void 0)})}),function(){return f.apply(this,arguments)});return{tokensBalance:h,fetchTokensBalanceStatus:g,fetchBalances:i}};function W(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function X(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){W(g,e,f,d,h,"next",a)}function h(a){W(g,e,f,d,h,"throw",a)}d(void 0)})}}(b=f||(f={})).None="none",b.InsufficientBalance="insufficientBalance",b.HighPriceImpact="highPriceImpact",b.GetAmountError="getAmountError",b.General="general";var Y=function(a,b){var m,n,o,p,q,r,s,R=b.openTransactionSubmission,t=b.referralAddress,c=a.data,S=c.listingIndex,T=c.suggestedPrice,U=a.owner,W=a.tokenId,Y=a.itemType,Z=(0,J.o)({requireConfig:L.v.gaTrackingCode}).GAService,$=(0,K.P)().logActivity,d=V(),_=d.fetchBalances,u=d.tokensBalance,h=(0,F.ec)(),i=h.activeRoninAddress,aa=void 0===i?"":i,ab=h.scopedRoninWeb3,j=(0,I.useState)(!1),v=j[0],ac=j[1],k=(0,I.useState)(f.None),w=k[0],ad=k[1],l=(0,I.useState)(e.Idle),x=l[0],ae=l[1],af=(0,I.useMemo)(function(){return N()(t)?Q.r_:t},[t]),y=function(){if(!N()(ab))return{scopedRoninWeb3:ab};throw new Error("Ronin web3 is not found.")},A=function(){if(!N()(aa))return aa;throw new Error("Ronin web3 address is not found.")},B=function(){if(!N()(S))return S;throw new Error("Listing index is missing.")},ag=(m=X(z().mark(function a(b,c){var d,e,f;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=y().scopedRoninWeb3,!(!aa||!d)){a.next=3;break}return a.abrupt("return",!0);case 3:return e=new(D())(c),a.next=6,b.fetchBalance(aa);case 6:if(f=a.sent,!e.gt(f)){a.next=11;break}return a.abrupt("return",!0);case 11:return a.abrupt("return",!1);case 12:case"end":return a.stop()}},a)})),function(a,b){return m.apply(this,arguments)}),ah=function(){return 1e3*O()().add(30,"minutes").unix()},ai=(n=X(z().mark(function b(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=y().scopedRoninWeb3,e=A(),f=c.baseToken,g=c.selectedToken,h=c.amount,i=c.isSelectedWETH,k=(j=a.itemData).row,l=j.col,m=j.owner,n=B(),o=h,b.next=8,d.exchangeContract.getListingState(new(D())(n)).call();case 8:if(p=b.sent,!i){b.next=16;break}return b.next=13,d.auctionContract.contract.methods.settleAuction(m,L.v.addresses.ronin.sideChainWeth,new(D())(o),new(D())(n),p,af).send({from:e,gasPrice:"0"});case 13:q=b.sent,b.next=19;break;case 16:return b.next=18,d.auctionContract.contract.methods.swapTokensAndSettleAuction(m,[g.address,f.address],new(D())(o),new(D())(n),p,ah(),af).send({from:e,gasPrice:"0"});case 18:q=b.sent;case 19:return b.next=21,$(M.aU.BuyLand,{col:l,row:k,price:T,owner:m,txHash:q.transactionHash});case 21:return b.abrupt("return",q.transactionHash);case 22:case"end":return b.stop()}},b)})),function(a){return n.apply(this,arguments)}),aj=(o=X(z().mark(function b(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=y().scopedRoninWeb3,e=A(),f=c.baseToken,g=c.selectedToken,h=c.amount,i=c.isSelectedWETH,k=(j=a.itemData).itemAlias,l=j.itemId,m=j.owner,n=B(),o=h,b.next=8,d.exchangeContract.getListingState(new(D())(n)).call();case 8:if(p=b.sent,!i){b.next=16;break}return b.next=13,d.auctionContract.contract.methods.settleAuction(m,L.v.addresses.ronin.sideChainWeth,new(D())(o),new(D())(n),p,af).send({from:e,gasPrice:"0"});case 13:q=b.sent,b.next=19;break;case 16:return b.next=18,d.auctionContract.contract.methods.swapTokensAndSettleAuction(m,[g.address,f.address],new(D())(o),new(D())(n),p,ah(),af).send({from:e,gasPrice:"0"});case 18:q=b.sent;case 19:return b.next=21,$(M.aU.BuyItem,{tokenId:l,itemAlias:k,price:T,owner:m,txHash:q.transactionHash});case 21:return b.abrupt("return",q.transactionHash);case 22:case"end":return b.stop()}},b)})),function(a){return o.apply(this,arguments)}),ak=(p=X(z().mark(function b(c){var d,e,f,g,h,i,j,k,l,m;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(d=y().scopedRoninWeb3,e=A(),null==(f=a.itemData.auction)?void 0:f.listingIndex){b.next=5;break}return b.abrupt("return",Promise.reject("Listing index not found."));case 5:return g=c.baseToken,h=c.selectedToken,i=c.amount,j=c.isSelectedWETH,k=i,b.next=9,d.exchangeContract.getListingState(new(D())(f.listingIndex)).call();case 9:if(l=b.sent,!j){b.next=17;break}return b.next=14,d.auctionContract.contract.methods.settleAuction(U,L.v.addresses.ronin.sideChainWeth,new(D())(k),new(D())(f.listingIndex),l,af).send({from:e,gasPrice:"0"});case 14:m=b.sent,b.next=20;break;case 17:return b.next=19,d.auctionContract.contract.methods.swapTokensAndSettleAuction(U,[h.address,g.address],new(D())(k),new(D())(f.listingIndex),l,ah(),af).send({from:e,gasPrice:"0"});case 19:m=b.sent;case 20:return b.next=22,$(M.aU.BuyBundle,{listingIndex:f.listingIndex,txHash:m.transactionHash,price:T,owner:f.seller});case 22:return b.abrupt("return",m.transactionHash);case 23:case"end":return b.stop()}},b)})),function(a){return p.apply(this,arguments)}),al=(q=X(z().mark(function b(c){var d,e,f,g,h,i,j,k,l,m;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(d=y().scopedRoninWeb3,e=A(),f=c.baseToken,g=c.selectedToken,h=c.isSelectedWETH,i=c.amount,j=a.itemData.auction){b.next=7;break}return b.abrupt("return",Promise.reject("Auction info not found."));case 7:if(k=j.listingIndex,l=j.state,!(!k||!l)){b.next=10;break}return b.abrupt("return",Promise.reject("Listing index and state not found."));case 10:if(!h){b.next=17;break}return b.next=14,d.auctionContract.contract.methods.settleAuction(U,L.v.addresses.ronin.sideChainWeth,new(D())(i),new(D())(k),new(D())(l),af).send({from:e,gasPrice:"0"});case 14:m=b.sent,b.next=20;break;case 17:return b.next=19,d.auctionContract.contract.methods.swapTokensAndSettleAuction(U,[g.address,f.address],new(D())(i),new(D())(k),new(D())(l),ah(),af).send({from:e,gasPrice:"0"});case 19:m=b.sent;case 20:return b.next=22,$(M.aU.BuyAxie,{owner:U,axieId:W,price:T,txHash:m.transactionHash});case 22:return b.abrupt("return",m.transactionHash);case 23:case"end":return b.stop()}},b)})),function(a){return q.apply(this,arguments)}),am=function(c){var a,b,d=c.selectedToken.symbol.toUpperCase();switch(d){case"AXS":b=P.V3.PAY_IN_AXS,a=P.Ok.PAY_IN_AXS;break;case"SLP":b=P.V3.PAY_IN_SLP,a=P.Ok.PAY_IN_SLP;break;case"WETH":b=P.V3.PAY_IN_WETH,a=P.Ok.PAY_IN_WETH;break;case"USDC":b=P.V3.PAY_IN_USDC,a=P.Ok.PAY_IN_USDC;break;default:break}b&&a&&Z.sendEvent({category:P.H7.PAY_ASSETS,label:a,action:b})},an=(r=X(z().mark(function a(b){var c;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:ae(e.Requesting),a.prev=1,c="",a.t0=Y,a.next=a.t0===g.Axie?6:a.t0===g.Land?10:a.t0===g.Item?14:a.t0===g.Bundle?18:22;break;case 6:return a.next=8,al(b);case 8:return c=a.sent,a.abrupt("break",22);case 10:return a.next=12,ai(b);case 12:return c=a.sent,a.abrupt("break",22);case 14:return a.next=16,aj(b);case 16:return c=a.sent,a.abrupt("break",22);case 18:return a.next=20,ak(b);case 20:return c=a.sent,a.abrupt("break",22);case 22:return ac(!1),am(b),R({txHash:c,message:"Transaction submitted successfully."}),ae(e.Success),a.abrupt("return",{error:!1,isShowDeposit:!1});case 29:return a.prev=29,a.t1=a.catch(1),ad(f.General),ae(e.Error),a.abrupt("return",{error:!0,isShowDeposit:!1,errorMessage:"Something wrong. Please try again in few seconds."});case 34:case"end":return a.stop()}},a,null,[[1,29]])})),function(a){return r.apply(this,arguments)}),C=function(a){a.preventDefault(),_(),ac(!0)},E=(s=X(z().mark(function a(b){var c,d,e;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.selectedToken,d=b.amount,ad(f.None),!(!c||!aa)){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,ag(c,d);case 6:if(!(e=a.sent)){a.next=10;break}return ad(f.InsufficientBalance),a.abrupt("return");case 10:an(b);case 11:case"end":return a.stop()}},a)})),function(a){return s.apply(this,arguments)}),G=function(){ac(!1)},H=function(){ad(f.None)};return{errorBuy:w,isShowBuyNowDialog:v,tokensBalance:u,buyRequestStatus:x,requireListingIndex:B,requireActiveRoninAddress:A,requireRoninWeb3:y,onClickBuyNow:C,onConfirmBuyNow:E,onCloseBuyNowDialog:G,onChangeSelectToken:H}},Z=a(50014),n=a(76692),$=a.n(n),_=a(48701),aa=function(){return{tokens:(0,I.useMemo)(function(){return R.Tm?Object.values(R.Tm):[]},[R.Tm]),baseTokenOutput:null===R.Tm||void 0===R.Tm?void 0:R.Tm.WETH,tokensByChain:R.Tm}},ab=a(88466);function ac(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function ad(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){ac(g,e,f,d,h,"next",a)}function h(a){ac(g,e,f,d,h,"throw",a)}d(void 0)})}}var ae=function(c){var t,u,v,w=c.data,x=c.itemData,y=c.itemType,Y=c.onConfirm,ac=c.checkUnlockedRoninWallet,ae=c.onClose,f=w.suggestedPrice,l=aa(),A=l.tokens,a=l.baseTokenOutput,i=(0,Z.J)().exchangeRate,af=(0,F.jS)(),ag=(0,F.ec)().activeRoninAddress,m=(0,I.useState)(!0),B=m[0],ah=m[1],n=(0,I.useState)(!1),C=n[0],ai=n[1],o=(0,I.useState)(f?S.fromWei(f,a.unit):""),h=o[0],aj=o[1],p=(0,I.useState)(f),E=p[0],ak=p[1],q=(0,I.useState)($()(a,null)),b=q[0],al=q[1],r=(0,I.useState)(e.Idle),j=r[0],am=r[1],s=(0,I.useState)(e.Idle),G=s[0],an=s[1],k=(0,I.useMemo)(function(){return(null==b?void 0:b.address)===a.address},[b,a]),d=(0,I.useMemo)(function(){return j===e.Error||j===e.Requesting},[j]),H=(0,I.useMemo)(function(){return(0,ab.Uy)(Number(S.fromWei(new(D())(f),a.unit)),a,i)},[f,a,i]),J=(0,I.useMemo)(function(){return k?H:b&&i&&!d?(0,ab.Uy)(Number(h),b,i):void 0},[h,b,i,k,H,d,]),K=(0,I.useMemo)(function(){return d?"--":"".concat((0,_.xG)(h,4)," ").concat(null==b?void 0:b.symbol)},[h,b,d]),L=(0,I.useMemo)(function(){var b=S.fromWei(f,a.unit);return(0,_.xG)(b,4)},[f,a]),M=(0,I.useMemo)(function(){if(!d){if([!b,!h,k,"error"===j,"requesting"===j,!i,].filter(Boolean).length>0)return 0;var a=(0,ab.Uy)(Number(h),b,i);return(0,ab.Ld)(H,a)}},[h,b,i,k,j,d,]),O=(0,I.useMemo)(function(){if(!b||!a||d)return"--";var c=Number(h)*Q.g6+Number(h);return"".concat((0,_.xG)(c,5)," ").concat(b.symbol)},[h,b,a,d]),P=(0,I.useMemo)(function(){var a=(0,ab.GS)(b?[b]:[]),c=Number(h)*Number(a.toSignificant(6))/100,e=d||N()(M)?void 0:M-Number(a.toSignificant(6)),f=d?"--":"~".concat((0,_.xG)(c,6)," ").concat(null==b?void 0:b.symbol);return{realizedLpFeePercent:a,realizedLPFee:(0,_.xG)(c,4),priceImpact:e,maximumSent:O,tradePriceImpact:M,liquidityProviderFee:f,slippage:100*Q.g6}},[b,h,M,O,d,]),R=(0,I.useMemo)(function(){if(!b||!i)return 0;var c=(0,ab.Uy)(1,b,i),d=(0,ab.Uy)(1,a,i);return c<0?0:d/c},[i,a,b]),T=(0,I.useMemo)(function(){switch(y){case g.Axie:return"Buy ".concat(x.name);case g.Bundle:return"Buy ".concat(x.name);case g.Item:return"Buy ".concat(x.name);case g.Land:var a=x,b="".concat(a.landType," plot (").concat(a.col,", ").concat(a.row,")");return"Buy ".concat(b);default:return"Buy now"}},[x,y]),U=function(){ai(function(a){return!a})},V=(t=ad(z().mark(function b(d){var g,h,i,j,k,l;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(g=af().scopedRoninWeb3,h=ac()){b.next=5;break}return ae&&ae(),b.abrupt("return");case 5:if(!(!ag||!g)){b.next=8;break}return am(e.Idle),b.abrupt("return");case 8:if(al(d),d.address!==(null==a?void 0:a.address)){b.next=15;break}return am(e.Idle),ah(!0),aj(S.fromWei(f,d.unit)),c.onSelectToken(d,f),b.abrupt("return");case 15:return am(e.Requesting),b.prev=16,b.next=19,g.katanaContract.getAmountsIn(new(D())(f),[d.address,null==a?void 0:a.address,]).call();case 19:return j=(i=b.sent)[0],aj(k=S.fromWei(j,d.unit)),b.next=25,d.isAllowanceEnough(ag,new(D())(j));case 25:ah(l=b.sent),ak(j),am(e.Success),c.onSelectToken(d,j),b.next=36;break;case 32:b.prev=32,b.t0=b.catch(16),aj(""),am(e.Error);case 36:case"end":return b.stop()}},b,null,[[16,32]])})),function(a){return t.apply(this,arguments)}),W=(u=ad(z().mark(function a(){var c,d;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=ac()){a.next=4;break}return ae&&ae(),a.abrupt("return");case 4:if(!(!b||!ag||B)){a.next=6;break}return a.abrupt("return");case 6:return an(e.Requesting),a.next=9,b.approve(ag);case 9:(d=a.sent).success?(an(e.Success),ah(!0)):an(e.Error);case 11:case"end":return a.stop()}},a)})),function(){return u.apply(this,arguments)}),X=(v=ad(z().mark(function c(){var d;return z().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(d=ac()){c.next=4;break}return ae&&ae(),c.abrupt("return");case 4:if(!(!b||!ag)){c.next=6;break}return c.abrupt("return");case 6:Y({isSelectedWETH:k,amount:k?f:E,selectedToken:b,baseToken:a});case 7:case"end":return c.stop()}},c)})),function(){return v.apply(this,arguments)});return{tokens:A,baseTokenOutput:a,isSelectedBaseToken:k,isOpenViewDetail:C,totalTokenOutput:K,selectedToken:b,advancedSwapDetails:P,totalUSDAmount:J,tradeExchangeRate:R,swapedTokenAmount:E,isAllowanceEnough:B,getAmountSwapStatus:j,titleDialog:T,approveRequestStatus:G,isIncorrectPrice:d,totalBaseTokenAmount:L,onSelectToken:V,onClickConfirm:X,onClickApprove:W,onToggleOpenViewDetail:U}},af=a(65988),o=a(76355),ag=a.n(o),ah=function(a){var b=a.className,c=a.loading,d=a.symbol,e=a.onClickApprove;return(0,A.jsxs)("div",{className:E()(b,ag().Container),children:[(0,A.jsx)("div",{className:ag().Desc,children:(0,A.jsx)(C.Popover,{position:"top-end",target:function(a){return(0,A.jsxs)("div",{className:ag().Trigger,onClick:a,children:["Allow Marketplace to use your ",d,(0,A.jsx)(C.Icon,{name:G.kI,color:"var(--color-gray-2)"})]})},children:function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"jsx-c411c8b83afe28e0 "+(ag().Content||""),children:["You must give the Marketplace smart contract permission to use your ",d,". You only have to do this once per token."]}),(0,A.jsx)(af.default,{id:"c411c8b83afe28e0",children:'.transition-opacity.opacity-100[data-placement="top-end"]{z-index:101}'})]})}})}),(0,A.jsxs)(C.Button,{intent:C.IntentType.Primary,loading:c,onClick:e,children:["Approve ",d]})]})},p=a(46395),ai=a.n(p),q=a(18049),aj=a.n(q),ak=function(a){var c=a.errorBuy,d=a.className,b=(0,I.useMemo)(function(){switch(c){case f.General:return(0,A.jsx)("div",{className:"text-warning-4 text-12 leading-16 font-bold",children:"Something wrong. Please try again in few seconds."});case f.GetAmountError:return(0,A.jsx)("div",{className:"text-warning-4 text-12 leading-16 font-bold",children:"The request failed. Please try again."});case f.InsufficientBalance:return(0,A.jsx)("div",{className:"text-warning-4 text-12 leading-16 font-bold",children:"Insufficient balance for transaction."});case f.HighPriceImpact:return(0,A.jsxs)("div",{className:"text-gray-1 text-12 leading-16 font-bold",children:["Marketplace does not support this transaction because the fee is too high, please go to"," ",(0,A.jsx)("a",{className:"text-primary-4",href:"https://katana.roninchain.com",target:"_blank",rel:"noreferrer",children:"Katana"})," ","to swap the token."]});default:return null}},[c]);return b?(0,A.jsx)("div",{className:E()(d,aj().Container),children:(0,A.jsxs)("div",{className:aj().Content,children:[(0,A.jsx)(C.Icon,{name:G.ft,color:"var(--color-warning-4)"}),(0,A.jsx)("div",{className:aj().Message,children:b})]})}):null},r=a(28588),al=a.n(r),am=function(a){var b=a.label,c=a.value,d=a.className;return(0,A.jsxs)("div",{className:E()(al().Container,d),children:[(0,A.jsx)("div",{className:al().Label,children:b}),(0,A.jsx)("div",{className:al().Value,children:c})]})},s=a(29127),an=a.n(s),t=a(29324),ao=a.n(t),ap=function(a){var b=a.className,c=a.selectedTokenSymbol,d=a.basedTokenSymbol;return(0,A.jsx)("div",{className:E()(b,ao().Container),children:(0,A.jsx)(C.Popover,{position:"bottom-end",target:function(a){return(0,A.jsxs)("div",{className:ao().Trigger,onClick:a,children:["Liquidity provider fee",(0,A.jsx)(C.Icon,{name:G.kI,color:"var(--color-gray-2)"})]})},children:function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"jsx-122d92b9ace8b522 "+(ao().Content||""),children:["Marketplace will automatically swap"," ",null==c?void 0:c.toUpperCase()," for"," ",null==d?void 0:d.toUpperCase(),", and this requires a small liquidity provider fee."]}),(0,A.jsx)(af.default,{id:"122d92b9ace8b522",children:'.transition-opacity.opacity-100[data-placement="bottom-end"]{z-index:101}'})]})}})})},aq=function(b){var a=b.priceImpact,c=(0,ab.oX)(a),d=(0,I.useMemo)(function(){return c>=2?"#f82837":"#f6a300"},[c]);return N()(a)?(0,A.jsx)("div",{className:"text-14 leading-20",children:"--"}):(0,A.jsxs)("div",{className:"text-14 leading-20",style:{color:d},children:["~","0.00"===(-1*a).toFixed(2)?"<0.01":(-1*a).toFixed(2),"%"]})},ar=function(a){var b=a.liquidityProviderFee,c=a.route,d=a.priceImpact,e=a.maxSent,f=a.slippage,g=a.selectedTokenSymbol,h=a.basedTokenSymbol;return(0,A.jsxs)("div",{className:an().Container,children:[(0,A.jsx)(am,{className:an().Item,label:(0,A.jsx)(ap,{selectedTokenSymbol:g,basedTokenSymbol:h}),value:b}),(0,A.jsx)(am,{className:an().Item,label:"Route",value:c}),(0,A.jsx)(am,{className:an().Item,label:"Price impact",value:(0,A.jsx)(aq,{priceImpact:d})}),(0,A.jsx)(am,{className:an().Item,label:"Maximum sent",value:e}),(0,A.jsx)(am,{className:an().Item,label:"Slippage tolerence",value:f})]})},u=a(65056),as=a.n(u),at=function(a){var b=a.selectedToken,c=a.tokens,d=a.tokensBalance,e=a.onChange;return(0,A.jsx)("div",{className:as().Container,children:(0,A.jsx)(C.Popover,{usePortal:!1,target:function(a){return(0,A.jsx)("div",{className:as().Trigger,children:(0,A.jsx)(C.Button,{onClick:a,fullWidth:!0,children:(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsxs)("div",{className:as().SelectedToken,children:[(0,A.jsx)("img",{src:null==b?void 0:b.imageUrl,alt:null==b?void 0:b.name,width:"16",height:"16"}),null==b?void 0:b.symbol]}),(0,A.jsx)("div",{className:"ml-24",children:(0,A.jsx)(C.Icon,{name:G.SL,color:"currentColor"})})]})})})},children:function(a){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("ul",{className:"jsx-ce99e6734e554bfa "+(as().Options||""),children:c.map(function(c){var f,g;return(0,A.jsxs)("li",{onClick:(f=a,g=c,function(){f(),g.address!==(null==b?void 0:b.address)&&e(g)}),className:"jsx-ce99e6734e554bfa "+(E()(as().Option,(null==b?void 0:b.address)===c.address?as().SelectedOption:"")||""),children:[(0,A.jsx)("img",{src:c.imageUrl,alt:c.name,width:"16",height:"16",className:"jsx-ce99e6734e554bfa"}),(0,A.jsxs)("div",{className:"jsx-ce99e6734e554bfa "+(as().SymbolBalance||""),children:[c.symbol,(0,A.jsx)("div",{className:"jsx-ce99e6734e554bfa "+(as().Balance||""),children:(0,_.xG)(d[c.symbol],3)})]})]},c.address)})}),(0,A.jsx)(af.default,{id:"ce99e6734e554bfa",children:'.transition-opacity.opacity-100[data-placement="bottom"]{z-index:5}'})]})}})})},v=a(7280),au=a.n(v),av=function(a){var d=a.className,e=a.total,c=a.totalUSD,b=a.tradePriceImpact,f=a.tradeExchangeRate,g=a.inputTokenSymbol,h=a.outputTokenSymbol,i=a.isSelectedBaseToken,j=(0,I.useMemo)(function(){if(b){if(b<0)return"#27AE60";var a=(0,ab.oX)(b);return a<1?"#C3C5CB":a<3?"#e3a507":"#FD4040"}},[b]),k=(0,I.useMemo)(function(){return[g===h,N()(g),N()(h),N()(f),0===f,].filter(Boolean).length>0?"":"1".concat(g," =  ").concat((0,_.xG)(f,2)," ").concat(h)},[g,h,f]),l=(0,I.useMemo)(function(){return!(N()(b)||isNaN(b))&&!i},[b,i]);return(0,A.jsxs)("div",{className:E()(au().Container,d),children:[(0,A.jsxs)("div",{className:au().PriceInfo,children:[(0,A.jsxs)("div",{className:au().TotalRow,children:[(0,A.jsx)("div",{className:au().TotalLabel,children:"Total"}),(0,A.jsx)("div",{className:au().TotalValue,children:e})]}),(0,A.jsxs)("div",{className:au().ConvertedFeeRow,children:[l&&(0,A.jsxs)("span",{className:au().FeePercent,style:{color:j},children:["~",(-1*b).toFixed(3),"%"]}),(0,A.jsx)("span",{className:au().TotalFiatValue,children:N()(c)?"--":"~$".concat((0,_.xG)(c,4))})]})]}),(0,A.jsx)("div",{className:au().TradeInfo,children:k})]})},aw=function(d){var l=d.errorBuy,m=d.isOpen,n=d.tokensBalance,o=d.buyRequestStatus,p=d.onClose,a=ae(d),q=a.tokens,c=a.baseTokenOutput,i=a.isOpenViewDetail,b=a.selectedToken,r=a.totalTokenOutput,g=a.advancedSwapDetails,j=a.isSelectedBaseToken,s=a.totalUSDAmount,t=a.tradeExchangeRate,k=a.isAllowanceEnough,h=a.getAmountSwapStatus,u=a.titleDialog,v=a.approveRequestStatus,w=a.isIncorrectPrice,x=a.totalBaseTokenAmount,y=a.onToggleOpenViewDetail,z=a.onClickApprove,B=a.onSelectToken,D=a.onClickConfirm,F=(0,I.useMemo)(function(){return h===e.Error?f.GetAmountError:l},[h,l]);return(0,A.jsx)(H.Z,{className:E()(ai().BuyDialog),overlayClassName:ai().Overlay,closeIconClassName:ai().CloseIcon,isOpen:m,ariaHideApp:!1,onClose:p,children:(0,A.jsxs)("div",{className:ai().Content,children:[(0,A.jsxs)("div",{className:ai().Header,children:[(0,A.jsx)(C.Icon,{name:G.Vp,color:"currentColor"}),(0,A.jsx)("div",{className:ai().Title,children:u})]}),(0,A.jsxs)("div",{className:ai().Body,children:[c&&(0,A.jsxs)("div",{className:ai().BaseToken,children:[(0,A.jsx)("div",{className:ai().Label,children:"Price"}),(0,A.jsxs)("div",{className:ai().BaseTokenPrice,children:[(0,A.jsx)("img",{src:c.imageUrl,alt:c.name,width:"16",height:"16"}),(0,A.jsx)("span",{children:x})]})]}),(0,A.jsxs)("div",{className:ai().SelectTokenSection,children:[(0,A.jsx)("div",{className:ai().Label,children:"Pay with"}),(0,A.jsx)(at,{selectedToken:b,tokens:q,tokensBalance:n,onChange:B})]}),!j&&(0,A.jsxs)("div",{className:ai().ViewDetailSection,children:[(0,A.jsx)("div",{className:ai().ViewDetailTrigger,onClick:y,children:i?"Hide fees detail":"View fee details"}),i&&b&&(0,A.jsx)(ar,{liquidityProviderFee:g.liquidityProviderFee,route:[b.symbol,null==c?void 0:c.symbol].join(" > "),priceImpact:g.priceImpact,maxSent:g.maximumSent,slippage:"".concat(g.slippage,"%"),selectedTokenSymbol:b.symbol,basedTokenSymbol:c.symbol})]}),(0,A.jsx)(av,{className:ai().TotalSection,total:r,isSelectedBaseToken:j,totalUSD:s,inputTokenSymbol:c.symbol,outputTokenSymbol:null==b?void 0:b.symbol,tradeExchangeRate:t,tradePriceImpact:g.tradePriceImpact}),(0,A.jsx)(ak,{errorBuy:F}),k&&(0,A.jsx)(C.Button,{fullWidth:!0,intent:C.IntentType.Primary,onClick:D,loading:h===e.Requesting||o===e.Requesting,disabled:w,children:"Buy Now"}),!k&&(0,A.jsx)(ah,{onClickApprove:z,symbol:null==b?void 0:b.symbol.toUpperCase(),loading:v===e.Requesting||h===e.Requesting})]})]})})},w=a(75360);function x(){var a,b,c=(a=["\n  mutation RevalidateAuction($listingId: ID!) {\n    revalidateAuction(listingId: $listingId)\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return x=function(){return c},c}var ax=(0,w.ZP)(x()),ay=a(2729),az=a(85433),aA=a(96486),aB=function(a){var d=a.showDepositAction,c=a.onClose,b=a.errorMessage,e=!(0,aA.isNil)(b),f=null!=b?b:"",g=function(){c(),window.open("https://bridge.axieinfinity.com/deposit","_blank")};return(0,A.jsxs)(C.Dialog,{title:"Auction Message",open:e,onClose:c,dismissable:!1,children:[(0,A.jsx)("div",{className:"relative flex items-center justify-center mt-12",children:(0,A.jsx)(C.Icon,{name:G.ft,color:"#FF3F4C",size:72})}),(0,A.jsx)("h4",{className:"mt-20 text-center text-20 leading-24",children:"Purchase failed!"}),(0,A.jsx)("h6",{className:"mt-8 text-center text-gray-1 text-14 leading-20",children:f}),(0,A.jsxs)("div",{className:"mt-20 flex justify-center",children:[d&&(0,A.jsx)("div",{className:"mr-12",children:(0,A.jsx)(C.Button,{intent:C.IntentType.Primary,onClick:g,children:"Deposit"})}),(0,A.jsx)(C.Button,{onClick:c,children:"Close"})]})]})};function aC(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function aD(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function aE(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){aD(g,e,f,d,h,"next",a)}function h(a){aD(g,e,f,d,h,"throw",a)}d(void 0)})}}function aF(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}(c=g||(g={})).Axie="axie",c.Land="land",c.Item="item",c.Bundle="bundle";var aG=function(b){var a=b.data,c=a.startingPrice,d=a.endingPrice,e=a.startingTimestamp,f=a.endingTimestamp,g=new(D())(e),h=new(D())(f),i=h.sub(g).mul(new(D())(1e3)).toString();return(0,A.jsxs)("div",{className:"p-8 bg-gray-5 border border-gray-4 rounded",children:[(0,A.jsxs)("div",{children:["Price started at: \u039E ",(0,_._9)(c)]}),(0,A.jsxs)("div",{children:["Price goes to: \u039E ",(0,_._9)(d)]}),(0,A.jsxs)("div",{children:["Duration:\xa0",O().duration(parseInt(i,10)).asDays()," days"]})]})},aH=function(b){var f,e,h,u,v,j=(0,az.I)(),w=j.dialog,x=j.openTransactionSubmission,am=b.tokenId,y=b.owner,an=b.itemType,ao=b.isValidAuctionPrice,d=(0,F.ec)().profile,ap=(0,K.P)().logActivity,k=(0,I.useState)(),H=k[0],aq=k[1],J=(e=(0,B.Db)(ax),h=1,function(a){if(Array.isArray(a))return a}(e)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(e,h)||function(a,c){if(a){if("string"==typeof a)return aC(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return aC(a,c)}}(e,h)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),ar=J[0],l=(0,I.useState)(!1),L=l[0],as=l[1],m=(0,I.useState)(),P=m[0],at=m[1],n=(0,ay.j)(),Q=n.dialog,R=n.checkForUnlocked,a=Y(b,{referralAddress:null==d?void 0:null===(f=d.referral)||void 0===f?void 0:f.address,openTransactionSubmission:x}),S=a.errorBuy,T=a.isShowBuyNowDialog,U=a.tokensBalance,V=a.buyRequestStatus,W=a.onChangeSelectToken,X=a.onCloseBuyNowDialog,au=a.onClickBuyNow,Z=a.onConfirmBuyNow,av=a.requireActiveRoninAddress,aA=a.requireListingIndex,aD=a.requireRoninWeb3,c=b.data,o=c.endingTimestamp,$=c.startingTimestamp,p=c.startingPrice,q=c.endingPrice,aa=c.currentPrice,ab=c.currentPriceUSD,ac=new(D())($),r=new(D())(o),ad=r.sub(ac),s=r.sub(new(D())(O().now()/1e3)),aH=!N()(d),ae=s.lt(new(D())(0)),af=parseInt(s.mul(new(D())(100)).div(ad).toString(),10),i=Math.min(100-af,100),t=(null==d?void 0:d.addresses.ronin)===y,ag=function(a){return function(b){if(R())return a(b)}},aI=(u=aE(z().mark(function a(){var c,d;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=aD().scopedRoninWeb3,null!==b.data.listingIndex){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,c.exchangeContract.canFacilitateListing(b.data.seller,new(D())(b.data.listingIndex)).call();case 5:if(aq(d=a.sent),!1!==d){a.next=10;break}return a.next=10,ar({variables:{listingId:b.data.listingIndex.toString()}});case 10:case"end":return a.stop()}},a)})),function(){return u.apply(this,arguments)});(0,I.useEffect)(function(){aI().catch(function(a){console.log("Error while revalidating auction."),console.error(a)})},[]);var ah,ai,aj,ak,aJ=(v=aE(z().mark(function a(){var c,d,e,f;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=aD().scopedRoninWeb3,d=av(),!(null==(e=b.itemData.auction)||!e.listingIndex)){a.next=5;break}return a.abrupt("return",Promise.reject("Listing index not found."));case 5:return a.next=7,c.clockAuctionContract.cancelAuction(new(D())(e.listingIndex)).sendGetTxHash({from:d});case 7:return f=a.sent,a.next=10,ap(M.aU.UnlistBundle,{listingIndex:e.listingIndex,txHash:f});case 10:return a.abrupt("return",f);case 11:case"end":return a.stop()}},a)})),function(){return v.apply(this,arguments)}),aK=(ah=aE(z().mark(function a(){var c,d,e,f,g,h,i;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=aD().scopedRoninWeb3,d=av(),f=(e=b.itemData).row,g=e.col,h=aA(),a.next=6,c.clockAuctionContract.cancelAuction(new(D())(h)).sendGetTxHash({from:d});case 6:return i=a.sent,a.next=9,ap(M.aU.UnlistLand,{row:f,col:g,txHash:i});case 9:return a.abrupt("return",i);case 10:case"end":return a.stop()}},a)})),function(){return ah.apply(this,arguments)}),aL=(ai=aE(z().mark(function a(){var c,d,e,f,g,h,i;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=aD().scopedRoninWeb3,d=av(),f=(e=b.itemData).itemAlias,g=e.itemId,h=aA(),a.next=6,c.clockAuctionContract.cancelAuction(new(D())(h)).sendGetTxHash({from:d});case 6:return i=a.sent,a.next=9,ap(M.aU.UnlistItem,{tokenId:g,itemAlias:f,txHash:i});case 9:return a.abrupt("return",i);case 10:case"end":return a.stop()}},a)})),function(){return ai.apply(this,arguments)}),aM=(aj=aE(z().mark(function a(){var c,d,e,f,g;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=aD().scopedRoninWeb3,d=av(),e=b.itemData.auction){a.next=5;break}return a.abrupt("return",Promise.reject("Auction info not found."));case 5:if(f=e.listingIndex){a.next=8;break}return a.abrupt("return",Promise.reject("Listing index not found."));case 8:return a.next=10,c.clockAuctionContract.cancelAuction(new(D())(f)).sendGetTxHash({from:d});case 10:return g=a.sent,a.next=13,ap(M.aU.UnlistAxie,{axieId:am,txHash:g});case 13:return a.abrupt("return",g);case 14:case"end":return a.stop()}},a)})),function(){return aj.apply(this,arguments)}),al=(ak=aE(z().mark(function a(b){var c;return z().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b.preventDefault(),c="",a.t0=an,a.next=a.t0===g.Axie?5:a.t0===g.Land?9:a.t0===g.Item?13:a.t0===g.Bundle?17:21;break;case 5:return a.next=7,aM();case 7:return c=a.sent,a.abrupt("break",21);case 9:return a.next=11,aK();case 11:return c=a.sent,a.abrupt("break",21);case 13:return a.next=15,aL();case 15:return c=a.sent,a.abrupt("break",21);case 17:return a.next=19,aJ();case 19:return c=a.sent,a.abrupt("break",21);case 21:x({txHash:c,message:"Transaction submitted successfully."});case 22:case"end":return a.stop()}},a)})),function(a){return ak.apply(this,arguments)});return(0,A.jsxs)(A.Fragment,{children:[w,(0,A.jsxs)("div",{className:"flex items-center w-full flex-wrap md:justify-end",children:[(0,A.jsx)(C.Popover,{position:"right",target:function(a){return(0,A.jsx)("div",{onClick:a,className:E()("border-r border-gray-2 py-4",{"md:block":ae,"md:hidden":!ae}),children:(0,A.jsxs)("div",{className:"flex items-center text-gray-2 cursor-pointer pr-20",children:[(0,A.jsx)(C.Icon,{name:G.TM,color:"var(--color-gray-2)"}),"Auction info"]})})},children:function(){return(0,A.jsx)(aG,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){aF(d,a,c[a])})}return d}({},b))}}),p!==q&&(0,A.jsxs)("div",{className:E()("flex-1 hidden md:block text-12 leading-16 font-medium",{"md:hidden":ae}),children:[(0,A.jsx)("div",{className:"text-center",children:(0,A.jsx)("div",{children:O().unix(parseInt(o.toString(),10)).fromNow()})}),(0,A.jsxs)("div",{className:"flex items-center w-full",children:[(0,A.jsxs)("div",{className:"mr-8",children:["\u039E\xa0",(0,_._9)(p)]}),(0,A.jsxs)("div",{className:"relative flex items-center flex-1",children:[(0,A.jsx)("div",{className:"bg-gray-1 rounded-full h-8 w-8"}),(0,A.jsx)("div",{className:"bg-gray-4 flex-1",style:{height:2,marginLeft:-1,marginRight:-1},children:(0,A.jsx)("div",{className:"bg-gray-1",style:{height:2,width:"".concat(i,"%")}})}),(0,A.jsx)("div",{className:E()({"bg-gray-1":i>=100},{"bg-gray-4":i<100},"rounded-full h-8 w-8")})]}),(0,A.jsxs)("div",{className:"ml-8",children:["\u039E\xa0",(0,_._9)(q)]})]})]}),(0,A.jsxs)("div",{className:"ml-24 text-right",children:[(0,A.jsxs)("h3",{className:"break-all",children:["\u039E\xa0",(0,_._9)(aa,4)]}),(0,A.jsxs)("h5",{className:"mt-4 text-gray-1 break-all",children:["$",(0,_.xG)(ab,2)]})]}),!t&&(0,A.jsx)("div",{className:"ml-0 md:ml-24 mt-16 w-full md:w-auto md:mt-0",children:(0,A.jsx)(C.Popover,{position:"top",target:function(a){return(0,A.jsx)("div",{className:"inline-block",onMouseOver:aH?void 0:a,children:(0,A.jsx)(C.Button,{disabled:!aH||!1===H||!ao,intent:C.IntentType.Primary,onClick:ag(au),children:(0,A.jsxs)("div",{className:"flex items-center",children:[(0,A.jsx)("img",{src:"/static/image/ronin-logo-white.png",className:"mr-8",width:14}),(0,A.jsx)("div",{children:"Buy now"})]})})})},children:function(){return(0,A.jsxs)("div",{className:"m-8 bg-gray-6 py-4 px-12 rounded",children:["Please login to buy this\xa0",(0,A.jsx)("span",{className:"capitalize",children:an.toLowerCase()})]})}})}),t&&(0,A.jsx)("div",{className:"ml-0 md:ml-24 mt-16 w-full md:w-auto md:mt-0",children:(0,A.jsx)(C.Button,{intent:C.IntentType.Danger,onClick:ag(al),children:"Cancel Selling"})})]}),!1===H&&(0,A.jsx)("div",{className:"text-warning-4 w-full text-right mt-8",children:"This auction is no longer available. Please try again later."}),(0,A.jsx)(aB,{showDepositAction:L,onClose:function(){as(!1),at(void 0)},errorMessage:P}),b.data&&(0,A.jsx)(aw,{data:b.data,isOpen:T,itemData:b.itemData,itemType:b.itemType,errorBuy:S,buyRequestStatus:V,tokensBalance:U,checkUnlockedRoninWallet:R,onClose:X,onConfirm:Z,onSelectToken:W}),Q]})}},85433:function(d,b,a){"use strict";a.d(b,{I:function(){return i}});var e=a(85893),c=a(52353),f=a.n(c),g=a(67294),h=a(74664),i=function(){var b=(0,g.useState)(!1),d=b[0],i=b[1],c=(0,g.useState)(),a=c[0],j=c[1];return{openTransactionSubmission:function(a){i(!0),j(a)},dialog:(0,e.jsx)(e.Fragment,{children:!f()(a)&&(0,e.jsx)(h.g,{open:d,onClose:function(){i(!1)},txHash:a.txHash,children:a.message})})}}},74664:function(d,b,a){"use strict";a.d(b,{g:function(){return i}});var e=a(85893),f=a(21033),g=a(9008),c=a(41664),h=a.n(c);a(67294);var i=function(a){var b=a.children,c=a.onClose,d=a.open;return(0,e.jsxs)(f.Dialog,{open:d,dismissable:!1,onClose:c,title:"Transaction Submitted",children:[(0,e.jsx)(g.default,{children:(0,e.jsx)("link",{href:"/static/css/transaction-submission-dialog.css",rel:"stylesheet"})}),b,(0,e.jsxs)("div",{className:"mt-24 w-full flex flex-col-reverse sm:flex-row",children:[(0,e.jsx)("div",{className:"flex-1 mr-0 sm:mr-8",children:(0,e.jsx)(f.Button,{onClick:a.onClose,fullWidth:!0,children:"Close"})}),a.primaryAction||(0,e.jsx)(h(),{as:"/profile/activity",href:"/profile/activity",children:(0,e.jsx)("a",{rel:"noopener noreferrer",className:"flex-1 my-8 sm:my-0",children:(0,e.jsx)(f.Button,{intent:f.IntentType.Primary,fullWidth:!0,children:"Go to my activity"})})})]})]})}},88236:function(h,d,c){"use strict";c.d(d,{Bz:function(){return j},Uf:function(){return l},Zw:function(){return n},g6:function(){return o},lN:function(){return m},p9:function(){return k},r_:function(){return i},yC:function(){return f}});var b=c(7480),e=c(39499),a=c.n(e),i="0x0000000000000000000000000000000000000000";a().BigInt(604800),a().BigInt(0),new b.gG(a().BigInt(1),a().BigInt(1e4)),a().BigInt(1e4);var j=1,k=3,l=5,m=15;new b.gG(a().BigInt(50),a().BigInt(1e4)),new b.gG("0");var f=new b.gG("1");a().BigInt(0),a().BigInt(1),a().BigInt(5),a().BigInt(997),a().BigInt(1e3),a().BigInt(1e3);var g=new b.gG(a().BigInt(30),a().BigInt(1e4)),n=f.subtract(g),o=.005},88466:function(e,c,a){"use strict";a.d(c,{GS:function(){return j},Ld:function(){return i},Uy:function(){return k},oX:function(){return l}});var f=a(7480),d=a(14293),g=a.n(d),b=a(88236),h=[b.lN,b.Uf,b.p9,b.Bz,];function i(a,b){return(1-a/b)*100}function j(c){var a=b.yC.subtract(c.reduce(function(a){return a.multiply(b.Zw)},b.yC));return new f.gG(a.numerator,a.denominator)}var k=function(c,d,a){if(!a||!c)return 0;var b=a.eth.usd;switch(d.symbol.toUpperCase()){case"RON":b=a.ron.usd;break;case"AXS":b=a.axs.usd;break;case"SLP":b=a.slp.usd;break;case"USDC":b=a.usd.usd;break}return c*b},l=function(c){if(g()(c))return 4;var d=h.length,a=!0,e=!1,f=void 0;try{for(var i,b=h[Symbol.iterator]();!(a=(i=b.next()).done);a=!0){if(i.value<c)return d;d--}}catch(j){e=!0,f=j}finally{try{a||null==b.return||b.return()}finally{if(e)throw f}}return 0}},35721:function(c,b,a){"use strict";a.d(b,{F:function(){return f},Z:function(){return e}});var d=a(60114),e=function(a){var b=BigInt.asIntN(64,BigInt(a)>>BigInt(128)),c=BigInt.asIntN(64,BigInt(a)<<BigInt(128)>>BigInt(128));return{itemId:Number(c),tokenType:Number(b)}},f=function(a){return"".concat(d.v.itemStorageUrl,"/").concat(a,".png")}},39957:function(d,b,a){"use strict";a.d(b,{"B$":function(){return i},JA:function(){return h},"_v":function(){return j},g3:function(){return g},yG:function(){return f}});var c=a(30381),e=a.n(c),f=function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e().now()/1e3-a>86400?e().unix(a).format("MMM DD, YYYY".concat(b?" - HH:mm":"")):e().unix(a).fromNow()},g=function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e().unix(a).format("MMM DD, YYYY".concat(b?" - HH:mm":""))},h=function(a){return e().unix(a).format("HH:mm")},i=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return a>0?"".concat(a," ").concat(b).concat(1!==a?c:""):void 0},j=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise(function(b){return setTimeout(b,a)})}},46395:function(a){a.exports={BuyDialog:"BuyDialog_BuyDialog___K_5f",CloseIcon:"BuyDialog_CloseIcon__35DNz",Overlay:"BuyDialog_Overlay__NKqEC",Content:"BuyDialog_Content___o60a",Header:"BuyDialog_Header__ZHnaI",Title:"BuyDialog_Title__Nf9vO",SelectTokenSection:"BuyDialog_SelectTokenSection__BLX_S",ViewDetailSection:"BuyDialog_ViewDetailSection__AOU__",ViewDetailTrigger:"BuyDialog_ViewDetailTrigger__cbklB",TotalSection:"BuyDialog_TotalSection__O2S_e",Label:"BuyDialog_Label__Jo48P",BaseToken:"BuyDialog_BaseToken__7I9BF",BaseTokenPrice:"BuyDialog_BaseTokenPrice__hdd4d"}},76355:function(a){a.exports={Container:"ApproveToken_Container__Nc97w",Desc:"ApproveToken_Desc___xBi9",Trigger:"ApproveToken_Trigger__2lzn_",Content:"ApproveToken_Content__8M4dZ"}},18049:function(a){a.exports={Container:"ErrorMessage_Container__pz_DP",Content:"ErrorMessage_Content__AQvOq",Message:"ErrorMessage_Message__XeNBg"}},29127:function(a){a.exports={Container:"FeesDetail_Container__69x2G",Item:"FeesDetail_Item__uH__F"}},28588:function(a){a.exports={Container:"FeeItem_Container__RONJ7",Label:"FeeItem_Label__7p122",Value:"FeeItem_Value__FfoCY"}},29324:function(a){a.exports={Container:"LiquidityFeeLabel_Container__9ZAn4",Trigger:"LiquidityFeeLabel_Trigger__Ij0e5",Content:"LiquidityFeeLabel_Content__bnMf6"}},65056:function(a){a.exports={Options:"SelectTokens_Options__t3TVA",Option:"SelectTokens_Option__2n_QY",Trigger:"SelectTokens_Trigger__6oTZM",SelectedToken:"SelectTokens_SelectedToken__QL9hv",SelectedOption:"SelectTokens_SelectedOption__wdv3R",SymbolBalance:"SelectTokens_SymbolBalance__LH9Oz",Balance:"SelectTokens_Balance__SiQ9g"}},7280:function(a){a.exports={PriceInfo:"TotalSection_PriceInfo__YCWvn",TotalRow:"TotalSection_TotalRow__LDgva",TotalLabel:"TotalSection_TotalLabel__xmGHL",TotalValue:"TotalSection_TotalValue__1ho1T",ConvertedFeeRow:"TotalSection_ConvertedFeeRow__DS4L1",FeePercent:"TotalSection_FeePercent__pXbWG",TotalFiatValue:"TotalSection_TotalFiatValue__Oj_vJ",TradeInfo:"TotalSection_TradeInfo__TjU08"}},34640:function(){}}])