(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2846],{93377:function(d,b,a){"use strict";a.d(b,{o:function(){return i}});var e=a(67294),c=a(82492),f=a.n(c),g=a(49089),h=function a(){"use strict";!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.GAInstance=g.ZP,this.initialize=function(a){g.ZP.initialize(a.requireConfig,a.options)},this.sendPageView=function(a){g.ZP.send({hitType:"pageview",page:a})},this.sendEvent=function(a,b){var c=a.action,d=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["action"]),e=f()(d,b);g.ZP.event(c,e)}},i=function(a){var b=(0,e.useRef)(new h);return(0,e.useEffect)(function(){b.current.initialize(a)},[a]),{GAService:b.current}}},49050:function(c,b,a){"use strict";a.d(b,{X:function(){return e}});var d=a(28647),e={axieDetail:{href:"/axie/[id]",as:function(a){return"/axie/".concat(a)}},landDetail:{href:"/land/[col]/[row]",as:function(a,b){return"/land/".concat(a,"/").concat(b)}},itemDetail:{href:"/item/[itemAlias]/[tokenId]",as:function(a,b){return"/item/".concat(a,"/").concat(b)}},publicProfile:{href:"/profile/[id]/axie",as:function(a,b){return"/profile/".concat((0,d.NH)(a,b),"/axie")}},axiePublicProfile:{href:"/profile/[id]/axie",as:function(a){return"/profile/".concat(a,"/axie")}},landPublicProfile:{href:"/profile/[id]/land",as:function(a){return"/profile/".concat(a,"/land")}},itemPublicProfile:{href:"/profile/[id]/item",as:function(a){return"/profile/".concat(a,"/item")}},activities:{href:"/profile/activity",as:function(){return"/profile/activity"}},bundleDetail:{href:"/bundle/[listingIndex]",as:function(a){return"/bundle/".concat(a)}},login:{href:"/login",as:function(){return"/login"}}}},54695:function(c,b,a){"use strict";a.d(b,{P:function(){return g}});var d=a(18499),e=a(89181);function f(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}var g=function(){var a,b,c=(a=(0,d.Db)(e.lR),b=1,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||function(a,c){if(a){if("string"==typeof a)return f(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return f(a,c)}}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return{logActivity:function(a,b){return c({variables:{action:a,data:b}})}}}},55153:function(d,b,a){"use strict";a.d(b,{Hp:function(){return j},M5:function(){return h},S:function(){return i},iQ:function(){return k}});var c=a(69016),e=a.n(c),f=a(96486),g=a(86498),h=function(a){return a===g.y.Axie?"axie":a===g.y.Bundle?"bundle":a===g.y.Item?"land item":a===g.y.Land?"land plot":""},i=function(a,b){return b/(a||.01)<=100},j=function(a){if((0,f.isEmpty)(a)||(null==a?void 0:a.startingPrice)===(null==a?void 0:a.endingPrice))return!0;var b=parseFloat((null==a?void 0:a.startingPrice)||"0"),c=parseFloat((null==a?void 0:a.endingPrice)||"0");return i(b,c)},k=function(a){if(!a)return 0;var b=new(e())(a),c=e().mul(a,.0425);return e().sub(b,c).toNumber()}},86498:function(H,j,a){"use strict";a.d(j,{z:function(){return aU},y:function(){return i}});var c,e,g,h,i,f,k=a(34051),I=a.n(k),J=a(85893),K=a(18499),L=a(21033),l=a(13550),M=a.n(l),m=a(94184),N=a.n(m),O=a(76614);(f=g||(g={})).Idle="idle",f.Requesting="requesting",f.Success="success",f.Error="error";var P=a(88562),Q=a(52909),R=a(67294),S=a(93377),T=a(54695),U=a(60114),V=a(69463),n=a(14293),W=a.n(n),o=a(30381),X=a.n(o),Y=a(72072),d=a(7480),p=a(39499),b=a.n(p),Z="0x0000000000000000000000000000000000000000";b().BigInt(604800),b().BigInt(0),new d.gG(b().BigInt(1),b().BigInt(1e4)),b().BigInt(1e4);var q=1,r=3,s=5,t=15;new d.gG(b().BigInt(50),b().BigInt(1e4)),new d.gG("0");var u=new d.gG("1");b().BigInt(0),b().BigInt(1),b().BigInt(5),b().BigInt(997),b().BigInt(1e3),b().BigInt(1e3);var v=new d.gG(b().BigInt(30),b().BigInt(1e4)),$=u.subtract(v),_=.005,aa=a(54539),ab=a(47890);function ac(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}var ad={WETH:"",AXS:"",SLP:"",USDC:""},ae=function(){var d,e,a=(0,O.ec)().profile,j=null==a?void 0:a.addresses.ronin,b=(0,R.useState)(g.Idle),f=b[0],k=b[1],c=(0,R.useState)(ad),h=c[0],l=c[1],i=(e=(d=I().mark(function a(){var b;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j){a.next=3;break}return l(ad),a.abrupt("return");case 3:return k(g.Requesting),a.prev=4,a.next=7,Promise.all([aa.Tm.WETH.fetchBalance(j),aa.Tm.AXS.fetchBalance(j),aa.Tm.SLP.fetchBalance(j),aa.Tm.USDC.fetchBalance(j),]);case 7:b=a.sent,l({WETH:ab.fromWei(b[0],aa.Tm.WETH.unit),AXS:ab.fromWei(b[1],aa.Tm.AXS.unit),SLP:ab.fromWei(b[2],aa.Tm.SLP.unit),USDC:ab.fromWei(b[3],aa.Tm.USDC.unit)}),k(g.Success),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(4),l(ad),k(g.Error);case 16:case"end":return a.stop()}},a,null,[[4,12]])}),function(){var a=this,b=arguments;return new Promise(function(e,f){var g=d.apply(a,b);function c(a){ac(g,e,f,c,h,"next",a)}function h(a){ac(g,e,f,c,h,"throw",a)}c(void 0)})}),function(){return e.apply(this,arguments)});return{tokensBalance:h,fetchTokensBalanceStatus:f,fetchBalances:i}};function af(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function ag(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){af(g,e,f,d,h,"next",a)}function h(a){af(g,e,f,d,h,"throw",a)}d(void 0)})}}(c=h||(h={})).None="none",c.InsufficientBalance="insufficientBalance",c.HighPriceImpact="highPriceImpact",c.GetAmountError="getAmountError",c.General="general";var ah=function(a,l){var m,n,o,p,q,r,s,E=l.openTransactionSubmission,b=a.data,F=b.listingIndex,G=b.suggestedPrice,H=a.owner,J=a.tokenId,K=a.itemType,L=(0,S.o)({requireConfig:U.v.gaTrackingCode}).GAService,N=(0,T.P)().logActivity,c=ae(),P=c.fetchBalances,t=c.tokensBalance,d=(0,O.ec)(),e=d.activeRoninAddress,Q=void 0===e?"":e,$=d.scopedRoninWeb3,f=(0,R.useState)(!1),u=f[0],_=f[1],j=(0,R.useState)(h.None),v=j[0],aa=j[1],k=(0,R.useState)(g.Idle),w=k[0],ab=k[1],x=function(){if(!W()($))return{scopedRoninWeb3:$};throw new Error("Ronin web3 is not found.")},y=function(){if(!W()(Q))return Q;throw new Error("Ronin web3 address is not found.")},z=function(){if(!W()(F))return F;throw new Error("Listing index is missing.")},ac=(m=ag(I().mark(function a(b,c){var d,e,f;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=x().scopedRoninWeb3,!(!Q||!d)){a.next=3;break}return a.abrupt("return",!0);case 3:return e=new(M())(c),a.next=6,b.fetchBalance(Q);case 6:if(f=a.sent,!e.gt(f)){a.next=11;break}return a.abrupt("return",!0);case 11:return a.abrupt("return",!1);case 12:case"end":return a.stop()}},a)})),function(a,b){return m.apply(this,arguments)}),ad=function(){return 1e3*X()().add(30,"minutes").unix()},af=(n=ag(I().mark(function b(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=x().scopedRoninWeb3,e=y(),f=c.baseToken,g=c.selectedToken,h=c.amount,i=c.isSelectedWETH,k=(j=a.itemData).row,l=j.col,m=j.owner,n=z(),o=h,b.next=8,d.exchangeContract.getListingState(new(M())(n)).call();case 8:if(p=b.sent,!i){b.next=16;break}return b.next=13,d.auctionContract.contract.methods.settleAuction(m,U.v.addresses.ronin.sideChainWeth,new(M())(o),new(M())(n),p,Z).send({from:e,gasPrice:"0"});case 13:q=b.sent,b.next=19;break;case 16:return b.next=18,d.auctionContract.contract.methods.swapTokensAndSettleAuction(m,[g.address,f.address],new(M())(o),new(M())(n),p,ad(),Z).send({from:e,gasPrice:"0"});case 18:q=b.sent;case 19:return b.next=21,N(V.aU.BuyLand,{col:l,row:k,price:G,owner:m,txHash:q.transactionHash});case 21:return b.abrupt("return",q.transactionHash);case 22:case"end":return b.stop()}},b)})),function(a){return n.apply(this,arguments)}),ah=(o=ag(I().mark(function b(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return d=x().scopedRoninWeb3,e=y(),f=c.baseToken,g=c.selectedToken,h=c.amount,i=c.isSelectedWETH,k=(j=a.itemData).itemAlias,l=j.itemId,m=j.owner,n=z(),o=h,b.next=8,d.exchangeContract.getListingState(new(M())(n)).call();case 8:if(p=b.sent,!i){b.next=16;break}return b.next=13,d.auctionContract.contract.methods.settleAuction(m,U.v.addresses.ronin.sideChainWeth,new(M())(o),new(M())(n),p,Z).send({from:e,gasPrice:"0"});case 13:q=b.sent,b.next=19;break;case 16:return b.next=18,d.auctionContract.contract.methods.swapTokensAndSettleAuction(m,[g.address,f.address],new(M())(o),new(M())(n),p,ad(),Z).send({from:e,gasPrice:"0"});case 18:q=b.sent;case 19:return b.next=21,N(V.aU.BuyItem,{tokenId:l,itemAlias:k,price:G,owner:m,txHash:q.transactionHash});case 21:return b.abrupt("return",q.transactionHash);case 22:case"end":return b.stop()}},b)})),function(a){return o.apply(this,arguments)}),ai=(p=ag(I().mark(function b(c){var d,e,f,g,h,i,j,k,l,m;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(d=x().scopedRoninWeb3,e=y(),null==(f=a.itemData.auction)?void 0:f.listingIndex){b.next=5;break}return b.abrupt("return",Promise.reject("Listing index not found."));case 5:return g=c.baseToken,h=c.selectedToken,i=c.amount,j=c.isSelectedWETH,k=i,b.next=9,d.exchangeContract.getListingState(new(M())(f.listingIndex)).call();case 9:if(l=b.sent,!j){b.next=17;break}return b.next=14,d.auctionContract.contract.methods.settleAuction(H,U.v.addresses.ronin.sideChainWeth,new(M())(k),new(M())(f.listingIndex),l,Z).send({from:e,gasPrice:"0"});case 14:m=b.sent,b.next=20;break;case 17:return b.next=19,d.auctionContract.contract.methods.swapTokensAndSettleAuction(H,[h.address,g.address],new(M())(k),new(M())(f.listingIndex),l,ad(),Z).send({from:e,gasPrice:"0"});case 19:m=b.sent;case 20:return b.next=22,N(V.aU.BuyBundle,{listingIndex:f.listingIndex,txHash:m.transactionHash,price:G,owner:f.seller});case 22:return b.abrupt("return",m.transactionHash);case 23:case"end":return b.stop()}},b)})),function(a){return p.apply(this,arguments)}),aj=(q=ag(I().mark(function b(c){var d,e,f,g,h,i,j,k,l,m;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(d=x().scopedRoninWeb3,e=y(),f=c.baseToken,g=c.selectedToken,h=c.isSelectedWETH,i=c.amount,j=a.itemData.auction){b.next=7;break}return b.abrupt("return",Promise.reject("Auction info not found."));case 7:if(k=j.listingIndex,l=j.state,!(!k||!l)){b.next=10;break}return b.abrupt("return",Promise.reject("Listing index and state not found."));case 10:if(!h){b.next=17;break}return b.next=14,d.auctionContract.contract.methods.settleAuction(H,U.v.addresses.ronin.sideChainWeth,new(M())(i),new(M())(k),new(M())(l),Z).send({from:e,gasPrice:"0"});case 14:m=b.sent,b.next=20;break;case 17:return b.next=19,d.auctionContract.contract.methods.swapTokensAndSettleAuction(H,[g.address,f.address],new(M())(i),new(M())(k),new(M())(l),ad(),Z).send({from:e,gasPrice:"0"});case 19:m=b.sent;case 20:return b.next=22,N(V.aU.BuyAxie,{owner:H,axieId:J,price:G,txHash:m.transactionHash});case 22:return b.abrupt("return",m.transactionHash);case 23:case"end":return b.stop()}},b)})),function(a){return q.apply(this,arguments)}),ak=function(c){var a,b,d=c.selectedToken.symbol.toUpperCase();switch(d){case"AXS":b=Y.V3.PAY_IN_AXS,a=Y.Ok.PAY_IN_AXS;break;case"SLP":b=Y.V3.PAY_IN_SLP,a=Y.Ok.PAY_IN_SLP;break;case"WETH":b=Y.V3.PAY_IN_WETH,a=Y.Ok.PAY_IN_WETH;break;case"USDC":b=Y.V3.PAY_IN_USDC,a=Y.Ok.PAY_IN_USDC;break;default:break}b&&a&&L.sendEvent({category:Y.H7.PAY_ASSETS,label:a,action:b})},al=(r=ag(I().mark(function a(b){var c;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:ab(g.Requesting),a.prev=1,c="",a.t0=K,a.next=a.t0===i.Axie?6:a.t0===i.Land?10:a.t0===i.Item?14:a.t0===i.Bundle?18:22;break;case 6:return a.next=8,aj(b);case 8:return c=a.sent,a.abrupt("break",22);case 10:return a.next=12,af(b);case 12:return c=a.sent,a.abrupt("break",22);case 14:return a.next=16,ah(b);case 16:return c=a.sent,a.abrupt("break",22);case 18:return a.next=20,ai(b);case 20:return c=a.sent,a.abrupt("break",22);case 22:return _(!1),ak(b),E({txHash:c,message:"Transaction submitted successfully."}),ab(g.Success),a.abrupt("return",{error:!1,isShowDeposit:!1});case 29:return a.prev=29,a.t1=a.catch(1),aa(h.General),ab(g.Error),a.abrupt("return",{error:!0,isShowDeposit:!1,errorMessage:"Something wrong. Please try again in few seconds."});case 34:case"end":return a.stop()}},a,null,[[1,29]])})),function(a){return r.apply(this,arguments)}),A=function(a){a.preventDefault(),P(),_(!0)},B=(s=ag(I().mark(function a(b){var c,d,e;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=b.selectedToken,d=b.amount,aa(h.None),!(!c||!Q)){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,ac(c,d);case 6:if(!(e=a.sent)){a.next=10;break}return aa(h.InsufficientBalance),a.abrupt("return");case 10:al(b);case 11:case"end":return a.stop()}},a)})),function(a){return s.apply(this,arguments)}),C=function(){_(!1)},D=function(){aa(h.None)};return{errorBuy:v,isShowBuyNowDialog:u,tokensBalance:t,buyRequestStatus:w,requireListingIndex:z,requireActiveRoninAddress:y,requireRoninWeb3:x,onClickBuyNow:A,onConfirmBuyNow:B,onCloseBuyNowDialog:C,onChangeSelectToken:D}},ai=a(50014),w=a(76692),aj=a.n(w),ak=a(48701),al=function(){return{tokens:(0,R.useMemo)(function(){return aa.Tm?Object.values(aa.Tm):[]},[aa.Tm]),baseTokenOutput:null===aa.Tm||void 0===aa.Tm?void 0:aa.Tm.WETH,tokensByChain:aa.Tm}},am=[t,s,r,q,],an=function(c,d,a){if(!a||!c)return 0;var b=a.eth.usd;switch(d.symbol.toUpperCase()){case"RON":b=a.ron.usd;break;case"AXS":b=a.axs.usd;break;case"SLP":b=a.slp.usd;break;case"USDC":b=a.usd.usd;break}return c*b},ao=function(c){if(W()(c))return 4;var d=am.length,a=!0,e=!1,f=void 0;try{for(var g,b=am[Symbol.iterator]();!(a=(g=b.next()).done);a=!0){if(g.value<c)return d;d--}}catch(h){e=!0,f=h}finally{try{a||null==b.return||b.return()}finally{if(e)throw f}}return 0};function ap(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function aq(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){ap(g,e,f,d,h,"next",a)}function h(a){ap(g,e,f,d,h,"throw",a)}d(void 0)})}}var ar=function(c){var v,w,x,y=c.data,z=c.itemData,A=c.itemType,Y=c.onConfirm,Z=c.checkUnlockedRoninWallet,aa=c.onClose,f=y.suggestedPrice,m=al(),B=m.tokens,a=m.baseTokenOutput,j=(0,ai.J)().exchangeRate,ac=(0,O.jS)(),ad=(0,O.ec)().activeRoninAddress,n=(0,R.useState)(!0),C=n[0],ae=n[1],o=(0,R.useState)(!1),D=o[0],af=o[1],p=(0,R.useState)(f?ab.fromWei(f,a.unit):""),h=p[0],ag=p[1],q=(0,R.useState)(f),E=q[0],ah=q[1],r=(0,R.useState)(aj()(a,null)),b=r[0],am=r[1],s=(0,R.useState)(g.Idle),k=s[0],ao=s[1],t=(0,R.useState)(g.Idle),F=t[0],ap=t[1],l=(0,R.useMemo)(function(){return(null==b?void 0:b.address)===a.address},[b,a]),e=(0,R.useMemo)(function(){return k===g.Error||k===g.Requesting},[k]),G=(0,R.useMemo)(function(){return an(Number(ab.fromWei(new(M())(f),a.unit)),a,j)},[f,a,j]),H=(0,R.useMemo)(function(){return l?G:b&&j&&!e?an(Number(h),b,j):void 0},[h,b,j,l,G,e,]),J=(0,R.useMemo)(function(){return e?"--":"".concat((0,ak.xG)(h,4)," ").concat(null==b?void 0:b.symbol)},[h,b,e]),K=(0,R.useMemo)(function(){var b=ab.fromWei(f,a.unit);return(0,ak.xG)(b,4)},[f,a]),L=(0,R.useMemo)(function(){if(!e)return[!b,!h,l,"error"===k,"requesting"===k,!j,].filter(Boolean).length>0?0:(1-G/an(Number(h),b,j))*100},[h,b,j,l,k,e,]),N=(0,R.useMemo)(function(){if(!b||!a||e)return"--";var c=Number(h)*_+Number(h);return"".concat((0,ak.xG)(c,5)," ").concat(b.symbol)},[h,b,a,e]),P=(0,R.useMemo)(function(){var f,a,c=(f=b?[b]:[],a=u.subtract(f.reduce(function(a){return a.multiply($)},u)),new d.gG(a.numerator,a.denominator)),g=Number(h)*Number(c.toSignificant(6))/100,i=e||W()(L)?void 0:L-Number(c.toSignificant(6)),j=e?"--":"~".concat((0,ak.xG)(g,6)," ").concat(null==b?void 0:b.symbol);return{realizedLpFeePercent:c,realizedLPFee:(0,ak.xG)(g,4),priceImpact:i,maximumSent:N,tradePriceImpact:L,liquidityProviderFee:j,slippage:100*_}},[b,h,L,N,e,]),Q=(0,R.useMemo)(function(){if(!b||!j)return 0;var c=an(1,b,j),d=an(1,a,j);return c<0?0:d/c},[j,a,b]),S=(0,R.useMemo)(function(){switch(A){case i.Axie:return"Buy ".concat(z.name);case i.Bundle:return"Buy ".concat(z.name);case i.Item:return"Buy ".concat(z.name);case i.Land:var a=z,b="".concat(a.landType," plot (").concat(a.col,", ").concat(a.row,")");return"Buy ".concat(b);default:return"Buy now"}},[z,A]),T=function(){af(function(a){return!a})},U=(v=aq(I().mark(function b(d){var e,h,i,j,k,l;return I().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(e=ac().scopedRoninWeb3,h=Z()){b.next=5;break}return aa&&aa(),b.abrupt("return");case 5:if(!(!ad||!e)){b.next=8;break}return ao(g.Idle),b.abrupt("return");case 8:if(am(d),d.address!==(null==a?void 0:a.address)){b.next=15;break}return ao(g.Idle),ae(!0),ag(ab.fromWei(f,d.unit)),c.onSelectToken(d,f),b.abrupt("return");case 15:return ao(g.Requesting),b.prev=16,b.next=19,e.katanaContract.getAmountsIn(new(M())(f),[d.address,null==a?void 0:a.address,]).call();case 19:return j=(i=b.sent)[0],ag(k=ab.fromWei(j,d.unit)),b.next=25,d.isAllowanceEnough(ad,new(M())(j));case 25:ae(l=b.sent),ah(j),ao(g.Success),c.onSelectToken(d,j),b.next=36;break;case 32:b.prev=32,b.t0=b.catch(16),ag(""),ao(g.Error);case 36:case"end":return b.stop()}},b,null,[[16,32]])})),function(a){return v.apply(this,arguments)}),V=(w=aq(I().mark(function a(){var c,d;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=Z()){a.next=4;break}return aa&&aa(),a.abrupt("return");case 4:if(!(!b||!ad||C)){a.next=6;break}return a.abrupt("return");case 6:return ap(g.Requesting),a.next=9,b.approve(ad);case 9:(d=a.sent).success?(ap(g.Success),ae(!0)):ap(g.Error);case 11:case"end":return a.stop()}},a)})),function(){return w.apply(this,arguments)}),X=(x=aq(I().mark(function c(){var d;return I().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(d=Z()){c.next=4;break}return aa&&aa(),c.abrupt("return");case 4:if(!(!b||!ad)){c.next=6;break}return c.abrupt("return");case 6:Y({isSelectedWETH:l,amount:l?f:E,selectedToken:b,baseToken:a});case 7:case"end":return c.stop()}},c)})),function(){return x.apply(this,arguments)});return{tokens:B,baseTokenOutput:a,isSelectedBaseToken:l,isOpenViewDetail:D,totalTokenOutput:J,selectedToken:b,advancedSwapDetails:P,totalUSDAmount:H,tradeExchangeRate:Q,swapedTokenAmount:E,isAllowanceEnough:C,getAmountSwapStatus:k,titleDialog:S,approveRequestStatus:F,isIncorrectPrice:e,totalBaseTokenAmount:K,onSelectToken:U,onClickConfirm:X,onClickApprove:V,onToggleOpenViewDetail:T}},as=a(65988),x=a(76355),at=a.n(x),au=function(a){var b=a.className,c=a.loading,d=a.symbol,e=a.onClickApprove;return(0,J.jsxs)("div",{className:N()(b,at().Container),children:[(0,J.jsx)("div",{className:at().Desc,children:(0,J.jsx)(L.Popover,{position:"top-end",target:function(a){return(0,J.jsxs)("div",{className:at().Trigger,onClick:a,children:["Allow Marketplace to use your ",d,(0,J.jsx)(L.Icon,{name:P.kI,color:"var(--color-gray-2)"})]})},children:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:"jsx-c411c8b83afe28e0 "+(at().Content||""),children:["You must give the Marketplace smart contract permission to use your ",d,". You only have to do this once per token."]}),(0,J.jsx)(as.default,{id:"c411c8b83afe28e0",children:'.transition-opacity.opacity-100[data-placement="top-end"]{z-index:101}'})]})}})}),(0,J.jsxs)(L.Button,{intent:L.IntentType.Primary,loading:c,onClick:e,children:["Approve ",d]})]})},y=a(46395),av=a.n(y),z=a(18049),aw=a.n(z),ax=function(a){var c=a.errorBuy,d=a.className,b=(0,R.useMemo)(function(){switch(c){case h.General:return(0,J.jsx)("div",{className:"text-warning-4 text-12 leading-16 font-bold",children:"Something wrong. Please try again in few seconds."});case h.GetAmountError:return(0,J.jsx)("div",{className:"text-warning-4 text-12 leading-16 font-bold",children:"The request failed. Please try again."});case h.InsufficientBalance:return(0,J.jsx)("div",{className:"text-warning-4 text-12 leading-16 font-bold",children:"Insufficient balance for transaction."});case h.HighPriceImpact:return(0,J.jsxs)("div",{className:"text-gray-1 text-12 leading-16 font-bold",children:["Marketplace does not support this transaction because the fee is too high, please go to"," ",(0,J.jsx)("a",{className:"text-primary-4",href:"https://katana.roninchain.com",target:"_blank",rel:"noreferrer",children:"Katana"})," ","to swap the token."]});default:return null}},[c]);return b?(0,J.jsx)("div",{className:N()(d,aw().Container),children:(0,J.jsxs)("div",{className:aw().Content,children:[(0,J.jsx)(L.Icon,{name:P.ft,color:"var(--color-warning-4)"}),(0,J.jsx)("div",{className:aw().Message,children:b})]})}):null},A=a(28588),ay=a.n(A),az=function(a){var b=a.label,c=a.value,d=a.className;return(0,J.jsxs)("div",{className:N()(ay().Container,d),children:[(0,J.jsx)("div",{className:ay().Label,children:b}),(0,J.jsx)("div",{className:ay().Value,children:c})]})},B=a(29127),aA=a.n(B),C=a(29324),aB=a.n(C),aC=function(a){var b=a.className,c=a.selectedTokenSymbol,d=a.basedTokenSymbol;return(0,J.jsx)("div",{className:N()(b,aB().Container),children:(0,J.jsx)(L.Popover,{position:"bottom-end",target:function(a){return(0,J.jsxs)("div",{className:aB().Trigger,onClick:a,children:["Liquidity provider fee",(0,J.jsx)(L.Icon,{name:P.kI,color:"var(--color-gray-2)"})]})},children:function(){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsxs)("div",{className:"jsx-122d92b9ace8b522 "+(aB().Content||""),children:["Marketplace will automatically swap"," ",null==c?void 0:c.toUpperCase()," for"," ",null==d?void 0:d.toUpperCase(),", and this requires a small liquidity provider fee."]}),(0,J.jsx)(as.default,{id:"122d92b9ace8b522",children:'.transition-opacity.opacity-100[data-placement="bottom-end"]{z-index:101}'})]})}})})},aD=function(b){var a=b.priceImpact,c=ao(a),d=(0,R.useMemo)(function(){return c>=2?"#f82837":"#f6a300"},[c]);return W()(a)?(0,J.jsx)("div",{className:"text-14 leading-20",children:"--"}):(0,J.jsxs)("div",{className:"text-14 leading-20",style:{color:d},children:["~","0.00"===(-1*a).toFixed(2)?"<0.01":(-1*a).toFixed(2),"%"]})},aE=function(a){var b=a.liquidityProviderFee,c=a.route,d=a.priceImpact,e=a.maxSent,f=a.slippage,g=a.selectedTokenSymbol,h=a.basedTokenSymbol;return(0,J.jsxs)("div",{className:aA().Container,children:[(0,J.jsx)(az,{className:aA().Item,label:(0,J.jsx)(aC,{selectedTokenSymbol:g,basedTokenSymbol:h}),value:b}),(0,J.jsx)(az,{className:aA().Item,label:"Route",value:c}),(0,J.jsx)(az,{className:aA().Item,label:"Price impact",value:(0,J.jsx)(aD,{priceImpact:d})}),(0,J.jsx)(az,{className:aA().Item,label:"Maximum sent",value:e}),(0,J.jsx)(az,{className:aA().Item,label:"Slippage tolerence",value:f})]})},D=a(65056),aF=a.n(D),aG=function(a){var b=a.selectedToken,c=a.tokens,d=a.tokensBalance,e=a.onChange;return(0,J.jsx)("div",{className:aF().Container,children:(0,J.jsx)(L.Popover,{usePortal:!1,target:function(a){return(0,J.jsx)("div",{className:aF().Trigger,children:(0,J.jsx)(L.Button,{onClick:a,fullWidth:!0,children:(0,J.jsxs)("div",{className:"flex items-center justify-between",children:[(0,J.jsxs)("div",{className:aF().SelectedToken,children:[(0,J.jsx)("img",{src:null==b?void 0:b.imageUrl,alt:null==b?void 0:b.name,width:"16",height:"16"}),null==b?void 0:b.symbol]}),(0,J.jsx)("div",{className:"ml-24",children:(0,J.jsx)(L.Icon,{name:P.SL,color:"currentColor"})})]})})})},children:function(a){return(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("ul",{className:"jsx-ce99e6734e554bfa "+(aF().Options||""),children:c.map(function(c){var f,g;return(0,J.jsxs)("li",{onClick:(f=a,g=c,function(){f(),g.address!==(null==b?void 0:b.address)&&e(g)}),className:"jsx-ce99e6734e554bfa "+(N()(aF().Option,(null==b?void 0:b.address)===c.address?aF().SelectedOption:"")||""),children:[(0,J.jsx)("img",{src:c.imageUrl,alt:c.name,width:"16",height:"16",className:"jsx-ce99e6734e554bfa"}),(0,J.jsxs)("div",{className:"jsx-ce99e6734e554bfa "+(aF().SymbolBalance||""),children:[c.symbol,(0,J.jsx)("div",{className:"jsx-ce99e6734e554bfa "+(aF().Balance||""),children:(0,ak.xG)(d[c.symbol],3)})]})]},c.address)})}),(0,J.jsx)(as.default,{id:"ce99e6734e554bfa",children:'.transition-opacity.opacity-100[data-placement="bottom"]{z-index:5}'})]})}})})},E=a(7280),aH=a.n(E),aI=function(a){var d=a.className,e=a.total,c=a.totalUSD,b=a.tradePriceImpact,f=a.tradeExchangeRate,g=a.inputTokenSymbol,h=a.outputTokenSymbol,i=a.isSelectedBaseToken,j=(0,R.useMemo)(function(){if(b){if(b<0)return"#27AE60";var a=ao(b);return a<1?"#C3C5CB":a<3?"#e3a507":"#FD4040"}},[b]),k=(0,R.useMemo)(function(){return[g===h,W()(g),W()(h),W()(f),0===f,].filter(Boolean).length>0?"":"1".concat(g," =  ").concat((0,ak.xG)(f,2)," ").concat(h)},[g,h,f]),l=(0,R.useMemo)(function(){return!(W()(b)||isNaN(b))&&!i},[b,i]);return(0,J.jsxs)("div",{className:N()(aH().Container,d),children:[(0,J.jsxs)("div",{className:aH().PriceInfo,children:[(0,J.jsxs)("div",{className:aH().TotalRow,children:[(0,J.jsx)("div",{className:aH().TotalLabel,children:"Total"}),(0,J.jsx)("div",{className:aH().TotalValue,children:e})]}),(0,J.jsxs)("div",{className:aH().ConvertedFeeRow,children:[l&&(0,J.jsxs)("span",{className:aH().FeePercent,style:{color:j},children:["~",(-1*b).toFixed(3),"%"]}),(0,J.jsx)("span",{className:aH().TotalFiatValue,children:W()(c)?"--":"~$".concat((0,ak.xG)(c,4))})]})]}),(0,J.jsx)("div",{className:aH().TradeInfo,children:k})]})},aJ=function(d){var l=d.errorBuy,m=d.isOpen,n=d.tokensBalance,o=d.buyRequestStatus,p=d.onClose,a=ar(d),q=a.tokens,c=a.baseTokenOutput,i=a.isOpenViewDetail,b=a.selectedToken,r=a.totalTokenOutput,e=a.advancedSwapDetails,j=a.isSelectedBaseToken,s=a.totalUSDAmount,t=a.tradeExchangeRate,k=a.isAllowanceEnough,f=a.getAmountSwapStatus,u=a.titleDialog,v=a.approveRequestStatus,w=a.isIncorrectPrice,x=a.totalBaseTokenAmount,y=a.onToggleOpenViewDetail,z=a.onClickApprove,A=a.onSelectToken,B=a.onClickConfirm,C=(0,R.useMemo)(function(){return f===g.Error?h.GetAmountError:l},[f,l]);return(0,J.jsx)(Q.Z,{className:N()(av().BuyDialog),overlayClassName:av().Overlay,closeIconClassName:av().CloseIcon,isOpen:m,ariaHideApp:!1,onClose:p,children:(0,J.jsxs)("div",{className:av().Content,children:[(0,J.jsxs)("div",{className:av().Header,children:[(0,J.jsx)(L.Icon,{name:P.Vp,color:"currentColor"}),(0,J.jsx)("div",{className:av().Title,children:u})]}),(0,J.jsxs)("div",{className:av().Body,children:[c&&(0,J.jsxs)("div",{className:av().BaseToken,children:[(0,J.jsx)("div",{className:av().Label,children:"Price"}),(0,J.jsxs)("div",{className:av().BaseTokenPrice,children:[(0,J.jsx)("img",{src:c.imageUrl,alt:c.name,width:"16",height:"16"}),(0,J.jsx)("span",{children:x})]})]}),(0,J.jsxs)("div",{className:av().SelectTokenSection,children:[(0,J.jsx)("div",{className:av().Label,children:"Pay with"}),(0,J.jsx)(aG,{selectedToken:b,tokens:q,tokensBalance:n,onChange:A})]}),!j&&(0,J.jsxs)("div",{className:av().ViewDetailSection,children:[(0,J.jsx)("div",{className:av().ViewDetailTrigger,onClick:y,children:i?"Hide fees detail":"View fee details"}),i&&b&&(0,J.jsx)(aE,{liquidityProviderFee:e.liquidityProviderFee,route:[b.symbol,null==c?void 0:c.symbol].join(" > "),priceImpact:e.priceImpact,maxSent:e.maximumSent,slippage:"".concat(e.slippage,"%"),selectedTokenSymbol:b.symbol,basedTokenSymbol:c.symbol})]}),(0,J.jsx)(aI,{className:av().TotalSection,total:r,isSelectedBaseToken:j,totalUSD:s,inputTokenSymbol:c.symbol,outputTokenSymbol:null==b?void 0:b.symbol,tradeExchangeRate:t,tradePriceImpact:e.tradePriceImpact}),(0,J.jsx)(ax,{errorBuy:C}),k&&(0,J.jsx)(L.Button,{fullWidth:!0,intent:L.IntentType.Primary,onClick:B,loading:f===g.Requesting||o===g.Requesting,disabled:w,children:"Buy Now"}),!k&&(0,J.jsx)(au,{onClickApprove:z,symbol:null==b?void 0:b.symbol.toUpperCase(),loading:v===g.Requesting||f===g.Requesting})]})]})})},F=a(75360);function G(){var a,b,c=(a=["\n  mutation RevalidateAuction($listingId: ID!) {\n    revalidateAuction(listingId: $listingId)\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return G=function(){return c},c}var aK=(0,F.ZP)(G()),aL=a(2729),aM=a(85433),aN=a(96486),aO=function(a){var d=a.showDepositAction,c=a.onClose,b=a.errorMessage,e=!(0,aN.isNil)(b),f=null!=b?b:"",g=function(){c(),window.open("https://bridge.axieinfinity.com/deposit","_blank")};return(0,J.jsxs)(L.Dialog,{title:"Auction Message",open:e,onClose:c,dismissable:!1,children:[(0,J.jsx)("div",{className:"relative flex items-center justify-center mt-12",children:(0,J.jsx)(L.Icon,{name:P.ft,color:"#FF3F4C",size:72})}),(0,J.jsx)("h4",{className:"mt-20 text-center text-20 leading-24",children:"Purchase failed!"}),(0,J.jsx)("h6",{className:"mt-8 text-center text-gray-1 text-14 leading-20",children:f}),(0,J.jsxs)("div",{className:"mt-20 flex justify-center",children:[d&&(0,J.jsx)("div",{className:"mr-12",children:(0,J.jsx)(L.Button,{intent:L.IntentType.Primary,onClick:g,children:"Deposit"})}),(0,J.jsx)(L.Button,{onClick:c,children:"Close"})]})]})};function aP(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function aQ(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function aR(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){aQ(g,e,f,d,h,"next",a)}function h(a){aQ(g,e,f,d,h,"throw",a)}d(void 0)})}}function aS(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}(e=i||(i={})).Axie="axie",e.Land="land",e.Item="item",e.Bundle="bundle";var aT=function(b){var a=b.data,c=a.startingPrice,d=a.endingPrice,e=a.startingTimestamp,f=a.endingTimestamp,g=new(M())(e),h=new(M())(f),i=h.sub(g).mul(new(M())(1e3)).toString();return(0,J.jsxs)("div",{className:"p-8 bg-gray-5 border border-gray-4 rounded",children:[(0,J.jsxs)("div",{children:["Price started at: \u039E ",(0,ak._9)(c)]}),(0,J.jsxs)("div",{children:["Price goes to: \u039E ",(0,ak._9)(d)]}),(0,J.jsxs)("div",{children:["Duration:\xa0",X().duration(parseInt(i,10)).asDays()," days"]})]})},aU=function(b){var d,e,t,u,h=(0,aM.I)(),v=h.dialog,w=h.openTransactionSubmission,al=b.tokenId,x=b.owner,am=b.itemType,an=b.isValidAuctionPrice,f=(0,O.ec)().profile,ao=(0,T.P)().logActivity,j=(0,R.useState)(),y=j[0],ap=j[1],z=(d=(0,K.Db)(aK),e=1,function(a){if(Array.isArray(a))return a}(d)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(d,e)||function(a,c){if(a){if("string"==typeof a)return aP(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return aP(a,c)}}(d,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),aq=z[0],k=(0,R.useState)(!1),A=k[0],ar=k[1],l=(0,R.useState)(),B=l[0],as=l[1],m=(0,aL.j)(),C=m.dialog,D=m.checkForUnlocked,a=ah(b,{openTransactionSubmission:w}),E=a.errorBuy,F=a.isShowBuyNowDialog,G=a.tokensBalance,H=a.buyRequestStatus,Q=a.onChangeSelectToken,S=a.onCloseBuyNowDialog,at=a.onClickBuyNow,U=a.onConfirmBuyNow,au=a.requireActiveRoninAddress,av=a.requireListingIndex,aw=a.requireRoninWeb3,c=b.data,n=c.endingTimestamp,Y=c.startingTimestamp,o=c.startingPrice,p=c.endingPrice,Z=c.currentPrice,$=c.currentPriceUSD,_=new(M())(Y),q=new(M())(n),aa=q.sub(_),r=q.sub(new(M())(X().now()/1e3)),ax=!W()(f),ab=r.lt(new(M())(0)),ac=parseInt(r.mul(new(M())(100)).div(aa).toString(),10),g=Math.min(100-ac,100),s=(null==f?void 0:f.addresses.ronin)===x,ad=function(a){return function(b){if(D())return a(b)}},ay=(t=aR(I().mark(function a(){var c,d;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=aw().scopedRoninWeb3,null!==b.data.listingIndex){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,c.exchangeContract.canFacilitateListing(b.data.seller,new(M())(b.data.listingIndex)).call();case 5:if(ap(d=a.sent),!1!==d){a.next=10;break}return a.next=10,aq({variables:{listingId:b.data.listingIndex.toString()}});case 10:case"end":return a.stop()}},a)})),function(){return t.apply(this,arguments)});(0,R.useEffect)(function(){ay().catch(function(a){console.log("Error while revalidating auction."),console.error(a)})},[]);var ae,af,ag,ai,az=(u=aR(I().mark(function a(){var c,d,e,f;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=aw().scopedRoninWeb3,d=au(),!(null==(e=b.itemData.auction)||!e.listingIndex)){a.next=5;break}return a.abrupt("return",Promise.reject("Listing index not found."));case 5:return a.next=7,c.clockAuctionContract.cancelAuction(new(M())(e.listingIndex)).sendGetTxHash({from:d});case 7:return f=a.sent,a.next=10,ao(V.aU.UnlistBundle,{listingIndex:e.listingIndex,txHash:f});case 10:return a.abrupt("return",f);case 11:case"end":return a.stop()}},a)})),function(){return u.apply(this,arguments)}),aA=(ae=aR(I().mark(function a(){var c,d,e,f,g,h,i;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=aw().scopedRoninWeb3,d=au(),f=(e=b.itemData).row,g=e.col,h=av(),a.next=6,c.clockAuctionContract.cancelAuction(new(M())(h)).sendGetTxHash({from:d});case 6:return i=a.sent,a.next=9,ao(V.aU.UnlistLand,{row:f,col:g,txHash:i});case 9:return a.abrupt("return",i);case 10:case"end":return a.stop()}},a)})),function(){return ae.apply(this,arguments)}),aB=(af=aR(I().mark(function a(){var c,d,e,f,g,h,i;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=aw().scopedRoninWeb3,d=au(),f=(e=b.itemData).itemAlias,g=e.itemId,h=av(),a.next=6,c.clockAuctionContract.cancelAuction(new(M())(h)).sendGetTxHash({from:d});case 6:return i=a.sent,a.next=9,ao(V.aU.UnlistItem,{tokenId:g,itemAlias:f,txHash:i});case 9:return a.abrupt("return",i);case 10:case"end":return a.stop()}},a)})),function(){return af.apply(this,arguments)}),aC=(ag=aR(I().mark(function a(){var c,d,e,f,g;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=aw().scopedRoninWeb3,d=au(),e=b.itemData.auction){a.next=5;break}return a.abrupt("return",Promise.reject("Auction info not found."));case 5:if(f=e.listingIndex){a.next=8;break}return a.abrupt("return",Promise.reject("Listing index not found."));case 8:return a.next=10,c.clockAuctionContract.cancelAuction(new(M())(f)).sendGetTxHash({from:d});case 10:return g=a.sent,a.next=13,ao(V.aU.UnlistAxie,{axieId:al,txHash:g});case 13:return a.abrupt("return",g);case 14:case"end":return a.stop()}},a)})),function(){return ag.apply(this,arguments)}),aj=(ai=aR(I().mark(function a(b){var c;return I().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b.preventDefault(),c="",a.t0=am,a.next=a.t0===i.Axie?5:a.t0===i.Land?9:a.t0===i.Item?13:a.t0===i.Bundle?17:21;break;case 5:return a.next=7,aC();case 7:return c=a.sent,a.abrupt("break",21);case 9:return a.next=11,aA();case 11:return c=a.sent,a.abrupt("break",21);case 13:return a.next=15,aB();case 15:return c=a.sent,a.abrupt("break",21);case 17:return a.next=19,az();case 19:return c=a.sent,a.abrupt("break",21);case 21:w({txHash:c,message:"Transaction submitted successfully."});case 22:case"end":return a.stop()}},a)})),function(a){return ai.apply(this,arguments)});return(0,J.jsxs)(J.Fragment,{children:[v,(0,J.jsxs)("div",{className:"flex items-center w-full flex-wrap md:justify-end",children:[(0,J.jsx)(L.Popover,{position:"right",target:function(a){return(0,J.jsx)("div",{onClick:a,className:N()("border-r border-gray-2 py-4",{"md:block":ab,"md:hidden":!ab}),children:(0,J.jsxs)("div",{className:"flex items-center text-gray-2 cursor-pointer pr-20",children:[(0,J.jsx)(L.Icon,{name:P.TM,color:"var(--color-gray-2)"}),"Auction info"]})})},children:function(){return(0,J.jsx)(aT,function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){aS(d,a,c[a])})}return d}({},b))}}),o!==p&&(0,J.jsxs)("div",{className:N()("flex-1 hidden md:block text-12 leading-16 font-medium",{"md:hidden":ab}),children:[(0,J.jsx)("div",{className:"text-center",children:(0,J.jsx)("div",{children:X().unix(parseInt(n.toString(),10)).fromNow()})}),(0,J.jsxs)("div",{className:"flex items-center w-full",children:[(0,J.jsxs)("div",{className:"mr-8",children:["\u039E\xa0",(0,ak._9)(o)]}),(0,J.jsxs)("div",{className:"relative flex items-center flex-1",children:[(0,J.jsx)("div",{className:"bg-gray-1 rounded-full h-8 w-8"}),(0,J.jsx)("div",{className:"bg-gray-4 flex-1",style:{height:2,marginLeft:-1,marginRight:-1},children:(0,J.jsx)("div",{className:"bg-gray-1",style:{height:2,width:"".concat(g,"%")}})}),(0,J.jsx)("div",{className:N()({"bg-gray-1":g>=100},{"bg-gray-4":g<100},"rounded-full h-8 w-8")})]}),(0,J.jsxs)("div",{className:"ml-8",children:["\u039E\xa0",(0,ak._9)(p)]})]})]}),(0,J.jsxs)("div",{className:"ml-24 text-right",children:[(0,J.jsxs)("h3",{className:"break-all",children:["\u039E\xa0",(0,ak._9)(Z,4)]}),(0,J.jsxs)("h5",{className:"mt-4 text-gray-1 break-all",children:["$",(0,ak.xG)($,2)]})]}),!s&&(0,J.jsx)("div",{className:"ml-0 md:ml-24 mt-16 w-full md:w-auto md:mt-0",children:(0,J.jsx)(L.Popover,{position:"top",target:function(a){return(0,J.jsx)("div",{className:"inline-block",onMouseOver:ax?void 0:a,children:(0,J.jsx)(L.Button,{disabled:!ax||!1===y||!an,intent:L.IntentType.Primary,onClick:ad(at),children:(0,J.jsxs)("div",{className:"flex items-center",children:[(0,J.jsx)("img",{src:"/static/image/ronin-logo-white.png",className:"mr-8",width:14}),(0,J.jsx)("div",{children:"Buy now"})]})})})},children:function(){return(0,J.jsxs)("div",{className:"m-8 bg-gray-6 py-4 px-12 rounded",children:["Please login to buy this\xa0",(0,J.jsx)("span",{className:"capitalize",children:am.toLowerCase()})]})}})}),s&&(0,J.jsx)("div",{className:"ml-0 md:ml-24 mt-16 w-full md:w-auto md:mt-0",children:(0,J.jsx)(L.Button,{intent:L.IntentType.Danger,onClick:ad(aj),children:"Cancel Selling"})})]}),!1===y&&(0,J.jsx)("div",{className:"text-warning-4 w-full text-right mt-8",children:"This auction is no longer available. Please try again later."}),(0,J.jsx)(aO,{showDepositAction:A,onClose:function(){ar(!1),as(void 0)},errorMessage:B}),b.data&&(0,J.jsx)(aJ,{data:b.data,isOpen:F,itemData:b.itemData,itemType:b.itemType,errorBuy:E,buyRequestStatus:H,tokensBalance:G,checkUnlockedRoninWallet:D,onClose:S,onConfirm:U,onSelectToken:Q}),C]})}},52909:function(g,b,a){"use strict";var h=a(85893),i=a(65988),c=a(94184),j=a.n(c),d=a(82492),k=a.n(d);a(67294);var e=a(83253),l=a.n(e),f=a(63714),m=a.n(f);function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}b.Z=function(a){var d=a.isOpen,e=a.className,f=a.children,g=a.styles,o=a.closeIconClassName,b=a.title,c=a.onClose,p=function(a,d){if(null==a)return{};var b,c,e=function(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}(a,d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)b=f[c],!(d.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(e[b]=a[b])}return e}(a,["isOpen","className","children","styles","closeIconClassName","title","onClose"]),q=k()({overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{position:"relative"}},g||{}),r=b?(0,h.jsx)("h4",{className:m().Header,children:b}):null;return(0,h.jsxs)(l(),function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){n(d,a,c[a])})}return d}({},p,{className:e,isOpen:d,style:q,onRequestClose:c,children:[(0,h.jsx)("div",{onClick:c,className:"jsx-149e2fb4d0243941 "+(j()(m().CloseIcon,o)||""),children:(0,h.jsx)("span",{className:"jsx-149e2fb4d0243941 block w-16 h-16 text-16 leading-16 text-light-gray-5 font-bold text-center",children:"\u2715"})}),r,(0,h.jsx)("div",{className:"jsx-149e2fb4d0243941 "+(m().Content||""),children:f}),(0,h.jsx)(i.default,{id:"149e2fb4d0243941",children:".ReactModal__Overlay{opacity:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;z-index:100;position:fixed}.ReactModal__Overlay--after-open{opacity:1}.ReactModal__Overlay--before-close{opacity:0}"})]}))}},54073:function(c,b,a){"use strict";a.d(b,{R:function(){return e}});var d=a(47890),e=function(e){for(var c=arguments.length,f=new Array(c>1?c-1:0),a=1;a<c;a++)f[a-1]=arguments[a];var b=e.map(function(a,b){return b<e.length-1?a+f[b]:a}).join("");return(0,d.isAddress)(b)&&b.startsWith("0x")?"ronin:".concat(b.split("0x")[1]):b}},85433:function(d,b,a){"use strict";a.d(b,{I:function(){return i}});var e=a(85893),c=a(52353),f=a.n(c),g=a(67294),h=a(74664),i=function(){var b=(0,g.useState)(!1),d=b[0],i=b[1],c=(0,g.useState)(),a=c[0],j=c[1];return{openTransactionSubmission:function(a){i(!0),j(a)},dialog:(0,e.jsx)(e.Fragment,{children:!f()(a)&&(0,e.jsx)(h.g,{open:d,onClose:function(){i(!1)},txHash:a.txHash,children:a.message})})}}},74664:function(d,b,a){"use strict";a.d(b,{g:function(){return i}});var e=a(85893),f=a(21033),g=a(9008),c=a(41664),h=a.n(c);a(67294);var i=function(a){var b=a.children,c=a.onClose,d=a.open;return(0,e.jsxs)(f.Dialog,{open:d,dismissable:!1,onClose:c,title:"Transaction Submitted",children:[(0,e.jsx)(g.default,{children:(0,e.jsx)("link",{href:"/static/css/transaction-submission-dialog.css",rel:"stylesheet"})}),b,(0,e.jsxs)("div",{className:"mt-24 w-full flex flex-col-reverse sm:flex-row",children:[(0,e.jsx)("div",{className:"flex-1 mr-0 sm:mr-8",children:(0,e.jsx)(f.Button,{onClick:a.onClose,fullWidth:!0,children:"Close"})}),a.primaryAction||(0,e.jsx)(h(),{as:"/profile/activity",href:"/profile/activity",children:(0,e.jsx)("a",{rel:"noopener noreferrer",className:"flex-1 my-8 sm:my-0",children:(0,e.jsx)(f.Button,{intent:f.IntentType.Primary,fullWidth:!0,children:"Go to my activity"})})})]})]})}},2729:function(c,b,a){"use strict";a.d(b,{V:function(){return m},j:function(){return n}});var d=a(85893),e=a(21033),f=a(67294),g=a(76614),h=a(81291),i=a(65988),j=a(54073);function k(){var a,b,c=(a=["",""],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return k=function(){return c},c}var l=function(a){var b=a.accountRoninAddress,c=a.onClose;return(0,d.jsxs)(e.Dialog,{title:"Mismatch Ronin address",dismissable:!1,open:a.open,onClose:c,children:[(0,d.jsx)(i.default,{id:"7abb5b3243e12cc2",children:"#react-aria-modal-dialog{width:640px!important}"}),(0,d.jsxs)("div",{style:{width:"100%"},className:"jsx-7abb5b3243e12cc2 text-center",children:[(0,d.jsx)("img",{src:"/static/image/ronin-warning.png",width:72,height:80,className:"jsx-7abb5b3243e12cc2 m-auto"}),(0,d.jsx)("div",{className:"jsx-7abb5b3243e12cc2 text-white text-20 leading-28 mt-20",children:"Wrong Ronin Wallet"}),(0,d.jsxs)("div",{className:"jsx-7abb5b3243e12cc2 text-14 text-center text-gray-1 mt-8",children:["Your current Axie account and Ronin wallet address don\u2019t match. ",(0,d.jsx)("br",{className:"jsx-7abb5b3243e12cc2"}),"Please go to your Ronin wallet and switch the address to:"]}),b&&(0,d.jsx)("div",{style:{background:"#3a3f50",width:200,color:"#a1a6b6"},className:"jsx-7abb5b3243e12cc2 text-16 leading-20 rounded-4 py-0 px-8 truncate mt-8 mx-auto",children:(0,j.R)(k(),b)}),(0,d.jsx)("div",{className:"jsx-7abb5b3243e12cc2 flex flex-row justify-center mt-28",children:(0,d.jsx)(e.Button,{onClick:c,children:"Got it"})})]})]})},m=function(a){var c=a.open,b=a.onClose;return(0,d.jsx)(e.Dialog,{open:c,onClose:b,title:" ",dismissable:!1,children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("img",{src:"/static/image/ronin-locked.png",width:72,height:79,className:"mx-auto"}),(0,d.jsx)("div",{className:"mt-12 text-20 leading-28",children:"Unlock Ronin Wallet"}),(0,d.jsx)("div",{className:"mt-8 text-gray-1",children:"Please unlock your Ronin Wallet to perform this action."}),(0,d.jsx)("div",{className:"mt-24",children:(0,d.jsx)(e.Button,{onClick:b,children:"Got it"})})]})})},n=function(){var a,b=(0,g.ec)(),p=b.activeRoninAddress,e=b.profile,t=b.roninConnection,i=(0,f.useState)(!1),c=i[0],u=i[1],j=(0,f.useState)(!1),q=j[0],v=j[1],k=(0,f.useState)(!1),r=k[0],w=k[1],n=(0,f.useState)(!1),s=n[0],x=n[1],o=function(){u(!1)},y=function(){var a=void 0===t.connector;return v(a),a},z=function(){var a=void 0===p;return x(a),a},A=function(){var a=void 0!==p&&(null==e?void 0:e.addresses.ronin)!==void 0&&p!==(null==e?void 0:e.addresses.ronin);return w(a),a};return q?a=(0,d.jsx)(h.u,{wallet:h.S.Ronin,open:c,onClose:function(){return u(!1)}}):s?a=(0,d.jsx)(m,{open:c,onClose:o}):r&&(a=(0,d.jsx)(l,{open:c,onClose:o,accountRoninAddress:null==e?void 0:e.addresses.ronin,activeRoninAddress:p})),{checkForUnlocked:function(){return!(y()||z()||A())||(u(!0),!1)},dialog:a}}},72072:function(i,g,h){"use strict";var d,e,f,c,a,b;h.d(g,{H7:function(){return d},Ok:function(){return f},V3:function(){return e}}),(c=d||(d={})).LOW_PRICED="low_priced",c.FILTER="filter",c.PAY_ASSETS="pay_assets",(a=e||(e={})).LOW_PRICED_VIEW_DIALOG="low-priced_view",a.LOW_PRICED_CLICK_BACK="low-priced_click-back",a.LOW_PRICED_CLICK_CONFIRM="low-priced_click-confirm",a.AXIE_FILTER_SAVE="axie_filter_save",a.AXIE_FILTER_REMOVE="axie_filter_remove",a.AXIE_FILTER_PURITY="axie_filter_purity",a.AXIE_FILTER_JAPANESE="axie_filter_japanese",a.AXIE_FILTER_CHRISTMAS="axie_filter_christmas",a.AXIE_FILTER_EXCLUDE_PARTS="axie_filter_exclude_part",a.PAY_IN_SLP="pay_in_slp",a.PAY_IN_AXS="pay_in_axs",a.PAY_IN_WETH="pay_in_weth",a.PAY_IN_USDC="pay_in_usdc",(b=f||(f={})).LOW_PRICED_VIEW_DIALOG="low-priced_view",b.LOW_PRICED_CLICK_BACK="low-priced_click-back",b.LOW_PRICED_CLICK_CONFIRM="low-priced_click-confirm",b.AXIE_FILTER_SAVE="axie_filter_save",b.AXIE_FILTER_REMOVE="axie_filter_remove",b.AXIE_FILTER_PURITY="axie_filter_purity",b.AXIE_FILTER_JAPANESE="axie_filter_japanese",b.AXIE_FILTER_CHRISTMAS="axie_filter_christmas",b.AXIE_FILTER_EXCLUDE_PARTS="axie_filter_exclude_part",b.PAY_IN_SLP="pay_in_slp",b.PAY_IN_AXS="pay_in_axs",b.PAY_IN_WETH="pay_in_weth",b.PAY_IN_USDC="pay_in_usdc"},35721:function(c,b,a){"use strict";a.d(b,{F:function(){return f},Z:function(){return e}});var d=a(60114),e=function(a){var b=BigInt.asIntN(64,BigInt(a)>>BigInt(128)),c=BigInt.asIntN(64,BigInt(a)<<BigInt(128)>>BigInt(128));return{itemId:Number(c),tokenType:Number(b)}},f=function(a){return"".concat(d.v.itemStorageUrl,"/").concat(a,".png")}},39957:function(d,b,a){"use strict";a.d(b,{"B$":function(){return i},JA:function(){return h},"_v":function(){return j},g3:function(){return g},yG:function(){return f}});var c=a(30381),e=a.n(c),f=function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e().now()/1e3-a>86400?e().unix(a).format("MMM DD, YYYY".concat(b?" - HH:mm":"")):e().unix(a).fromNow()},g=function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e().unix(a).format("MMM DD, YYYY".concat(b?" - HH:mm":""))},h=function(a){return e().unix(a).format("HH:mm")},i=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return a>0?"".concat(a," ").concat(b).concat(1!==a?c:""):void 0},j=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return new Promise(function(b){return setTimeout(b,a)})}},46395:function(a){a.exports={BuyDialog:"BuyDialog_BuyDialog___K_5f",CloseIcon:"BuyDialog_CloseIcon__35DNz",Overlay:"BuyDialog_Overlay__NKqEC",Content:"BuyDialog_Content___o60a",Header:"BuyDialog_Header__ZHnaI",Title:"BuyDialog_Title__Nf9vO",SelectTokenSection:"BuyDialog_SelectTokenSection__BLX_S",ViewDetailSection:"BuyDialog_ViewDetailSection__AOU__",ViewDetailTrigger:"BuyDialog_ViewDetailTrigger__cbklB",TotalSection:"BuyDialog_TotalSection__O2S_e",Label:"BuyDialog_Label__Jo48P",BaseToken:"BuyDialog_BaseToken__7I9BF",BaseTokenPrice:"BuyDialog_BaseTokenPrice__hdd4d"}},76355:function(a){a.exports={Container:"ApproveToken_Container__Nc97w",Desc:"ApproveToken_Desc___xBi9",Trigger:"ApproveToken_Trigger__2lzn_",Content:"ApproveToken_Content__8M4dZ"}},18049:function(a){a.exports={Container:"ErrorMessage_Container__pz_DP",Content:"ErrorMessage_Content__AQvOq",Message:"ErrorMessage_Message__XeNBg"}},29127:function(a){a.exports={Container:"FeesDetail_Container__69x2G",Item:"FeesDetail_Item__uH__F"}},28588:function(a){a.exports={Container:"FeeItem_Container__RONJ7",Label:"FeeItem_Label__7p122",Value:"FeeItem_Value__FfoCY"}},29324:function(a){a.exports={Container:"LiquidityFeeLabel_Container__9ZAn4",Trigger:"LiquidityFeeLabel_Trigger__Ij0e5",Content:"LiquidityFeeLabel_Content__bnMf6"}},65056:function(a){a.exports={Options:"SelectTokens_Options__t3TVA",Option:"SelectTokens_Option__2n_QY",Trigger:"SelectTokens_Trigger__6oTZM",SelectedToken:"SelectTokens_SelectedToken__QL9hv",SelectedOption:"SelectTokens_SelectedOption__wdv3R",SymbolBalance:"SelectTokens_SymbolBalance__LH9Oz",Balance:"SelectTokens_Balance__SiQ9g"}},7280:function(a){a.exports={PriceInfo:"TotalSection_PriceInfo__YCWvn",TotalRow:"TotalSection_TotalRow__LDgva",TotalLabel:"TotalSection_TotalLabel__xmGHL",TotalValue:"TotalSection_TotalValue__1ho1T",ConvertedFeeRow:"TotalSection_ConvertedFeeRow__DS4L1",FeePercent:"TotalSection_FeePercent__pXbWG",TotalFiatValue:"TotalSection_TotalFiatValue__Oj_vJ",TradeInfo:"TotalSection_TradeInfo__TjU08"}},63714:function(a){a.exports={Content:"Modal_Content__Gw0jf",Header:"Modal_Header__mOAlb",CloseIcon:"Modal_CloseIcon__pJ8lC"}},34640:function(){}}])